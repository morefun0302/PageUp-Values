this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.initialize(t,e,i)},e=t.prototype;e.type=null,e.target=null,e.currentTarget=null,e.eventPhase=0,e.bubbles=!1,e.cancelable=!1,e.timeStamp=0,e.defaultPrevented=!1,e.propagationStopped=!1,e.immediatePropagationStopped=!1,e.removed=!1,e.initialize=function(t,e,i){this.type=t,this.bubbles=e,this.cancelable=i,this.timeStamp=(new Date).getTime()},e.preventDefault=function(){this.defaultPrevented=!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){var t=function(){},e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e._listeners=null,e._captureListeners=null,e.initialize=function(){},e.addEventListener=function(t,e,i){var n;n=i?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var s=n[t];return s&&this.removeEventListener(t,e,i),s=n[t],s?s.push(e):n[t]=[e],e},e.on=function(t,e,i,n,s,r){return e.handleEvent&&(i=i||e,e=e.handleEvent),i=i||this,this.addEventListener(t,function(t){e.call(i,t,s),n&&t.remove()},r)},e.removeEventListener=function(t,e,i){var n=i?this._captureListeners:this._listeners;if(n){var s=n[t];if(s)for(var r=0,a=s.length;a>r;r++)if(s[r]==e){1==a?delete n[t]:s.splice(r,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e){if("string"==typeof t){var i=this._listeners;if(!i||!i[t])return!1;t=new createjs.Event(t)}if(t.target=e||this,t.bubbles&&this.parent){for(var n=this,s=[n];n.parent;)s.push(n=n.parent);var r,a=s.length;for(r=a-1;r>=0&&!t.propagationStopped;r--)s[r]._dispatchEvent(t,1+(0==r));for(r=1;a>r&&!t.propagationStopped;r++)s[r]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,i=this._captureListeners;return!!(e&&e[t]||i&&i[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var i,n=1==e?this._captureListeners:this._listeners;if(t&&n){var s=n[t.type];if(!s||!(i=s.length))return;t.currentTarget=this,t.eventPhase=e,t.removed=!1,s=s.slice();for(var r=0;i>r&&!t.immediatePropagationStopped;r++){var a=s[r];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){createjs.indexOf=function(t,e){for(var i=0,n=t.length;n>i;i++)if(e===t[i])return i;return-1}}(),this.createjs=this.createjs||{},function(){var t=function(){throw"UID cannot be instantiated"};t._nextID=0,t.get=function(){return t._nextID++},createjs.UID=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"Ticker cannot be instantiated."};t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.useRAF=!1,t.timingMode=null,t.maxDelta=0,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._paused=!1,t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.setInterval(t._interval))},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick")},t.setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.getInterval=function(){return t._interval},t.setFPS=function(e){t.setInterval(1e3/e)},t.getFPS=function(){return 1e3/t._interval},t.getMeasuredTickTime=function(e){var i=0,n=t._tickTimes;if(1>n.length)return-1;e=Math.min(n.length,e||0|t.getFPS());for(var s=0;e>s;s++)i+=n[s];return i/e},t.getMeasuredFPS=function(e){var i=t._times;return 2>i.length?-1:(e=Math.min(i.length-1,e||0|t.getFPS()),1e3/((i[0]-i[e])/e))},t.setPaused=function(e){t._paused=e},t.getPaused=function(){return t._paused},t.getTime=function(e){return t._getTime()-t._startTime-(e?t._pausedTime:0)},t.getEventTime=function(e){return(t._lastTime||t._startTime)-(e?t._pausedTime:0)},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){var e=t._getTime()-t._startTime;t._timerId=null,t._setupTick(),e-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode||t.useRAF&&t.RAF_SYNCHED;if(e==t.RAF_SYNCHED||e==t.RAF){var i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(i)return t._timerId=i(e==t.RAF?t._handleRAF:t._handleSynch),t._raf=!0,void 0}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t._getTime()-t._startTime,i=e-t._lastTime,n=t._paused;if(t._ticks++,n&&(t._pausedTicks++,t._pausedTime+=i),t._lastTime=e,t.hasEventListener("tick")){var s=new createjs.Event("tick"),r=t.maxDelta;s.delta=r&&i>r?r:i,s.paused=n,s.time=e,s.runTime=e-t._pausedTime,t.dispatchEvent(s)}for(t._tickTimes.unshift(t._getTime()-e);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(e);t._times.length>100;)t._times.pop()};var e=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);t._getTime=function(){return e&&e.call(performance)||(new Date).getTime()},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n,s,r,a,o,l,u){this.initialize(t,e,i,n,s,r,a,o,l,u)},e=t.prototype=new createjs.Event;e.stageX=0,e.stageY=0,e.rawX=0,e.rawY=0,e.nativeEvent=null,e.pointerID=0,e.primary=!1,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY}})}catch(i){}e.Event_initialize=e.initialize,e.initialize=function(t,e,i,n,s,r,a,o,l,u){this.Event_initialize(t,e,i),this.stageX=n,this.stageY=s,this.nativeEvent=r,this.pointerID=a,this.primary=o,this.rawX=null==l?n:l,this.rawY=null==u?s:u},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n,s,r){this.initialize(t,e,i,n,s,r)},e=t.prototype;t.identity=null,t.DEG_TO_RAD=Math.PI/180,e.a=1,e.b=0,e.c=0,e.d=1,e.tx=0,e.ty=0,e.alpha=1,e.shadow=null,e.compositeOperation=null,e.initialize=function(t,e,i,n,s,r){return this.a=null==t?1:t,this.b=e||0,this.c=i||0,this.d=null==n?1:n,this.tx=s||0,this.ty=r||0,this},e.prepend=function(t,e,i,n,s,r){var a=this.tx;if(1!=t||0!=e||0!=i||1!=n){var o=this.a,l=this.c;this.a=o*t+this.b*i,this.b=o*e+this.b*n,this.c=l*t+this.d*i,this.d=l*e+this.d*n}return this.tx=a*t+this.ty*i+s,this.ty=a*e+this.ty*n+r,this},e.append=function(t,e,i,n,s,r){var a=this.a,o=this.b,l=this.c,u=this.d;return this.a=t*a+e*l,this.b=t*o+e*u,this.c=i*a+n*l,this.d=i*o+n*u,this.tx=s*a+r*l+this.tx,this.ty=s*o+r*u+this.ty,this},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty),this.prependProperties(t.alpha,t.shadow,t.compositeOperation),this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty),this.appendProperties(t.alpha,t.shadow,t.compositeOperation),this},e.prependTransform=function(e,i,n,s,r,a,o,l,u){if(r%360)var h=r*t.DEG_TO_RAD,c=Math.cos(h),d=Math.sin(h);else c=1,d=0;return(l||u)&&(this.tx-=l,this.ty-=u),a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.prepend(c*n,d*n,-d*s,c*s,0,0),this.prepend(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,i)):this.prepend(c*n,d*n,-d*s,c*s,e,i),this},e.appendTransform=function(e,i,n,s,r,a,o,l,u){if(r%360)var h=r*t.DEG_TO_RAD,c=Math.cos(h),d=Math.sin(h);else c=1,d=0;return a||o?(a*=t.DEG_TO_RAD,o*=t.DEG_TO_RAD,this.append(Math.cos(o),Math.sin(o),-Math.sin(a),Math.cos(a),e,i),this.append(c*n,d*n,-d*s,c*s,0,0)):this.append(c*n,d*n,-d*s,c*s,e,i),(l||u)&&(this.tx-=l*this.a+u*this.c,this.ty-=l*this.b+u*this.d),this},e.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,s=this.c,r=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=s*e-this.d*i,this.d=s*i+this.d*e,this.tx=r*e-this.ty*i,this.ty=r*i+this.ty*e,this},e.skew=function(e,i){return e*=t.DEG_TO_RAD,i*=t.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},e.translate=function(t,e){return this.tx+=t,this.ty+=e,this},e.identity=function(){return this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null,this},e.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,s=this.tx,r=t*n-e*i;return this.a=n/r,this.b=-e/r,this.c=-i/r,this.d=t/r,this.tx=(i*this.ty-n*s)/r,this.ty=-(t*this.ty-e*s)/r,this},e.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d},e.transformPoint=function(t,e,i){return i=i||{},i.x=t*this.a+e*this.c+this.tx,i.y=t*this.b+e*this.d+this.ty,i},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var i=Math.atan2(-this.c,this.d),n=Math.atan2(this.b,this.a);return i==n?(e.rotation=n/t.DEG_TO_RAD,0>this.a&&this.d>=0&&(e.rotation+=0>=e.rotation?180:-180),e.skewX=e.skewY=0):(e.skewX=i/t.DEG_TO_RAD,e.skewY=n/t.DEG_TO_RAD),e},e.reinitialize=function(t,e,i,n,s,r,a,o,l){return this.initialize(t,e,i,n,s,r),this.alpha=null==a?1:a,this.shadow=o,this.compositeOperation=l,this},e.copy=function(t){return this.reinitialize(t.a,t.b,t.c,t.d,t.tx,t.ty,t.alpha,t.shadow,t.compositeOperation)},e.appendProperties=function(t,e,i){return this.alpha*=t,this.shadow=e||this.shadow,this.compositeOperation=i||this.compositeOperation,this},e.prependProperties=function(t,e,i){return this.alpha*=t,this.shadow=this.shadow||e,this.compositeOperation=this.compositeOperation||i,this},e.clone=function(){return(new t).copy(this)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t,createjs.Matrix2D=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e){this.initialize(t,e)},e=t.prototype;e.x=0,e.y=0,e.initialize=function(t,e){return this.x=null==t?0:t,this.y=null==e?0:e,this},e.copy=function(t){return this.initialize(t.x,t.y)},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype;e.x=0,e.y=0,e.width=0,e.height=0,e.initialize=function(t,e,i,n){return this.x=t||0,this.y=e||0,this.width=i||0,this.height=n||0,this},e.copy=function(t){return this.initialize(t.x,t.y,t.width,t.height)},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n,s,r,a){this.initialize(t,e,i,n,s,r,a)},e=t.prototype;e.target=null,e.overLabel=null,e.outLabel=null,e.downLabel=null,e.play=!1,e._isPressed=!1,e._isOver=!1,e.initialize=function(t,e,i,n,s,r,a){t.addEventListener&&(this.target=t,t.cursor="pointer",this.overLabel=null==i?"over":i,this.outLabel=null==e?"out":e,this.downLabel=null==n?"down":n,this.play=s,this.setEnabled(!0),this.handleEvent({}),r&&(a&&(r.actionsEnabled=!1,r.gotoAndStop&&r.gotoAndStop(a)),t.hitArea=r))},e.setEnabled=function(t){var e=this.target;t?(e.addEventListener("rollover",this),e.addEventListener("rollout",this),e.addEventListener("mousedown",this),e.addEventListener("pressup",this)):(e.removeEventListener("rollover",this),e.removeEventListener("rollout",this),e.removeEventListener("mousedown",this),e.removeEventListener("pressup",this))},e.toString=function(){return"[ButtonHelper]"},e.handleEvent=function(t){var e,i=this.target,n=t.type;"mousedown"==n?(this._isPressed=!0,e=this.downLabel):"pressup"==n?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"rollover"==n?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?i.gotoAndPlay&&i.gotoAndPlay(e):i.gotoAndStop&&i.gotoAndStop(e)},createjs.ButtonHelper=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype;t.identity=null,e.color=null,e.offsetX=0,e.offsetY=0,e.blur=0,e.initialize=function(t,e,i,n){this.color=t,this.offsetX=e,this.offsetY=i,this.blur=n},e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},t.identity=new t("transparent",0,0,0),createjs.Shadow=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.EventDispatcher;e.complete=!0,e.framerate=0,e._animations=null,e._frames=null,e._images=null,e._data=null,e._loadCount=0,e._frameHeight=0,e._frameWidth=0,e._numFrames=0,e._regX=0,e._regY=0,e.initialize=function(t){var e,i,n,s;if(null!=t){if(this.framerate=t.framerate||0,t.images&&(i=t.images.length)>0)for(s=this._images=[],e=0;i>e;e++){var r=t.images[e];if("string"==typeof r){var a=r;r=document.createElement("img"),r.src=a}s.push(r),r.getContext||r.complete||(this._loadCount++,this.complete=!1,function(t){r.onload=function(){t._handleImageLoad()}}(this))}if(null==t.frames);else if(t.frames instanceof Array)for(this._frames=[],s=t.frames,e=0,i=s.length;i>e;e++){var o=s[e];this._frames.push({image:this._images[o[4]?o[4]:0],rect:new createjs.Rectangle(o[0],o[1],o[2],o[3]),regX:o[5]||0,regY:o[6]||0})}else n=t.frames,this._frameWidth=n.width,this._frameHeight=n.height,this._regX=n.regX||0,this._regY=n.regY||0,this._numFrames=n.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(n=t.animations)){this._data={};var l;for(l in n){var u={name:l},h=n[l];if("number"==typeof h)s=u.frames=[h];else if(h instanceof Array)if(1==h.length)u.frames=[h[0]];else for(u.speed=h[3],u.next=h[2],s=u.frames=[],e=h[0];h[1]>=e;e++)s.push(e);else{u.speed=h.speed,u.next=h.next;var c=h.frames;s=u.frames="number"==typeof c?[c]:c.slice(0)}(u.next===!0||void 0===u.next)&&(u.next=l),(u.next===!1||2>s.length&&u.next==l)&&(u.next=null),u.speed||(u.speed=1),this._animations.push(l),this._data[l]=u}}}},e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimations=function(){return this._animations.slice(0)},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t,e){var i=this.getFrame(t);return i?(e||new createjs.Rectangle).initialize(-i.regX,-i.regY,i.rect.width,i.rect.height):null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){var e=new t;return e.complete=this.complete,e._animations=this._animations,e._frames=this._frames,e._images=this._images,e._data=this._data,e._frameHeight=this._frameHeight,e._frameWidth=this._frameWidth,e._numFrames=this._numFrames,e._loadCount=this._loadCount,e},e._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];for(var t=0,e=this._frameWidth,i=this._frameHeight,n=0,s=this._images;s.length>n;n++){for(var r=s[n],a=0|r.width/e,o=0|r.height/i,l=this._numFrames>0?Math.min(this._numFrames-t,a*o):a*o,u=0;l>u;u++)this._frames.push({image:r,rect:new createjs.Rectangle(u%a*e,(0|u/a)*i,e,i),regX:this._regX,regY:this._regY});t+=l}this._numFrames=t}},createjs.SpriteSheet=t}(),this.createjs=this.createjs||{},function(){function t(t,e,i){this.f=t,this.params=e,this.path=null==i?!0:i}t.prototype.exec=function(t){this.f.apply(t,this.params)};var e=function(){this.initialize()},i=e.prototype;e.getRGB=function(t,e,i,n){return null!=t&&null==i&&(n=e,i=255&t,e=255&t>>8,t=255&t>>16),null==n?"rgb("+t+","+e+","+i+")":"rgba("+t+","+e+","+i+","+n+")"},e.getHSL=function(t,e,i,n){return null==n?"hsl("+t%360+","+e+"%,"+i+"%)":"hsla("+t%360+","+e+"%,"+i+"%,"+n+")"},e.Command=t,e.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},e.STROKE_CAPS_MAP=["butt","round","square"],e.STROKE_JOINTS_MAP=["miter","round","bevel"];var n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(n.getContext){var s=e._ctx=n.getContext("2d");e.beginCmd=new t(s.beginPath,[],!1),e.fillCmd=new t(s.fill,[],!1),e.strokeCmd=new t(s.stroke,[],!1),n.width=n.height=1}i._strokeInstructions=null,i._strokeStyleInstructions=null,i._strokeIgnoreScale=!1,i._fillInstructions=null,i._fillMatrix=null,i._instructions=null,i._oldInstructions=null,i._activeInstructions=null,i._active=!1,i._dirty=!1,i.initialize=function(){this.clear(),this._ctx=e._ctx},i.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)},i.draw=function(t){this._dirty&&this._updateInstructions();for(var e=this._instructions,i=0,n=e.length;n>i;i++)e[i].exec(t)},i.drawAsPath=function(t){this._dirty&&this._updateInstructions();for(var e,i=this._instructions,n=0,s=i.length;s>n;n++)((e=i[n]).path||0==n)&&e.exec(t)},i.moveTo=function(e,i){return this._activeInstructions.push(new t(this._ctx.moveTo,[e,i])),this},i.lineTo=function(e,i){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.lineTo,[e,i])),this},i.arcTo=function(e,i,n,s,r){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.arcTo,[e,i,n,s,r])),this},i.arc=function(e,i,n,s,r,a){return this._dirty=this._active=!0,null==a&&(a=!1),this._activeInstructions.push(new t(this._ctx.arc,[e,i,n,s,r,a])),this},i.quadraticCurveTo=function(e,i,n,s){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.quadraticCurveTo,[e,i,n,s])),this},i.bezierCurveTo=function(e,i,n,s,r,a){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.bezierCurveTo,[e,i,n,s,r,a])),this},i.rect=function(e,i,n,s){return this._dirty=this._active=!0,this._activeInstructions.push(new t(this._ctx.rect,[e,i,n,s])),this},i.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new t(this._ctx.closePath,[]))),this},i.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=this._fillMatrix=null,this._active=this._dirty=this._strokeIgnoreScale=!1,this},i.beginFill=function(e){return this._active&&this._newPath(),this._fillInstructions=e?[new t(this._setProp,["fillStyle",e],!1)]:null,this._fillMatrix=null,this},i.beginLinearGradientFill=function(e,i,n,s,r,a){this._active&&this._newPath();for(var o=this._ctx.createLinearGradient(n,s,r,a),l=0,u=e.length;u>l;l++)o.addColorStop(i[l],e[l]);return this._fillInstructions=[new t(this._setProp,["fillStyle",o],!1)],this._fillMatrix=null,this},i.beginRadialGradientFill=function(e,i,n,s,r,a,o,l){this._active&&this._newPath();for(var u=this._ctx.createRadialGradient(n,s,r,a,o,l),h=0,c=e.length;c>h;h++)u.addColorStop(i[h],e[h]);return this._fillInstructions=[new t(this._setProp,["fillStyle",u],!1)],this._fillMatrix=null,this},i.beginBitmapFill=function(e,i,n){this._active&&this._newPath(),i=i||"";var s=this._ctx.createPattern(e,i);return this._fillInstructions=[new t(this._setProp,["fillStyle",s],!1)],this._fillMatrix=n?[n.a,n.b,n.c,n.d,n.tx,n.ty]:null,this},i.endFill=function(){return this.beginFill()},i.setStrokeStyle=function(i,n,s,r,a){return this._active&&this._newPath(),this._strokeStyleInstructions=[new t(this._setProp,["lineWidth",null==i?"1":i],!1),new t(this._setProp,["lineCap",null==n?"butt":isNaN(n)?n:e.STROKE_CAPS_MAP[n]],!1),new t(this._setProp,["lineJoin",null==s?"miter":isNaN(s)?s:e.STROKE_JOINTS_MAP[s]],!1),new t(this._setProp,["miterLimit",null==r?"10":r],!1)],this._strokeIgnoreScale=a,this},i.beginStroke=function(e){return this._active&&this._newPath(),this._strokeInstructions=e?[new t(this._setProp,["strokeStyle",e],!1)]:null,this},i.beginLinearGradientStroke=function(e,i,n,s,r,a){this._active&&this._newPath();for(var o=this._ctx.createLinearGradient(n,s,r,a),l=0,u=e.length;u>l;l++)o.addColorStop(i[l],e[l]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",o],!1)],this},i.beginRadialGradientStroke=function(e,i,n,s,r,a,o,l){this._active&&this._newPath();for(var u=this._ctx.createRadialGradient(n,s,r,a,o,l),h=0,c=e.length;c>h;h++)u.addColorStop(i[h],e[h]);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",u],!1)],this},i.beginBitmapStroke=function(e,i){this._active&&this._newPath(),i=i||"";var n=this._ctx.createPattern(e,i);return this._strokeInstructions=[new t(this._setProp,["strokeStyle",n],!1)],this},i.endStroke=function(){return this.beginStroke(),this},i.curveTo=i.quadraticCurveTo,i.drawRect=i.rect,i.drawRoundRect=function(t,e,i,n,s){return this.drawRoundRectComplex(t,e,i,n,s,s,s,s),this},i.drawRoundRectComplex=function(e,i,n,s,r,a,o,l){var u=(s>n?n:s)/2,h=0,c=0,d=0,p=0;0>r&&(r*=h=-1),r>u&&(r=u),0>a&&(a*=c=-1),a>u&&(a=u),0>o&&(o*=d=-1),o>u&&(o=u),0>l&&(l*=p=-1),l>u&&(l=u),this._dirty=this._active=!0;var f=this._ctx.arcTo,g=this._ctx.lineTo;return this._activeInstructions.push(new t(this._ctx.moveTo,[e+n-a,i]),new t(f,[e+n+a*c,i-a*c,e+n,i+a,a]),new t(g,[e+n,i+s-o]),new t(f,[e+n+o*d,i+s+o*d,e+n-o,i+s,o]),new t(g,[e+l,i+s]),new t(f,[e-l*p,i+s+l*p,e,i+s-l,l]),new t(g,[e,i+r]),new t(f,[e-r*h,i-r*h,e+r,i,r]),new t(this._ctx.closePath)),this},i.drawCircle=function(t,e,i){return this.arc(t,e,i,0,2*Math.PI),this},i.drawEllipse=function(e,i,n,s){this._dirty=this._active=!0;var r=.5522848,a=n/2*r,o=s/2*r,l=e+n,u=i+s,h=e+n/2,c=i+s/2;return this._activeInstructions.push(new t(this._ctx.moveTo,[e,c]),new t(this._ctx.bezierCurveTo,[e,c-o,h-a,i,h,i]),new t(this._ctx.bezierCurveTo,[h+a,i,l,c-o,l,c]),new t(this._ctx.bezierCurveTo,[l,c+o,h+a,u,h,u]),new t(this._ctx.bezierCurveTo,[h-a,u,e,c+o,e,c])),this},i.inject=function(e,i){return this._dirty=this._active=!0,this._activeInstructions.push(new t(e,[i])),this},i.drawPolyStar=function(e,i,n,s,r,a){this._dirty=this._active=!0,null==r&&(r=0),r=1-r,null==a?a=0:a/=180/Math.PI;var o=Math.PI/s;this._activeInstructions.push(new t(this._ctx.moveTo,[e+Math.cos(a)*n,i+Math.sin(a)*n]));for(var l=0;s>l;l++)a+=o,1!=r&&this._activeInstructions.push(new t(this._ctx.lineTo,[e+Math.cos(a)*n*r,i+Math.sin(a)*n*r])),a+=o,this._activeInstructions.push(new t(this._ctx.lineTo,[e+Math.cos(a)*n,i+Math.sin(a)*n]));return this},i.decodePath=function(t){for(var i=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],n=[2,2,4,6,0],s=0,r=t.length,a=[],o=0,l=0,u=e.BASE_64;r>s;){var h=t.charAt(s),c=u[h],d=c>>3,p=i[d];if(!p||3&c)throw"bad path data (@"+s+"): "+h;var f=n[d];d||(o=l=0),a.length=0,s++;for(var g=(1&c>>2)+2,m=0;f>m;m++){var v=u[t.charAt(s)],y=v>>5?-1:1;v=(31&v)<<6|u[t.charAt(s+1)],3==g&&(v=v<<6|u[t.charAt(s+2)]),v=y*v/10,m%2?o=v+=o:l=v+=l,a[m]=v,s+=g}p.apply(this,a)}return this},i.clone=function(){var t=new e;return t._instructions=this._instructions.slice(),t._activeInstructions=this._activeInstructions.slice(),t._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(t._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(t._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(t._strokeStyleInstructions=this._strokeStyleInstructions.slice()),t._active=this._active,t._dirty=this._dirty,t._fillMatrix=this._fillMatrix,t._strokeIgnoreScale=this._strokeIgnoreScale,t},i.toString=function(){return"[Graphics]"},i.mt=i.moveTo,i.lt=i.lineTo,i.at=i.arcTo,i.bt=i.bezierCurveTo,i.qt=i.quadraticCurveTo,i.a=i.arc,i.r=i.rect,i.cp=i.closePath,i.c=i.clear,i.f=i.beginFill,i.lf=i.beginLinearGradientFill,i.rf=i.beginRadialGradientFill,i.bf=i.beginBitmapFill,i.ef=i.endFill,i.ss=i.setStrokeStyle,i.s=i.beginStroke,i.ls=i.beginLinearGradientStroke,i.rs=i.beginRadialGradientStroke,i.bs=i.beginBitmapStroke,i.es=i.endStroke,i.dr=i.drawRect,i.rr=i.drawRoundRect,i.rc=i.drawRoundRectComplex,i.dc=i.drawCircle,i.de=i.drawEllipse,i.dp=i.drawPolyStar,i.p=i.decodePath,i._updateInstructions=function(){this._instructions=this._oldInstructions.slice(),this._instructions.push(e.beginCmd),this._appendInstructions(this._fillInstructions),this._appendInstructions(this._strokeInstructions),this._appendInstructions(this._strokeInstructions&&this._strokeStyleInstructions),this._appendInstructions(this._activeInstructions),this._fillInstructions&&this._appendDraw(e.fillCmd,this._fillMatrix),this._strokeInstructions&&this._appendDraw(e.strokeCmd,this._strokeIgnoreScale&&[1,0,0,1,0,0])},i._appendInstructions=function(t){t&&this._instructions.push.apply(this._instructions,t)},i._appendDraw=function(e,i){i?this._instructions.push(new t(this._ctx.save,[],!1),new t(this._ctx.transform,i,!1),e,new t(this._ctx.restore,[],!1)):this._instructions.push(e)},i._newPath=function(){this._dirty&&this._updateInstructions(),this._oldInstructions=this._instructions,this._activeInstructions=[],this._active=this._dirty=!1},i._setProp=function(t,e){this[t]=e},createjs.Graphics=e}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype=new createjs.EventDispatcher;t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],t.suppressCrossDomainErrors=!1;var i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(t._hitTestCanvas=i,t._hitTestContext=i.getContext("2d"),i.width=i.height=1),t._nextCacheID=1,e.alpha=1,e.cacheCanvas=null,e.id=-1,e.mouseEnabled=!0,e.tickEnabled=!0,e.name=null,e.parent=null,e.regX=0,e.regY=0,e.rotation=0,e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.shadow=null,e.visible=!0,e.x=0,e.y=0,e.compositeOperation=null,e.snapToPixel=!1,e.filters=null,e.cacheID=0,e.mask=null,e.hitArea=null,e.cursor=null,e._cacheOffsetX=0,e._cacheOffsetY=0,e._cacheScale=1,e._cacheDataURLID=0,e._cacheDataURL=null,e._matrix=null,e._rectangle=null,e._bounds=null,e.initialize=function(){this.id=createjs.UID.get(),this._matrix=new createjs.Matrix2D,this._rectangle=new createjs.Rectangle},e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){var i=this.cacheCanvas;if(e||!i)return!1;var n,s=this._cacheScale,r=this._cacheOffsetX,a=this._cacheOffsetY;return(n=this._applyFilterBounds(r,a,0,0))&&(r=n.x,a=n.y),t.drawImage(i,r,a,i.width/s,i.height/s),!0},e.updateContext=function(t){var e,i=this.mask,n=this;i&&i.graphics&&!i.graphics.isEmpty()&&(e=i.getMatrix(i._matrix),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),i.graphics.drawAsPath(t),t.clip(),e.invert(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),e=n._matrix.identity().appendTransform(n.x,n.y,n.scaleX,n.scaleY,n.rotation,n.skewX,n.skewY,n.regX,n.regY),createjs.Stage._snapToPixelEnabled&&n.snapToPixel?t.transform(e.a,e.b,e.c,e.d,0|e.tx+.5,0|e.ty+.5):t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty),t.globalAlpha*=n.alpha,n.compositeOperation&&(t.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(t,n.shadow)},e.cache=function(t,e,i,n,s){s=s||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=i,this._cacheHeight=n,this._cacheOffsetX=t,this._cacheOffsetY=e,this._cacheScale=s,this.updateCache()},e.updateCache=function(e){var i,n=this.cacheCanvas,s=this._cacheScale,r=this._cacheOffsetX*s,a=this._cacheOffsetY*s,o=this._cacheWidth,l=this._cacheHeight;if(!n)throw"cache() must be called before updateCache()";var u=n.getContext("2d");(i=this._applyFilterBounds(r,a,o,l))&&(r=i.x,a=i.y,o=i.width,l=i.height),o=Math.ceil(o*s),l=Math.ceil(l*s),o!=n.width||l!=n.height?(n.width=o,n.height=l):e||u.clearRect(0,0,o+1,l+1),u.save(),u.globalCompositeOperation=e,u.setTransform(s,0,0,s,-r,-a),this.draw(u,!0),this._applyFilters(),u.restore(),this.cacheID=t._nextCacheID++},e.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0,this._cacheScale=1},e.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},e.getStage=function(){for(var t=this;t.parent;)t=t.parent;return t instanceof createjs.Stage?t:null},e.localToGlobal=function(t,e){var i=this.getConcatenatedMatrix(this._matrix);return null==i?null:(i.append(1,0,0,1,t,e),new createjs.Point(i.tx,i.ty))},e.globalToLocal=function(t,e){var i=this.getConcatenatedMatrix(this._matrix);return null==i?null:(i.invert(),i.append(1,0,0,1,t,e),new createjs.Point(i.tx,i.ty))},e.localToLocal=function(t,e,i){var n=this.localToGlobal(t,e);return i.globalToLocal(n.x,n.y)},e.setTransform=function(t,e,i,n,s,r,a,o,l){return this.x=t||0,this.y=e||0,this.scaleX=null==i?1:i,this.scaleY=null==n?1:n,this.rotation=s||0,this.skewX=r||0,this.skewY=a||0,this.regX=o||0,this.regY=l||0,this},e.getMatrix=function(t){var e=this;return(t?t.identity():new createjs.Matrix2D).appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY).appendProperties(e.alpha,e.shadow,e.compositeOperation)},e.getConcatenatedMatrix=function(t){t?t.identity():t=new createjs.Matrix2D;for(var e=this;null!=e;)t.prependTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY).prependProperties(e.alpha,e.shadow,e.compositeOperation),e=e.parent;return t},e.hitTest=function(e,i){var n=t._hitTestContext;n.setTransform(1,0,0,1,-e,-i),this.draw(n);var s=this._testHit(n);return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,2,2),s},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);
var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.initialize(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null},e.getTransformedBounds=function(){return this._getBounds()},e.setBounds=function(t,e,i,n){null==t&&(this._bounds=t),this._bounds=(this._bounds||new createjs.Rectangle).initialize(t,e,i,n)},e.clone=function(){var e=new t;return this.cloneProps(e),e},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e.cloneProps=function(t){t.alpha=this.alpha,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t._bounds=this._bounds,t.mouseEnabled=this.mouseEnabled,t.compositeOperation=this.compositeOperation},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){var e=this._listeners;if(e&&e.tick){var i=new createjs.Event("tick");i.params=t,this._dispatchEvent(i,this,2)}},e._testHit=function(e){try{var i=e.getImageData(0,0,1,1).data[3]>1}catch(n){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return i},e._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var t=this.filters.length,e=this.cacheCanvas.getContext("2d"),i=this.cacheCanvas.width,n=this.cacheCanvas.height,s=0;t>s;s++)this.filters[s].applyFilter(e,0,0,i,n)},e._applyFilterBounds=function(t,e,i,n){var s,r,a=this.filters;if(!a||!(r=a.length))return null;for(var o=0;r>o;o++){var l=this.filters[o],u=l.getBounds&&l.getBounds();u&&(s||(s=this._rectangle.initialize(t,e,i,n)),s.x+=u.x,s.y+=u.y,s.width+=u.width,s.height+=u.height)}return s},e._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e._transformBounds=function(t,e,i){if(!t)return t;var n=t.x,s=t.y,r=t.width,a=t.height,o=i?this._matrix.identity():this.getMatrix(this._matrix);(n||s)&&o.appendTransform(0,0,1,1,0,0,0,-n,-s),e&&o.prependMatrix(e);var l=r*o.a,u=r*o.b,h=a*o.c,c=a*o.d,d=o.tx,p=o.ty,f=d,g=d,m=p,v=p;return f>(n=l+d)?f=n:n>g&&(g=n),f>(n=l+h+d)?f=n:n>g&&(g=n),f>(n=h+d)?f=n:n>g&&(g=n),m>(s=u+p)?m=s:s>v&&(v=s),m>(s=u+c+p)?m=s:s>v&&(v=s),m>(s=c+p)?m=s:s>v&&(v=s),t.initialize(f,m,g-f,v-m)},e._hasMouseEventListener=function(){for(var e=t._MOUSE_EVENTS,i=0,n=e.length;n>i;i++)if(this.hasEventListener(e[i]))return!0;return!!this.cursor},createjs.DisplayObject=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype=new createjs.DisplayObject;e.children=null,e.mouseChildren=!0,e.tickChildren=!0,e.DisplayObject_initialize=e.initialize,e.initialize=function(){this.DisplayObject_initialize(),this.children=[]},e.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var i=this.children.slice(0),n=0,s=i.length;s>n;n++){var r=i[n];r.isVisible()&&(t.save(),r.updateContext(t),r.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var i=0;e>i;i++)this.addChild(arguments[i]);return arguments[e-1]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),t},e.addChildAt=function(t,e){var i=arguments.length,n=arguments[i-1];if(0>n||n>this.children.length)return arguments[i-2];if(i>2){for(var s=0;i-1>s;s++)this.addChildAt(arguments[s],n+s);return arguments[i-2]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var i=!0,n=0;e>n;n++)i=i&&this.removeChild(arguments[n]);return i}return this.removeChildAt(createjs.indexOf(this.children,t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var i=[],n=0;e>n;n++)i[n]=arguments[n];i.sort(function(t,e){return e-t});for(var s=!0,n=0;e>n;n++)s=s&&this.removeChildAt(i[n]);return s}if(0>t||t>this.children.length-1)return!1;var r=this.children[t];return r&&(r.parent=null),this.children.splice(t,1),!0},e.removeAllChildren=function(){for(var t=this.children;t.length;)t.pop().parent=null},e.getChildAt=function(t){return this.children[t]},e.getChildByName=function(t){for(var e=this.children,i=0,n=e.length;n>i;i++)if(e[i].name==t)return e[i];return null},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return createjs.indexOf(this.children,t)},e.getNumChildren=function(){return this.children.length},e.swapChildrenAt=function(t,e){var i=this.children,n=i[t],s=i[e];n&&s&&(i[t]=s,i[e]=n)},e.swapChildren=function(t,e){for(var i,n,s=this.children,r=0,a=s.length;a>r&&(s[r]==t&&(i=r),s[r]==e&&(n=r),null==i||null==n);r++);r!=a&&(s[i]=e,s[n]=t)},e.setChildIndex=function(t,e){var i=this.children,n=i.length;if(!(t.parent!=this||0>e||e>=n)){for(var s=0;n>s&&i[s]!=t;s++);s!=n&&s!=e&&(i.splice(s,1),i.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e){var i=[],n=this.localToGlobal(t,e);return this._getObjectsUnderPoint(n.x,n.y,i),i},e.getObjectUnderPoint=function(t,e){var i=this.localToGlobal(t,e);return this._getObjectsUnderPoint(i.x,i.y)},e.DisplayObject_getBounds=e.getBounds,e.getBounds=function(){return this._getBounds(null,!0)},e.getTransformedBounds=function(){return this._getBounds()},e.clone=function(e){var i=new t;if(this.cloneProps(i),e)for(var n=i.children=[],s=0,r=this.children.length;r>s;s++){var a=this.children[s].clone(e);a.parent=i,n.push(a)}return i},e.toString=function(){return"[Container (name="+this.name+")]"},e.DisplayObject__tick=e._tick,e._tick=function(t){if(this.tickChildren)for(var e=this.children.length-1;e>=0;e--){var i=this.children[e];i.tickEnabled&&i._tick&&i._tick(t)}this.DisplayObject__tick(t)},e._getObjectsUnderPoint=function(e,i,n,s,r){var a=createjs.DisplayObject._hitTestContext,o=this._matrix;r=r||s&&this._hasMouseEventListener();for(var l=this.children,u=l.length,h=u-1;h>=0;h--){var c=l[h],d=c.hitArea;if(c.visible&&(d||c.isVisible())&&(!s||c.mouseEnabled))if(!d&&c instanceof t){var p=c._getObjectsUnderPoint(e,i,n,s,r);if(!n&&p)return s&&!this.mouseChildren?this:p}else{if(!r&&!c._hasMouseEventListener())continue;if(c.getConcatenatedMatrix(o),d&&(o.appendTransform(d.x,d.y,d.scaleX,d.scaleY,d.rotation,d.skewX,d.skewY,d.regX,d.regY),o.alpha=d.alpha),a.globalAlpha=o.alpha,a.setTransform(o.a,o.b,o.c,o.d,o.tx-e,o.ty-i),(d||c).draw(a),!this._testHit(a))continue;if(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,2,2),!n)return s&&!this.mouseChildren?this:c;n.push(c)}}return null},e._getBounds=function(t,e){var i=this.DisplayObject_getBounds();if(i)return this._transformBounds(i,t,e);var n,s,r,a,o=e?this._matrix.identity():this.getMatrix(this._matrix);t&&o.prependMatrix(t);for(var l=this.children.length,u=0;l>u;u++){var h=this.children[u];if(h.visible&&(i=h._getBounds(o))){var c=i.x,d=i.y,p=c+i.width,f=d+i.height;(n>c||null==n)&&(n=c),(p>s||null==s)&&(s=p),(r>d||null==r)&&(r=d),(f>a||null==a)&&(a=f)}}return null==s?null:this._rectangle.initialize(n,r,s-n,a-r)},createjs.Container=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.Container;t._snapToPixelEnabled=!1,e.autoClear=!0,e.canvas=null,e.mouseX=0,e.mouseY=0,e.snapToPixelEnabled=!1,e.mouseInBounds=!1,e.tickOnUpdate=!0,e.mouseMoveOutside=!1,e.nextStage=null,e._pointerData=null,e._pointerCount=0,e._primaryPointerID=null,e._mouseOverIntervalID=null,e.Container_initialize=e.initialize,e.initialize=function(t){this.Container_initialize(),this.canvas="string"==typeof t?document.getElementById(t):t,this._pointerData={},this.enableDOMEvents(!0)},e.update=function(){if(this.canvas){this.tickOnUpdate&&(this.dispatchEvent("tickstart"),this.tickEnabled&&this._tick(arguments.length?arguments:null),this.dispatchEvent("tickend")),this.dispatchEvent("drawstart"),t._snapToPixelEnabled=this.snapToPixelEnabled,this.autoClear&&this.clear();var e=this.canvas.getContext("2d");e.save(),this.updateContext(e),this.draw(e,!1),e.restore(),this.dispatchEvent("drawend")}},e.handleEvent=function(t){"tick"==t.type&&this.update(t)},e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.toDataURL=function(t,e){e||(e="image/png");var i,n=this.canvas.getContext("2d"),s=this.canvas.width,r=this.canvas.height;if(t){i=n.getImageData(0,0,s,r);var a=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=t,n.fillRect(0,0,s,r)}var o=this.canvas.toDataURL(e);return t&&(n.clearRect(0,0,s+1,r+1),n.putImageData(i,0,0),n.globalCompositeOperation=a),o},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==t&&this._testMouseOver(!0)),null==t)t=20;else if(0>=t)return;var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,i,n=this._eventListeners;if(!t&&n){for(e in n)i=n[e],i.t.removeEventListener(e,i.f,!1);this._eventListeners=null}else if(t&&!n&&this.canvas){var s=window.addEventListener?window:document,r=this;n=this._eventListeners={},n.mouseup={t:s,f:function(t){r._handleMouseUp(t)}},n.mousemove={t:s,f:function(t){r._handleMouseMove(t)}},n.dblclick={t:this.canvas,f:function(t){r._handleDoubleClick(t)}},n.mousedown={t:this.canvas,f:function(t){r._handleMouseDown(t)}};for(e in n)i=n[e],i.t.addEventListener(e,i.f,!1)}},e.clone=function(){var e=new t(null);return this.cloneProps(e),e},e.toString=function(){return"[Stage (name="+this.name+")]"},e._getElementRect=function(t){var e;try{e=t.getBoundingClientRect()}catch(i){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var n=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),s=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),r=window.getComputedStyle?getComputedStyle(t):t.currentStyle,a=parseInt(r.paddingLeft)+parseInt(r.borderLeftWidth),o=parseInt(r.paddingTop)+parseInt(r.borderTopWidth),l=parseInt(r.paddingRight)+parseInt(r.borderRightWidth),u=parseInt(r.paddingBottom)+parseInt(r.borderBottomWidth);return{left:e.left+n+a,right:e.right+n-l,top:e.top+s+o,bottom:e.bottom+s-u}},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0},null==this._primaryPointerID&&(this._primaryPointerID=t),(null==this._primaryPointerID||-1==this._primaryPointerID)&&(this._primaryPointerID=t)),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,i,n){if(this.canvas){var s=this._getPointerData(t),r=s.inBounds;if(this._updatePointerPosition(t,e,i,n),r||s.inBounds||this.mouseMoveOutside){-1==t&&s.inBounds==!r&&this._dispatchMouseEvent(this,r?"mouseleave":"mouseenter",!1,t,s,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,s,e),this._dispatchMouseEvent(s.target,"pressmove",!0,t,s,e);var a=s.event;a&&a.hasEventListener("mousemove")&&a.dispatchEvent(new createjs.MouseEvent("mousemove",!1,!1,s.x,s.y,e,t,t==this._primaryPointerID,s.rawX,s.rawY),s.target),this.nextStage&&this.nextStage._handlePointerMove(t,e,i,n)}}},e._updatePointerPosition=function(t,e,i,n){var s=this._getElementRect(this.canvas);i-=s.left,n-=s.top;var r=this.canvas.width,a=this.canvas.height;i/=(s.right-s.left)/r,n/=(s.bottom-s.top)/a;var o=this._getPointerData(t);(o.inBounds=i>=0&&n>=0&&r-1>=i&&a-1>=n)?(o.x=i,o.y=n):this.mouseMoveOutside&&(o.x=0>i?0:i>r-1?r-1:i,o.y=0>n?0:n>a-1?a-1:n),o.posEvtObj=e,o.rawX=i,o.rawY=n,t==this._primaryPointerID&&(this.mouseX=o.x,this.mouseY=o.y,this.mouseInBounds=o.inBounds)},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,i){var n=this._getPointerData(t);this._dispatchMouseEvent(this,"stagemouseup",!1,t,n,e);var s=n.target;s&&(this._getObjectsUnderPoint(n.x,n.y,null,!0)==s&&this._dispatchMouseEvent(s,"click",!0,t,n,e),this._dispatchMouseEvent(s,"pressup",!0,t,n,e));var r=n.event;r&&r.hasEventListener("mouseup")&&r.dispatchEvent(new createjs.MouseEvent("mouseup",!1,!1,n.x,n.y,e,t,t==this._primaryPointerID,n.rawX,n.rawY),s),i?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):n.event=n.target=null,this.nextStage&&this.nextStage._handlePointerUp(t,e,i)},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e._handlePointerDown=function(t,e,i,n){null!=n&&this._updatePointerPosition(t,e,i,n);var s=this._getPointerData(t);this._dispatchMouseEvent(this,"stagemousedown",!1,t,s,e),s.target=this._getObjectsUnderPoint(s.x,s.y,null,!0),s.event=this._dispatchMouseEvent(s.target,"mousedown",!0,t,s,e),this.nextStage&&this.nextStage._handlePointerDown(t,e,i,n)},e._testMouseOver=function(t){if(-1==this._primaryPointerID&&(t||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var e,i,n,s,r=this._getPointerData(-1),a=r.posEvtObj,o=-1,l="";(t||this.mouseInBounds&&a&&a.target==this.canvas)&&(e=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var u=this._mouseOverTarget||[],h=u[u.length-1],c=this._mouseOverTarget=[];for(i=e;i;)c.unshift(i),null!=i.cursor&&(l=i.cursor),i=i.parent;for(this.canvas.style.cursor=l,n=0,s=c.length;s>n&&c[n]==u[n];n++)o=n;for(h!=e&&this._dispatchMouseEvent(h,"mouseout",!0,-1,r,a),n=u.length-1;n>o;n--)this._dispatchMouseEvent(u[n],"rollout",!1,-1,r,a);for(n=c.length-1;n>o;n--)this._dispatchMouseEvent(c[n],"rollover",!1,-1,r,a);h!=e&&this._dispatchMouseEvent(e,"mouseover",!0,-1,r,a)}},e._handleDoubleClick=function(t){var e=this._getPointerData(-1),i=this._getObjectsUnderPoint(e.x,e.y,null,!0);this._dispatchMouseEvent(i,"dblclick",!0,-1,e,t),this.nextStage&&this.nextStage._handleDoubleClick(t)},e._dispatchMouseEvent=function(t,e,i,n,s,r){if(t&&(i||t.hasEventListener(e))){var a=new createjs.MouseEvent(e,i,!1,s.x,s.y,r,n,n==this._primaryPointerID,s.rawX,s.rawY);return t.dispatchEvent(a),a}},createjs.Stage=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.image=null,e.snapToPixel=!0,e.sourceRect=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){this.DisplayObject_initialize(),"string"==typeof t?(this.image=document.createElement("img"),this.image.src=t):this.image=t},e.isVisible=function(){var t=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.sourceRect;return i?t.drawImage(this.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height):t.drawImage(this.image,0,0),!0},e.DisplayObject_getBounds=e.getBounds,e.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var e=this.sourceRect||this.image,i=this.image&&(this.image.complete||this.image.getContext||this.image.readyState>=2);return i?this._rectangle.initialize(0,0,e.width,e.height):null},e.clone=function(){var e=new t(this.image);return this.sourceRect&&(e.sourceRect=this.sourceRect.clone()),this.cloneProps(e),e},e.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e){this.initialize(t,e)},e=t.prototype=new createjs.DisplayObject;e.currentFrame=0,e.currentAnimation=null,e.paused=!0,e.spriteSheet=null,e.snapToPixel=!0,e.offset=0,e.currentAnimationFrame=0,e.framerate=0,e._advanceCount=0,e._animation=null,e._currentFrame=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t,e){this.DisplayObject_initialize(),this.spriteSheet=t,e&&this.gotoAndPlay(e)},e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var i=this.spriteSheet.getFrame(0|this._currentFrame);if(!i)return!1;var n=i.rect;return t.drawImage(i.image,n.x,n.y,n.width,n.height,-i.regX,-i.regY,n.width,n.height),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(t){var e=this._animation&&this._animation.speed||1,i=this.framerate||this.spriteSheet.framerate,n=i&&null!=t?t/(1e3/i):1;this._animation?this.currentAnimationFrame+=n*e:this._currentFrame+=n*e,this._normalizeFrame()},e.DisplayObject_getBounds=e.getBounds,e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.clone=function(){var e=new t(this.spriteSheet);return this.cloneProps(e),e},e.toString=function(){return"[Sprite (name="+this.name+")]"},e.DisplayObject__tick=e._tick,e._tick=function(t){this.paused||this.advance(t&&t[0]&&t[0].delta),this.DisplayObject__tick(t)},e._normalizeFrame=function(){var t,e=this._animation,i=this.paused,n=this._currentFrame,s=this.currentAnimationFrame;if(e)if(t=e.frames.length,(0|s)>=t){var r=e.next;if(this._dispatchAnimationEnd(e,n,i,r,t-1));else{if(r)return this._goto(r,s-t);this.paused=!0,s=this.currentAnimationFrame=e.frames.length-1,this._currentFrame=e.frames[s]}}else this._currentFrame=e.frames[0|s];else if(t=this.spriteSheet.getNumFrames(),n>=t&&!this._dispatchAnimationEnd(e,n,i,t-1)&&(this._currentFrame-=t)>=t)return this._normalizeFrame();this.currentFrame=0|this._currentFrame},e._dispatchAnimationEnd=function(t,e,i,n,s){var r=t?t.name:null;if(this.hasEventListener("animationend")){var a=new createjs.Event("animationend");a.name=r,a.next=n,this.dispatchEvent(a)}var o=this._animation!=t||this._currentFrame!=e;return o||i||!this.paused||(this.currentAnimationFrame=s,o=!0),o},e.DisplayObject_cloneProps=e.cloneProps,e.cloneProps=function(t){this.DisplayObject_cloneProps(t),t.currentFrame=this.currentFrame,t._currentFrame=this._currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t._animation=this._animation,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate},e._goto=function(t,e){if(isNaN(t)){var i=this.spriteSheet.getAnimation(t);i&&(this.currentAnimationFrame=e||0,this._animation=i,this.currentAnimation=t,this._normalizeFrame())}else this.currentAnimationFrame=0,this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()},createjs.Sprite=t}(),this.createjs=this.createjs||{},function(){var t="BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.";if(!createjs.Sprite)throw t;(createjs.BitmapAnimation=function(e){console.log(t),this.initialize(e)}).prototype=new createjs.Sprite}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.graphics=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){this.DisplayObject_initialize(),this.graphics=t?t:new createjs.Graphics},e.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){return this.DisplayObject_draw(t,e)?!0:(this.graphics.draw(t),!0)},e.clone=function(e){var i=new t(e&&this.graphics?this.graphics.clone():this.graphics);return this.cloneProps(i),i},e.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.initialize(t,e,i)},e=t.prototype=new createjs.DisplayObject,i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");i.getContext&&(t._workingContext=i.getContext("2d"),i.width=i.height=1),t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},e.text="",e.font=null,e.color=null,e.textAlign="left",e.textBaseline="top",e.maxWidth=null,e.outline=0,e.lineHeight=0,e.lineWidth=null,e.DisplayObject_initialize=e.initialize,e.initialize=function(t,e,i){this.DisplayObject_initialize(),this.text=t,this.font=e,this.color=i},e.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.DisplayObject_draw=e.draw,e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var i=this.color||"#000";return this.outline?(t.strokeStyle=i,t.lineWidth=1*this.outline):t.fillStyle=i,this._drawText(this._prepContext(t)),!0},e.getMeasuredWidth=function(){return this._prepContext(t._workingContext).measureText(this.text).width},e.getMeasuredLineHeight=function(){return 1.2*this._prepContext(t._workingContext).measureText("M").width},e.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.DisplayObject_getBounds=e.getBounds,e.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;if(null==this.text||""==this.text)return null;var i=this._drawText(null,{}),n=this.maxWidth&&i.width>this.maxWidth?this.maxWidth:i.width,s=n*t.H_OFFSETS[this.textAlign||"left"],r=this.lineHeight||this.getMeasuredLineHeight(),a=r*t.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.initialize(s,a,n,i.height)},e.clone=function(){var e=new t(this.text,this.font,this.color);return this.cloneProps(e),e},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e.DisplayObject_cloneProps=e.cloneProps,e.cloneProps=function(t){this.DisplayObject_cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth},e._prepContext=function(t){return t.font=this.font,t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t},e._drawText=function(e,i){var n=!!e;n||(e=this._prepContext(t._workingContext));for(var s=this.lineHeight||this.getMeasuredLineHeight(),r=0,a=0,o=(this.text+"").split(/(?:\r\n|\r|\n)/),l=0,u=o.length;u>l;l++){var h=o[l],c=null;if(null!=this.lineWidth&&(c=e.measureText(h).width)>this.lineWidth){var d=h.split(/(\s)/);h=d[0],c=e.measureText(h).width;for(var p=1,f=d.length;f>p;p+=2){var g=e.measureText(d[p]+d[p+1]).width;c+g>this.lineWidth?(n&&this._drawTextLine(e,h,a*s),c>r&&(r=c),h=d[p+1],c=e.measureText(h).width,a++):(h+=d[p]+d[p+1],c+=g)}}n&&this._drawTextLine(e,h,a*s),i&&null==c&&(c=e.measureText(h).width),c>r&&(r=c),a++}return i&&(i.count=a,i.width=r,i.height=a*s),i},e._drawTextLine=function(t,e,i){this.outline?t.strokeText(e,0,i,this.maxWidth||65535):t.fillText(e,0,i,this.maxWidth||65535)},createjs.Text=t}(),this.createjs=this.createjs||{},function(){function t(t,e){this.initialize(t,e)}var e=t.prototype=new createjs.DisplayObject;e.text="",e.spriteSheet=null,e.lineHeight=0,e.letterSpacing=0,e.spaceWidth=0,e.DisplayObject_initialize=e.initialize,e.initialize=function(t,e){this.DisplayObject_initialize(),this.text=t,this.spriteSheet=e},e.DisplayObject_draw=e.draw,e.draw=function(t,e){return this.DisplayObject_draw(t,e)?!0:(this._drawText(t),void 0)},e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.getBounds=function(){var t=this._rectangle;return this._drawText(null,t),t.width?t:null},e._getFrame=function(t,e){var i,n=e.getAnimation(t);return n||(t!=(i=t.toUpperCase())||t!=(i=t.toLowerCase())||(i=null),i&&(n=e.getAnimation(i))),n&&e.getFrame(n.frames[0])},e._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1},e._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1},e._drawText=function(t,e){var i,n,s,r=0,a=0,o=this.spaceWidth,l=this.lineHeight,u=this.spriteSheet,h=!!this._getFrame(" ",u);h||0!=o||(o=this._getSpaceWidth(u)),0==l&&(l=this._getLineHeight(u));for(var c=0,d=0,p=this.text.length;p>d;d++){var f=this.text.charAt(d);if(h||" "!=f)if("\n"!=f&&"\r"!=f){var g=this._getFrame(f,u);if(g){var m=g.rect;s=g.regX,i=m.width,t&&t.drawImage(g.image,m.x,m.y,i,n=m.height,r-s,a-g.regY,i,n),r+=i+this.letterSpacing}}else"\r"==f&&"\n"==this.text.charAt(d+1)&&d++,r-s>c&&(c=r-s),r=0,a+=l;else r+=o}r-s>c&&(c=r-s),e&&(e.width=c-this.letterSpacing,e.height=a+l)},createjs.BitmapText=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"SpriteSheetUtils cannot be instantiated"},e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e.getContext&&(t._workingCanvas=e,t._workingContext=e.getContext("2d"),e.width=e.height=1),t.addFlippedFrames=function(e,i,n,s){if(i||n||s){var r=0;i&&t._flip(e,++r,!0,!1),n&&t._flip(e,++r,!1,!0),s&&t._flip(e,++r,!0,!0)}},t.extractFrame=function(e,i){isNaN(i)&&(i=e.getAnimation(i).frames[0]);var n=e.getFrame(i);if(!n)return null;var s=n.rect,r=t._workingCanvas;r.width=s.width,r.height=s.height,t._workingContext.drawImage(n.image,s.x,s.y,s.width,s.height,0,0,s.width,s.height);var a=document.createElement("img");return a.src=r.toDataURL("image/png"),a},t.mergeAlpha=function(t,e,i){i||(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),i.width=Math.max(e.width,t.width),i.height=Math.max(e.height,t.height);var n=i.getContext("2d");return n.save(),n.drawImage(t,0,0),n.globalCompositeOperation="destination-in",n.drawImage(e,0,0),n.restore(),i},t._flip=function(e,i,n,s){for(var r=e._images,a=t._workingCanvas,o=t._workingContext,l=r.length/i,u=0;l>u;u++){var h=r[u];h.__tmp=u,o.setTransform(1,0,0,1,0,0),o.clearRect(0,0,a.width+1,a.height+1),a.width=h.width,a.height=h.height,o.setTransform(n?-1:1,0,0,s?-1:1,n?h.width:0,s?h.height:0),o.drawImage(h,0,0);var c=document.createElement("img");c.src=a.toDataURL("image/png"),c.width=h.width,c.height=h.height,r.push(c)}var d=e._frames,p=d.length/i;for(u=0;p>u;u++){h=d[u];var f=h.rect.clone();c=r[h.image.__tmp+l*i];var g={image:c,rect:f,regX:h.regX,regY:h.regY};n&&(f.x=c.width-f.x-f.width,g.regX=f.width-h.regX),s&&(f.y=c.height-f.y-f.height,g.regY=f.height-h.regY),d.push(g)}var m="_"+(n?"h":"")+(s?"v":""),v=e._animations,y=e._data,_=v.length/i;for(u=0;_>u;u++){var x=v[u];h=y[x];var b={name:x+m,speed:h.speed,next:h.next,frames:[]};h.next&&(b.next+=m),d=h.frames;for(var w=0,S=d.length;S>w;w++)b.frames.push(d[w]+p*i);y[b.name]=b,v.push(b.name)}},createjs.SpriteSheetUtils=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype=new createjs.EventDispatcher;t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.maxWidth=2048,e.maxHeight=2048,e.spriteSheet=null,e.scale=1,e.padding=1,e.timeSlice=.3,e.progress=-1,e._frames=null,e._animations=null,e._data=null,e._nextFrameIndex=0,e._index=0,e._timerID=null,e._scale=1,e.initialize=function(){this._frames=[],this._animations={}},e.addFrame=function(e,i,n,s,r,a){if(this._data)throw t.ERR_RUNNING;var o=i||e.bounds||e.nominalBounds;return!o&&e.getBounds&&(o=e.getBounds()),o?(n=n||1,this._frames.push({source:e,sourceRect:o,scale:n,funct:s,params:r,scope:a,index:this._frames.length,height:o.height*n})-1):null},e.addAnimation=function(e,i,n,s){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:i,next:n,frequency:s}},e.addMovieClip=function(e,i,n){if(this._data)throw t.ERR_RUNNING;var s=e.frameBounds,r=i||e.bounds||e.nominalBounds;if(!r&&e.getBounds&&(r=e.getBounds()),!r&&!s)return null;for(var a=this._frames.length,o=e.timeline.duration,l=0;o>l;l++){var u=s&&s[l]?s[l]:r;this.addFrame(e,u,n,function(t){var e=this.actionsEnabled;this.actionsEnabled=!1,this.gotoAndStop(t),this.actionsEnabled=e},[l],e)}var h=e.timeline._labels,c=[];for(var d in h)c.push({index:h[d],label:d});if(c.length){c.sort(function(t,e){return t.index-e.index});for(var l=0,p=c.length;p>l;l++){for(var f=c[l].label,g=a+c[l].index,m=a+(l==p-1?o:c[l+1].index),v=[],y=g;m>y;y++)v.push(y);this.addAnimation(f,v,!0)}}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw t.ERR_RUNNING;this.timeSlice=e,this._startBuild();var i=this;this._timerID=setTimeout(function(){i._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var i=[];this._data={images:[],frames:i,animations:this._animations};var n=this._frames.slice();if(n.sort(function(t,e){return e.height>=t.height?-1:1}),n[n.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var s=0,r=0,a=0;n.length;){var o=this._fillRow(n,s,a,i,e);if(o.w>r&&(r=o.w),s+=o.h,!o.h||!n.length){var l=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");l.width=this._getSize(r,this.maxWidth),l.height=this._getSize(s,this.maxHeight),this._data.images[a]=l,o.h||(r=s=0,a++)}}},e._getSize=function(t,e){for(var i=4;t>Math.pow(2,++i););return Math.min(e,Math.pow(2,i))},e._fillRow=function(e,i,n,s,r){var a=this.maxWidth,o=this.maxHeight;i+=r;for(var l=o-i,u=r,h=0,c=e.length-1;c>=0;c--){var d=e[c],p=this._scale*d.scale,f=d.sourceRect,g=d.source,m=Math.floor(p*f.x-r),v=Math.floor(p*f.y-r),y=Math.ceil(p*f.height+2*r),_=Math.ceil(p*f.width+2*r);if(_>a)throw t.ERR_DIMENSIONS;y>l||u+_>a||(d.img=n,d.rect=new createjs.Rectangle(u,i,_,y),h=h||y,e.splice(c,1),s[d.index]=[u,i,_,y,n,Math.round(-m+p*g.regX-r),Math.round(-v+p*g.regY-r)],u+=_)}return{w:u,h:h}},e._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),e=(new Date).getTime()+t,i=!1;e>(new Date).getTime();)if(!this._drawNext()){i=!0;break}if(i)this._endBuild();else{var n=this;this._timerID=setTimeout(function(){n._run()},50-t)}var s=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var r=new createjs.Event("progress");r.progress=s,this.dispatchEvent(r)}},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,i=t.rect,n=t.sourceRect,s=this._data.images[t.img],r=s.getContext("2d");return t.funct&&t.funct.apply(t.scope,t.params),r.save(),r.beginPath(),r.rect(i.x,i.y,i.width,i.height),r.clip(),r.translate(Math.ceil(i.x-n.x*e),Math.ceil(i.y-n.y*e)),r.scale(e,e),t.source.draw(r),r.restore(),this._frames.length>++this._index},createjs.SpriteSheetBuilder=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.DisplayObject;e.htmlElement=null,e._oldMtx=null,e._visible=!1,e.DisplayObject_initialize=e.initialize,e.initialize=function(t){"string"==typeof t&&(t=document.getElementById(t)),this.DisplayObject_initialize(),this.mouseEnabled=!1,this.htmlElement=t;var e=t.style;e.position="absolute",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%"
},e.isVisible=function(){return null!=this.htmlElement},e.draw=function(){return this.visible&&(this._visible=!0),!0},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){throw"DOMElement cannot be cloned."},e.toString=function(){return"[DOMElement (name="+this.name+")]"},e.DisplayObject__tick=e._tick,e._tick=function(t){var e=this.getStage();this._visible=!1,e&&e.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(t)},e._handleDrawEnd=function(){var t=this.htmlElement;if(t){var e=t.style,i=this._visible?"visible":"hidden";if(i!=e.visibility&&(e.visibility=i),this._visible){var n=this.getConcatenatedMatrix(this._matrix),s=this._oldMtx,r=1e4;if(s&&s.alpha==n.alpha||(e.opacity=""+(0|n.alpha*r)/r,s&&(s.alpha=n.alpha)),!s||s.tx!=n.tx||s.ty!=n.ty||s.a!=n.a||s.b!=n.b||s.c!=n.c||s.d!=n.d){var a="matrix("+(0|n.a*r)/r+","+(0|n.b*r)/r+","+(0|n.c*r)/r+","+(0|n.d*r)/r+","+(0|n.tx+.5);e.transform=e.WebkitTransform=e.OTransform=e.msTransform=a+","+(0|n.ty+.5)+")",e.MozTransform=a+"px,"+(0|n.ty+.5)+"px)",this._oldMtx=s?s.copy(n):n.clone()}}}},createjs.DOMElement=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype;e.initialize=function(){},e.getBounds=function(){return null},e.applyFilter=function(){},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},createjs.Filter=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.initialize(t,e,i)},e=t.prototype=new createjs.Filter;e.initialize=function(t,e,i){(isNaN(t)||0>t)&&(t=0),this.blurX=0|t,(isNaN(e)||0>e)&&(e=0),this.blurY=0|e,(isNaN(i)||1>i)&&(i=1),this.quality=0|i},e.blurX=0,e.blurY=0,e.quality=1,e.mul_table=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],e.shg_table=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.getBounds=function(){var t=.5*Math.pow(this.quality,.6);return new createjs.Rectangle(-this.blurX*t,-this.blurY*t,2*this.blurX*t,2*this.blurY*t)},e.applyFilter=function(t,e,i,n,s,r,a,o){r=r||t,null==a&&(a=e),null==o&&(o=i);try{var l=t.getImageData(e,i,n,s)}catch(u){return!1}var h=this.blurX/2;if(isNaN(h)||0>h)return!1;h|=0;var c=this.blurY/2;if(isNaN(c)||0>c)return!1;if(c|=0,0==h&&0==c)return!1;var d=this.quality;(isNaN(d)||1>d)&&(d=1),d|=0,d>3&&(d=3),1>d&&(d=1);var e,i,p,f,g,m,v,y,_,x,b,w,S,T,E,j=l.data,P=h+h+1,C=c+c+1,M=n-1,L=s-1,A=h+1,O=c+1,I={r:0,b:0,g:0,a:0,next:null},D=I;for(p=1;P>p;p++)D=D.next={r:0,b:0,g:0,a:0,next:null};D.next=I;var N={r:0,b:0,g:0,a:0,next:null},k=N;for(p=1;C>p;p++)k=k.next={r:0,b:0,g:0,a:0,next:null};k.next=N;for(var R=null;d-->0;){v=m=0;var F=this.mul_table[h],B=this.shg_table[h];for(i=s;--i>-1;){for(y=A*(w=j[m]),_=A*(S=j[m+1]),x=A*(T=j[m+2]),b=A*(E=j[m+3]),D=I,p=A;--p>-1;)D.r=w,D.g=S,D.b=T,D.a=E,D=D.next;for(p=1;A>p;p++)f=m+((p>M?M:p)<<2),y+=D.r=j[f],_+=D.g=j[f+1],x+=D.b=j[f+2],b+=D.a=j[f+3],D=D.next;for(R=I,e=0;n>e;e++)j[m++]=y*F>>>B,j[m++]=_*F>>>B,j[m++]=x*F>>>B,j[m++]=b*F>>>B,f=v+(M>(f=e+h+1)?f:M)<<2,y-=R.r-(R.r=j[f]),_-=R.g-(R.g=j[f+1]),x-=R.b-(R.b=j[f+2]),b-=R.a-(R.a=j[f+3]),R=R.next;v+=n}for(F=this.mul_table[c],B=this.shg_table[c],e=0;n>e;e++){for(m=e<<2,y=O*(w=j[m]),_=O*(S=j[m+1]),x=O*(T=j[m+2]),b=O*(E=j[m+3]),k=N,p=0;O>p;p++)k.r=w,k.g=S,k.b=T,k.a=E,k=k.next;for(g=n,p=1;c>=p;p++)m=g+e<<2,y+=k.r=j[m],_+=k.g=j[m+1],x+=k.b=j[m+2],b+=k.a=j[m+3],k=k.next,L>p&&(g+=n);if(m=e,R=N,d>0)for(i=0;s>i;i++)f=m<<2,j[f+3]=E=b*F>>>B,E>0?(j[f]=y*F>>>B,j[f+1]=_*F>>>B,j[f+2]=x*F>>>B):j[f]=j[f+1]=j[f+2]=0,f=e+(L>(f=i+O)?f:L)*n<<2,y-=R.r-(R.r=j[f]),_-=R.g-(R.g=j[f+1]),x-=R.b-(R.b=j[f+2]),b-=R.a-(R.a=j[f+3]),R=R.next,m+=n;else for(i=0;s>i;i++)f=m<<2,j[f+3]=E=b*F>>>B,E>0?(E=255/E,j[f]=(y*F>>>B)*E,j[f+1]=(_*F>>>B)*E,j[f+2]=(x*F>>>B)*E):j[f]=j[f+1]=j[f+2]=0,f=e+(L>(f=i+O)?f:L)*n<<2,y-=R.r-(R.r=j[f]),_-=R.g-(R.g=j[f+1]),x-=R.b-(R.b=j[f+2]),b-=R.a-(R.a=j[f+3]),R=R.next,m+=n}}return r.putImageData(l,a,o),!0},e.clone=function(){return new t(this.blurX,this.blurY,this.quality)},e.toString=function(){return"[BlurFilter]"},createjs.BlurFilter=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.Filter;e.initialize=function(t){this.alphaMap=t},e.alphaMap=null,e._alphaMap=null,e._mapData=null,e.applyFilter=function(t,e,i,n,s,r,a,o){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;r=r||t,null==a&&(a=e),null==o&&(o=i);try{var l=t.getImageData(e,i,n,s)}catch(u){return!1}for(var h=l.data,c=this._mapData,d=h.length,p=0;d>p;p+=4)h[p+3]=c[p]||0;return r.putImageData(l,a,o),!0},e.clone=function(){return new t(this.alphaMap)},e.toString=function(){return"[AlphaMapFilter]"},e._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var t,e=this._alphaMap=this.alphaMap,i=e;e instanceof HTMLCanvasElement?t=i.getContext("2d"):(i=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),i.width=e.width,i.height=e.height,t=i.getContext("2d"),t.drawImage(e,0,0));try{var n=t.getImageData(0,0,e.width,e.height)}catch(s){return!1}return this._mapData=n.data,!0},createjs.AlphaMapFilter=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.Filter;e.initialize=function(t){this.mask=t},e.mask=null,e.applyFilter=function(t,e,i,n,s,r,a,o){return this.mask?(r=r||t,null==a&&(a=e),null==o&&(o=i),r.save(),r.globalCompositeOperation="destination-in",r.drawImage(this.mask,a,o),r.restore(),!0):!0},e.clone=function(){return new t(this.mask)},e.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n,s,r,a,o){this.initialize(t,e,i,n,s,r,a,o)},e=t.prototype=new createjs.Filter;e.redMultiplier=1,e.greenMultiplier=1,e.blueMultiplier=1,e.alphaMultiplier=1,e.redOffset=0,e.greenOffset=0,e.blueOffset=0,e.alphaOffset=0,e.initialize=function(t,e,i,n,s,r,a,o){this.redMultiplier=null!=t?t:1,this.greenMultiplier=null!=e?e:1,this.blueMultiplier=null!=i?i:1,this.alphaMultiplier=null!=n?n:1,this.redOffset=s||0,this.greenOffset=r||0,this.blueOffset=a||0,this.alphaOffset=o||0},e.applyFilter=function(t,e,i,n,s,r,a,o){r=r||t,null==a&&(a=e),null==o&&(o=i);try{var l=t.getImageData(e,i,n,s)}catch(u){return!1}for(var h=l.data,c=h.length,d=0;c>d;d+=4)h[d]=h[d]*this.redMultiplier+this.redOffset,h[d+1]=h[d+1]*this.greenMultiplier+this.greenOffset,h[d+2]=h[d+2]*this.blueMultiplier+this.blueOffset,h[d+3]=h[d+3]*this.alphaMultiplier+this.alphaOffset;return r.putImageData(l,a,o),!0},e.toString=function(){return"[ColorFilter]"},e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},createjs.ColorFilter=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i,n){this.initialize(t,e,i,n)},e=t.prototype;t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t.LENGTH=t.IDENTITY_MATRIX.length,e.initialize=function(t,e,i,n){return this.reset(),this.adjustColor(t,e,i,n),this},e.reset=function(){return this.copyMatrix(t.IDENTITY_MATRIX)},e.adjustColor=function(t,e,i,n){return this.adjustHue(n),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(i)},e.adjustBrightness=function(t){return 0==t||isNaN(t)?this:(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]),this)},e.adjustContrast=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,100);var i;return 0>e?i=127+127*(e/100):(i=e%1,i=0==i?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-i)+t.DELTA_INDEX[(e<<0)+1]*i,i=127*i+127),this._multiplyMatrix([i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1]),this},e.adjustSaturation=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,100);var e=1+(t>0?3*t/100:t/100),i=.3086,n=.6094,s=.082;return this._multiplyMatrix([i*(1-e)+e,n*(1-e),s*(1-e),0,0,i*(1-e),n*(1-e)+e,s*(1-e),0,0,i*(1-e),n*(1-e),s*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),i=Math.sin(t),n=.213,s=.715,r=.072;return this._multiplyMatrix([n+e*(1-n)+i*-n,s+e*-s+i*-s,r+e*-r+i*(1-r),0,0,n+e*-n+.143*i,s+e*(1-s)+.14*i,r+e*-r+i*-.283,0,0,n+e*-n+i*-(1-n),s+e*-s+i*s,r+e*(1-r)+i*r,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.concat=function(e){return e=this._fixMatrix(e),e.length!=t.LENGTH?this:(this._multiplyMatrix(e),this)},e.clone=function(){return(new t).copyMatrix(this)},e.toArray=function(){for(var e=[],i=0,n=t.LENGTH;n>i;i++)e[i]=this[i];return e},e.copyMatrix=function(e){for(var i=t.LENGTH,n=0;i>n;n++)this[n]=e[n];return this},e.toString=function(){return"[ColorMatrix]"},e._multiplyMatrix=function(t){for(var e=[],i=0;5>i;i++){for(var n=0;5>n;n++)e[n]=this[n+5*i];for(var n=0;5>n;n++){for(var s=0,r=0;5>r;r++)s+=t[n+5*r]*e[r];this[n+5*i]=s}}},e._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e._fixMatrix=function(e){return e instanceof t&&(e=e.toArray()),t.LENGTH>e.length?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e},createjs.ColorMatrix=t}(),this.createjs=this.createjs||{},function(){var t=function(t){this.initialize(t)},e=t.prototype=new createjs.Filter;e.matrix=null,e.initialize=function(t){this.matrix=t},e.applyFilter=function(t,e,i,n,s,r,a,o){r=r||t,null==a&&(a=e),null==o&&(o=i);try{var l=t.getImageData(e,i,n,s)}catch(u){return!1}for(var h,c,d,p,f=l.data,g=f.length,m=this.matrix,v=m[0],y=m[1],_=m[2],x=m[3],b=m[4],w=m[5],S=m[6],T=m[7],E=m[8],j=m[9],P=m[10],C=m[11],M=m[12],L=m[13],A=m[14],O=m[15],I=m[16],D=m[17],N=m[18],k=m[19],R=0;g>R;R+=4)h=f[R],c=f[R+1],d=f[R+2],p=f[R+3],f[R]=h*v+c*y+d*_+p*x+b,f[R+1]=h*w+c*S+d*T+p*E+j,f[R+2]=h*P+c*C+d*M+p*L+A,f[R+3]=h*O+c*I+d*D+p*N+k;return r.putImageData(l,a,o),!0},e.toString=function(){return"[ColorMatrixFilter]"},e.clone=function(){return new t(this.matrix)},createjs.ColorMatrixFilter=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"Touch cannot be instantiated"};t.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0},t.enable=function(e,i,n){return e&&e.canvas&&t.isSupported()?(e.__touch={pointers:{},multitouch:!i,preventDefault:!n,count:0},"ontouchstart"in window?t._IOS_enable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_enable(e),!0):!1},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_disable(e))},t._IOS_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){t._IOS_handleEvent(e,i)};i.addEventListener("touchstart",n,!1),i.addEventListener("touchmove",n,!1),i.addEventListener("touchend",n,!1),i.addEventListener("touchcancel",n,!1)},t._IOS_disable=function(t){var e=t.canvas;if(e){var i=t.__touch.f;e.removeEventListener("touchstart",i,!1),e.removeEventListener("touchmove",i,!1),e.removeEventListener("touchend",i,!1),e.removeEventListener("touchcancel",i,!1)}},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var i=e.changedTouches,n=e.type,s=0,r=i.length;r>s;s++){var a=i[s],o=a.identifier;a.target==t.canvas&&("touchstart"==n?this._handleStart(t,o,e,a.pageX,a.pageY):"touchmove"==n?this._handleMove(t,o,e,a.pageX,a.pageY):("touchend"==n||"touchcancel"==n)&&this._handleEnd(t,o,e))}}},t._IE_enable=function(e){var i=e.canvas,n=e.__touch.f=function(i){t._IE_handleEvent(e,i)};void 0===window.navigator.pointerEnabled?(i.addEventListener("MSPointerDown",n,!1),window.addEventListener("MSPointerMove",n,!1),window.addEventListener("MSPointerUp",n,!1),window.addEventListener("MSPointerCancel",n,!1),e.__touch.preventDefault&&(i.style.msTouchAction="none")):(i.addEventListener("pointerdown",n,!1),window.addEventListener("pointermove",n,!1),window.addEventListener("pointerup",n,!1),window.addEventListener("pointercancel",n,!1),e.__touch.preventDefault&&(i.style.touchAction="none")),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),t.canvas&&t.canvas.removeEventListener("pointerdown",e,!1))},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var i=e.type,n=e.pointerId,s=t.__touch.activeIDs;if("MSPointerDown"==i||"pointerdown"==i){if(e.srcElement!=t.canvas)return;s[n]=!0,this._handleStart(t,n,e,e.pageX,e.pageY)}else s[n]&&("MSPointerMove"==i||"pointermove"==i?this._handleMove(t,n,e,e.pageX,e.pageY):("MSPointerUp"==i||"MSPointerCancel"==i||"pointerup"==i||"pointercancel"==i)&&(delete s[n],this._handleEnd(t,n,e)))}},t._handleStart=function(t,e,i,n,s){var r=t.__touch;if(r.multitouch||!r.count){var a=r.pointers;a[e]||(a[e]=!0,r.count++,t._handlePointerDown(e,i,n,s))}},t._handleMove=function(t,e,i,n,s){t.__touch.pointers[e]&&t._handlePointerMove(e,i,n,s)},t._handleEnd=function(t,e,i){var n=t.__touch,s=n.pointers;s[e]&&(n.count--,t._handlePointerUp(e,i,!0),delete s[e])},createjs.Touch=t}(),this.createjs=this.createjs||{},function(){var t=createjs.EaselJS=createjs.EaselJS||{};t.version="NEXT",t.buildDate="Thu, 12 Dec 2013 23:37:07 GMT"}(),this.createjs=this.createjs||{},function(){var t=createjs.PreloadJS=createjs.PreloadJS||{};t.version="NEXT",t.buildDate="Thu, 12 Dec 2013 23:37:07 GMT"}(),this.createjs=this.createjs||{},function(){createjs.proxy=function(t,e){var i=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(i))}}}(),this.createjs=this.createjs||{},function(){var t=function(){this.init()};t.prototype=new createjs.EventDispatcher;var e=t.prototype,i=t;i.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?)|(.{0,2}\/{1}))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,i.PATH_PATTERN=/^(?:(\w+:)\/{2})|(.{0,2}\/{1})?([/.]*?(?:[^?]+)?\/?)?$/,e.loaded=!1,e.canceled=!1,e.progress=0,e._item=null,e.getItem=function(){return this._item},e.init=function(){},e.load=function(){},e.close=function(){},e._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e=new createjs.Event("progress"),e.loaded=this.progress,e.total=1):(e=t,this.progress=t.loaded/t.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0)),e.progress=this.progress,this.hasEventListener("progress")&&this.dispatchEvent(e)}},e._sendComplete=function(){this._isCanceled()||this.dispatchEvent("complete")},e._sendError=function(t){!this._isCanceled()&&this.hasEventListener("error")&&(null==t&&(t=new createjs.Event("error")),this.dispatchEvent(t))},e._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},e._parseURI=function(t){return t?t.match(i.FILE_PATTERN):null},e._parsePath=function(t){return t?t.match(i.PATH_PATTERN):null},e._formatQueryString=function(t,e){if(null==t)throw Error("You must specify data.");var i=[];for(var n in t)i.push(n+"="+escape(t[n]));return e&&(i=i.concat(e)),i.join("&")},e.buildPath=function(t,e){if(null==e)return t;var i=[],n=t.indexOf("?");if(-1!=n){var s=t.slice(n+1);i=i.concat(s.split("&"))}return-1!=n?t.slice(0,n)+"?"+this._formatQueryString(e,i):t+"?"+this._formatQueryString(e,i)},e._isCrossDomain=function(t){var e=document.createElement("a");e.href=t.src;var i=document.createElement("a");i.href=location.href;var n=""!=e.hostname&&(e.port!=i.port||e.protocol!=i.protocol||e.hostname!=i.hostname);return n},e._isLocal=function(t){var e=document.createElement("a");return e.href=t.src,""==e.hostname&&"file:"==e.protocol},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.init(t,e,i)},e=t.prototype=new createjs.AbstractLoader,i=t;i.loadTimeout=8e3,i.LOAD_TIMEOUT=0,i.BINARY="binary",i.CSS="css",i.IMAGE="image",i.JAVASCRIPT="javascript",i.JSON="json",i.JSONP="jsonp",i.MANIFEST="manifest",i.SOUND="sound",i.SVG="svg",i.TEXT="text",i.XML="xml",i.POST="POST",i.GET="GET",e._basePath=null,e._crossOrigin="",e.useXHR=!0,e.stopOnError=!1,e.maintainScriptOrder=!0,e.next=null,e._typeCallbacks=null,e._extensionCallbacks=null,e._loadStartWasDispatched=!1,e._maxConnections=1,e._currentlyLoadingScript=null,e._currentLoads=null,e._loadQueue=null,e._loadQueueBackup=null,e._loadItemsById=null,e._loadItemsBySrc=null,e._loadedResults=null,e._loadedRawResults=null,e._numItems=0,e._numItemsLoaded=0,e._scriptOrder=null,e._loadedScripts=null,e.init=function(t,e,i){this._numItems=this._numItemsLoaded=0,this._paused=!1,this._loadStartWasDispatched=!1,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._scriptOrder=[],this._loadedScripts=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._typeCallbacks={},this._extensionCallbacks={},this._basePath=e,this.setUseXHR(t),this._crossOrigin=i===!0?"Anonymous":i===!1||null==i?"":i},e.setUseXHR=function(t){return this.useXHR=0!=t&&null!=window.XMLHttpRequest,this.useXHR},e.removeAll=function(){this.remove()},e.remove=function(t){var e=null;if(!t||t instanceof Array){if(t)e=t;else if(arguments.length>0)return}else e=[t];var i=!1;if(e){for(;e.length;){var n=e.pop(),s=this.getResult(n);for(r=this._loadQueue.length-1;r>=0;r--)if(a=this._loadQueue[r].getItem(),a.id==n||a.src==n){this._loadQueue.splice(r,1)[0].cancel();break}for(r=this._loadQueueBackup.length-1;r>=0;r--)if(a=this._loadQueueBackup[r].getItem(),a.id==n||a.src==n){this._loadQueueBackup.splice(r,1)[0].cancel();break}if(s)delete this._loadItemsById[s.id],delete this._loadItemsBySrc[s.src],this._disposeItem(s);else for(var r=this._currentLoads.length-1;r>=0;r--){var a=this._currentLoads[r].getItem();if(a.id==n||a.src==n){this._currentLoads.splice(r,1)[0].cancel(),i=!0;break}}}i&&this._loadNext()}else{this.close();for(var o in this._loadItemsById)this._disposeItem(this._loadItemsById[o]);this.init(this.useXHR)}},e.reset=function(){this.close();for(var t in this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(var e=[],i=0,n=this._loadQueueBackup.length;n>i;i++)e.push(this._loadQueueBackup[i].getItem());this.loadManifest(e,!1)},i.isBinary=function(t){switch(t){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}},i.isText=function(t){switch(t){case createjs.LoadQueue.TEXT:case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:case createjs.LoadQueue.XML:case createjs.LoadQueue.HTML:case createjs.LoadQueue.CSS:case createjs.LoadQueue.SVG:case createjs.LoadQueue.JAVASCRIPT:return!0;default:return!1}},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){var e=t.getPreloadHandlers();if(e.scope=t,null!=e.types)for(var i=0,n=e.types.length;n>i;i++)this._typeCallbacks[e.types[i]]=e;if(null!=e.extensions)for(i=0,n=e.extensions.length;n>i;i++)this._extensionCallbacks[e.extensions[i]]=e}},e.setMaxConnections=function(t){this._maxConnections=t,!this._paused&&this._loadQueue.length>0&&this._loadNext()},e.loadFile=function(t,e,i){if(null==t){var n=new createjs.Event("error");return n.text="PRELOAD_NO_FILE",this._sendError(n),void 0}this._addItem(t,null,i),e!==!1?this.setPaused(!1):this.setPaused(!0)},e.loadManifest=function(t,e,n){var s=null,r=null;if(t instanceof Array){if(0==t.length){var a=new createjs.Event("error");return a.text="PRELOAD_MANIFEST_EMPTY",this._sendError(a),void 0}s=t}else if("string"==typeof t)s=[{src:t,type:i.MANIFEST}];else{if("object"!=typeof t){var a=new createjs.Event("error");return a.text="PRELOAD_MANIFEST_NULL",this._sendError(a),void 0}if(void 0!==t.src){if(null==t.type)t.type=i.MANIFEST;else if(t.type!=i.MANIFEST){var a=new createjs.Event("error");a.text="PRELOAD_MANIFEST_ERROR",this._sendError(a)}s=[t]}else void 0!==t.manifest&&(s=t.manifest,r=t.path)}for(var o=0,l=s.length;l>o;o++)this._addItem(s[o],r,n);e!==!1?this.setPaused(!1):this.setPaused(!0)},e.load=function(){this.setPaused(!1)},e.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},e.getResult=function(t,e){var i=this._loadItemsById[t]||this._loadItemsBySrc[t];if(null==i)return null;var n=i.id;return e&&this._loadedRawResults[n]?this._loadedRawResults[n]:this._loadedResults[n]},e.setPaused=function(t){this._paused=t,this._paused||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1},e._addItem=function(t,e,i){var n=this._createLoadItem(t,e,i);if(null!=n){var s=this._createLoader(n);null!=s&&(this._loadQueue.push(s),this._loadQueueBackup.push(s),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT&&s instanceof createjs.XHRLoader&&(this._scriptOrder.push(n),this._loadedScripts.push(null)))}},e._createLoadItem=function(t,e,i){var n=null;switch(typeof t){case"string":n={src:t};break;case"object":n=window.HTMLAudioElement&&t instanceof window.HTMLAudioElement?{tag:t,src:n.tag.src,type:createjs.LoadQueue.SOUND}:t;break;default:return null}var s=this._parseURI(n.src);null!=s&&(n.ext=s[6]),null==n.type&&(n.type=this._getTypeByExtension(n.ext));var r="",a=i||this._basePath,o=n.src;if(s&&null==s[1]&&null==s[3])if(e){r=e;var l=this._parsePath(e);o=e+o,null!=a&&l&&null==l[1]&&null==l[2]&&(r=a+r)}else null!=a&&(r=a);if(n.src=r+n.src,n.path=r,(n.type==createjs.LoadQueue.JSON||n.type==createjs.LoadQueue.MANIFEST)&&(n._loadAsJSONP=null!=n.callback),n.type==createjs.LoadQueue.JSONP&&null==n.callback)throw Error("callback is required for loading JSONP requests.");(void 0===n.tag||null===n.tag)&&(n.tag=this._createTag(n)),(void 0===n.id||null===n.id||""===n.id)&&(n.id=o);var u=this._typeCallbacks[n.type]||this._extensionCallbacks[n.ext];if(u){var h=u.callback.call(u.scope,n.src,n.type,n.id,n.data,r,this);if(h===!1)return null;h===!0||(null!=h.src&&(n.src=h.src),null!=h.id&&(n.id=h.id),null!=h.tag&&(n.tag=h.tag),null!=h.completeHandler&&(n.completeHandler=h.completeHandler),h.type&&(n.type=h.type),s=this._parseURI(n.src),null!=s&&null!=s[6]&&(n.ext=s[6].toLowerCase()))}return this._loadItemsById[n.id]=n,this._loadItemsBySrc[n.src]=n,n},e._createLoader=function(t){var e=this.useXHR;switch(t.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:e=!t._loadAsJSONP;break;case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:e=!0;break;case createjs.LoadQueue.SOUND:case createjs.LoadQueue.JSONP:e=!1;break;case null:return null}return e?new createjs.XHRLoader(t,this._crossOrigin):new createjs.TagLoader(t)},e._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var t=0;this._loadQueue.length>t&&!(this._currentLoads.length>=this._maxConnections);t++){var e=this._loadQueue[t];if(this.maintainScriptOrder&&e instanceof createjs.TagLoader&&e.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(t,1),t--,this._loadItem(e)}}},e._loadItem=function(t){t.on("progress",this._handleProgress,this),t.on("complete",this._handleFileComplete,this),t.on("error",this._handleFileError,this),this._currentLoads.push(t),this._sendFileStart(t.getItem()),t.load()},e._handleFileError=function(t){var e=t.target;this._numItemsLoaded++,this._updateProgress();var i=new createjs.Event("error");i.text="FILE_LOAD_ERROR",i.item=e.getItem(),this._sendError(i),this.stopOnError||(this._removeLoadItem(e),this._loadNext())},e._handleFileComplete=function(t){var e=t.target,i=e.getItem();if(this._loadedResults[i.id]=e.getResult(),e instanceof createjs.XHRLoader&&(this._loadedRawResults[i.id]=e.getResult(!0)),this._removeLoadItem(e),this.maintainScriptOrder&&i.type==createjs.LoadQueue.JAVASCRIPT){if(!(e instanceof createjs.TagLoader))return this._loadedScripts[createjs.indexOf(this._scriptOrder,i)]=i,this._checkScriptLoadOrder(e),void 0;this._currentlyLoadingScript=!1}if(delete i._loadAsJSONP,i.type==createjs.LoadQueue.MANIFEST){var n=e.getResult();null!=n&&void 0!==n.manifest&&this.loadManifest(n,!0)}this._processFinishedLoad(i,e)},e._processFinishedLoad=function(t,e){this._numItemsLoaded++,this._updateProgress(),this._sendFileComplete(t,e),this._loadNext()},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;t>e;e++){var i=this._loadedScripts[e];if(null===i)break;if(i!==!0){var n=this._loadedResults[i.id];(document.body||document.getElementsByTagName("body")[0]).appendChild(n),this._processFinishedLoad(i),this._loadedScripts[e]=!0}}},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,i=0;e>i;i++)if(this._currentLoads[i]==t){this._currentLoads.splice(i,1);break}},e._handleProgress=function(t){var e=t.target;this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(e>0){for(var i=0,n=0,s=this._currentLoads.length;s>n;n++)i+=this._currentLoads[n].progress;t+=i/e*(e/this._numItems)}this._sendProgress(t)},e._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},e._createTag=function(t){var e=null;switch(t.type){case createjs.LoadQueue.IMAGE:return e=document.createElement("img"),""==this._crossOrigin||this._isLocal(t)||(e.crossOrigin=this._crossOrigin),e;case createjs.LoadQueue.SOUND:return e=document.createElement("audio"),e.autoplay=!1,e;case createjs.LoadQueue.JSON:case createjs.LoadQueue.JSONP:case createjs.LoadQueue.JAVASCRIPT:case createjs.LoadQueue.MANIFEST:return e=document.createElement("script"),e.type="text/javascript",e;case createjs.LoadQueue.CSS:return e=this.useXHR?document.createElement("style"):document.createElement("link"),e.rel="stylesheet",e.type="text/css",e;case createjs.LoadQueue.SVG:return this.useXHR?e=document.createElement("svg"):(e=document.createElement("object"),e.type="image/svg+xml"),e}return null},e._getTypeByExtension=function(t){if(null==t)return createjs.LoadQueue.TEXT;switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.LoadQueue.IMAGE;case"ogg":case"mp3":case"wav":return createjs.LoadQueue.SOUND;case"json":return createjs.LoadQueue.JSON;case"xml":return createjs.LoadQueue.XML;case"css":return createjs.LoadQueue.CSS;case"js":return createjs.LoadQueue.JAVASCRIPT;case"svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}},e._sendFileProgress=function(t,e){if(this._isCanceled())return this._cleanUp(),void 0;if(this.hasEventListener("fileprogress")){var i=new createjs.Event("fileprogress");i.progress=e,i.loaded=e,i.total=1,i.item=t,this.dispatchEvent(i)}},e._sendFileComplete=function(t,e){if(!this._isCanceled()){var i=new createjs.Event("fileload");i.loader=e,i.item=t,i.result=this._loadedResults[t.id],i.rawResult=this._loadedRawResults[t.id],t.completeHandler&&t.completeHandler(i),this.hasEventListener("fileload")&&this.dispatchEvent(i)}},e._sendFileStart=function(t){var e=new createjs.Event("filestart");e.item=t,this.hasEventListener("filestart")&&this.dispatchEvent(e)},e.toString=function(){return"[PreloadJS LoadQueue]"},createjs.LoadQueue=t;var n=function(){};n.init=function(){var t=navigator.userAgent;n.isFirefox=t.indexOf("Firefox")>-1,n.isOpera=null!=window.opera,n.isChrome=t.indexOf("Chrome")>-1,n.isIOS=t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1},n.init(),createjs.LoadQueue.BrowserDetect=n}(),this.createjs=this.createjs||{},function(){var t=function(t){this.init(t)},e=t.prototype=new createjs.AbstractLoader;e._loadTimeout=null,e._tagCompleteProxy=null,e._isAudio=!1,e._tag=null,e._jsonResult=null,e.init=function(t){this._item=t,this._tag=t.tag,this._isAudio=window.HTMLAudioElement&&t.tag instanceof window.HTMLAudioElement,this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)},e.getResult=function(){return this._item.type==createjs.LoadQueue.JSONP||this._item.type==createjs.LoadQueue.MANIFEST?this._jsonResult:this._tag},e.cancel=function(){this.canceled=!0,this._clean()},e.load=function(){var t=this._item,e=this._tag;clearTimeout(this._loadTimeout);var i=createjs.LoadQueue.LOAD_TIMEOUT;0==i&&(i=createjs.LoadQueue.loadTimeout),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),i),this._isAudio&&(e.src=null,e.preload="auto"),e.onerror=createjs.proxy(this._handleError,this),this._isAudio?(e.onstalled=createjs.proxy(this._handleStalled,this),e.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(e.onload=createjs.proxy(this._handleLoad,this),e.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this));var n=this.buildPath(t.src,t.values);switch(t.type){case createjs.LoadQueue.CSS:e.href=n;break;case createjs.LoadQueue.SVG:e.data=n;break;default:e.src=n}if(t.type==createjs.LoadQueue.JSONP||t.type==createjs.LoadQueue.JSON||t.type==createjs.LoadQueue.MANIFEST){if(null==t.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[t.callback])throw Error('JSONP callback "'+t.callback+'" already exists on window. You need to specify a different callback. Or re-name the current one.');
window[t.callback]=createjs.proxy(this._handleJSONPLoad,this)}(t.type==createjs.LoadQueue.SVG||t.type==createjs.LoadQueue.JSONP||t.type==createjs.LoadQueue.JSON||t.type==createjs.LoadQueue.MANIFEST||t.type==createjs.LoadQueue.JAVASCRIPT||t.type==createjs.LoadQueue.CSS)&&(this._startTagVisibility=e.style.visibility,e.style.visibility="hidden",(document.body||document.getElementsByTagName("body")[0]).appendChild(e)),null!=e.load&&e.load()},e._handleJSONPLoad=function(t){this._jsonResult=t},e._handleTimeout=function(){this._clean();var t=new createjs.Event("error");t.text="PRELOAD_TIMEOUT",this._sendError(t)},e._handleStalled=function(){},e._handleError=function(){this._clean();var t=new createjs.Event("error");this._sendError(t)},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this.getItem().tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleLoad()},e._handleLoad=function(){if(!this._isCanceled()){var t=this.getItem(),e=t.tag;if(!(this.loaded||this._isAudio&&4!==e.readyState)){switch(this.loaded=!0,t.type){case createjs.LoadQueue.SVG:case createjs.LoadQueue.JSON:case createjs.LoadQueue.JSONP:case createjs.LoadQueue.MANIFEST:case createjs.LoadQueue.CSS:e.style.visibility=this._startTagVisibility,(document.body||document.getElementsByTagName("body")[0]).removeChild(e)}this._clean(),this._sendComplete()}}},e._clean=function(){clearTimeout(this._loadTimeout);var t=this.getItem(),e=t.tag;null!=e&&(e.onload=null,e.removeEventListener&&e.removeEventListener("canplaythrough",this._tagCompleteProxy,!1),e.onstalled=null,e.onprogress=null,e.onerror=null,null!=e.parentNode&&t.type==createjs.LoadQueue.SVG&&t.type==createjs.LoadQueue.JSON&&t.type==createjs.LoadQueue.MANIFEST&&t.type==createjs.LoadQueue.CSS&&t.type==createjs.LoadQueue.JSONP&&e.parentNode.removeChild(e));var t=this.getItem();(t.type==createjs.LoadQueue.JSONP||t.type==createjs.LoadQueue.MANIFEST)&&(window[t.callback]=null)},e.toString=function(){return"[PreloadJS TagLoader]"},createjs.TagLoader=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e){this.init(t,e)},e=t.prototype=new createjs.AbstractLoader;e._request=null,e._loadTimeout=null,e._xhrLevel=1,e._response=null,e._rawResponse=null,e._crossOrigin="",e.init=function(t,e){this._item=t,this._crossOrigin=e,!this._createXHR(t)},e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null==this._request)return this._handleError(),void 0;if(this._request.onloadstart=createjs.proxy(this._handleLoadStart,this),this._request.onprogress=createjs.proxy(this._handleProgress,this),this._request.onabort=createjs.proxy(this._handleAbort,this),this._request.onerror=createjs.proxy(this._handleError,this),this._request.ontimeout=createjs.proxy(this._handleTimeout,this),1==this._xhrLevel){var t=createjs.LoadQueue.LOAD_TIMEOUT;if(0==t)t=createjs.LoadQueue.loadTimeout;else try{console.warn("LoadQueue.LOAD_TIMEOUT has been deprecated in favor of LoadQueue.loadTimeout")}catch(e){}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),t)}this._request.onload=createjs.proxy(this._handleLoad,this),this._request.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);try{this._item.values&&this._item.method!=createjs.LoadQueue.GET?this._item.method==createjs.LoadQueue.POST&&this._request.send(this._formatQueryString(this._item.values)):this._request.send()}catch(i){var n=new createjs.Event("error");n.error=i,this._sendError(n)}},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){if(t&&!(t.loaded>0&&0==t.total)){var e=new createjs.Event("progress");e.loaded=t.loaded,e.total=t.total,this._sendProgress(e)}},e._handleLoadStart=function(){clearTimeout(this._loadTimeout),this._sendLoadStart()},e._handleAbort=function(){this._clean();var t=new createjs.Event("error");t.text="XHR_ABORTED",this._sendError(t)},e._handleError=function(){this._clean();var t=new createjs.Event("error");this._sendError(t)},e._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(){if(!this.loaded){if(this.loaded=!0,!this._checkError())return this._handleError(),void 0;this._response=this._getResponse(),this._clean();var t=this._generateTag();t&&this._sendComplete()}},e._handleTimeout=function(t){this._clean();var e=new createjs.Event("error");e.text="PRELOAD_TIMEOUT",this._sendError(t)},e._checkError=function(){var t=parseInt(this._request.status);switch(t){case 404:case 0:return!1}return!0},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},e._createXHR=function(t){var e=this._isCrossDomain(t),i=null;if(e&&window.XDomainRequest)i=new XDomainRequest;else if(window.XMLHttpRequest)i=new XMLHttpRequest;else try{i=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(n){try{i=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(n){try{i=new ActiveXObject("Msxml2.XMLHTTP")}catch(n){return!1}}}createjs.LoadQueue.isText(t.type)&&i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),this._xhrLevel="string"==typeof i.responseType?2:1;var s=null;return s=t.method==createjs.LoadQueue.GET?this.buildPath(t.src,t.values):t.src,i.open(t.method||createjs.LoadQueue.GET,s,!0),e&&i instanceof XMLHttpRequest&&1==this._xhrLevel&&i.setRequestHeader("Origin",location.origin),t.values&&t.method==createjs.LoadQueue.POST&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),createjs.LoadQueue.isBinary(t.type)&&(i.responseType="arraybuffer"),this._request=i,!0},e._clean=function(){clearTimeout(this._loadTimeout);var t=this._request;t.onloadstart=null,t.onprogress=null,t.onabort=null,t.onerror=null,t.onload=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null},e._generateTag=function(){var t=this._item.type,e=this._item.tag;switch(t){case createjs.LoadQueue.IMAGE:return e.onload=createjs.proxy(this._handleTagReady,this),""!=this._crossOrigin&&(e.crossOrigin="Anonymous"),e.src=this.buildPath(this._item.src,this._item.values),this._rawResponse=this._response,this._response=e,!1;case createjs.LoadQueue.JAVASCRIPT:return e=document.createElement("script"),e.text=this._response,this._rawResponse=this._response,this._response=e,!0;case createjs.LoadQueue.CSS:var i=document.getElementsByTagName("head")[0];if(i.appendChild(e),e.styleSheet)e.styleSheet.cssText=this._response;else{var n=document.createTextNode(this._response);e.appendChild(n)}return this._rawResponse=this._response,this._response=e,!0;case createjs.LoadQueue.XML:var s=this._parseXML(this._response,"text/xml");return this._rawResponse=this._response,this._response=s,!0;case createjs.LoadQueue.SVG:var s=this._parseXML(this._response,"image/svg+xml");return this._rawResponse=this._response,null!=s.documentElement?(e.appendChild(s.documentElement),this._response=e):this._response=s,!0;case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:var r={};try{r=JSON.parse(this._response)}catch(a){r=a}return this._rawResponse=this._response,this._response=r,!0}return!0},e._parseXML=function(t,e){var i=null;try{if(window.DOMParser){var n=new DOMParser;i=n.parseFromString(t,e)}else i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t)}catch(s){}return i},e._handleTagReady=function(){this._sendComplete()},e.toString=function(){return"[PreloadJS XHRLoader]"},createjs.XHRLoader=t}(),"object"!=typeof JSON&&(JSON={}),function(){function f(t){return 10>t?"0"+t:t}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,s,r,a,o=gap,l=e[t];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?l+"":"null";case"boolean":case"null":return l+"";case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(r=l.length,i=0;r>i;i+=1)a[i]=str(i,l)||"null";return s=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+o+"]":"["+a.join(",")+"]",gap=o,s}if(rep&&"object"==typeof rep)for(r=rep.length,i=0;r>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],s=str(n,l),s&&a.push(quote(n)+(gap?": ":":")+s));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(s=str(n,l),s&&a.push(quote(n)+(gap?": ":":")+s));return s=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+o+"}":"{"+a.join(",")+"}",gap=o,s}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var i,n,s=t[e];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(t,e,s)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),this.createjs=this.createjs||{},function(){var t=createjs.SoundJS=createjs.SoundJS||{};t.version="NEXT",t.buildDate="Thu, 12 Dec 2013 23:37:06 GMT"}(),this.createjs=this.createjs||{},function(){function t(){throw"Sound cannot be instantiated"}function e(t,e){this.init(t,e)}function i(){this.isDefault=!0,this.addEventListener=this.removeEventListener=this.removeAllEventListeners=this.dispatchEvent=this.hasEventListener=this._listeners=this._interrupt=this._playFailed=this.pause=this.resume=this.play=this._beginPlaying=this._cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=this.playFailed=function(){return!1},this.getVolume=this.getPan=this.getDuration=function(){return 0},this.playState=t.PLAY_FAILED,this.toString=function(){return"[Sound Default Sound Instance]"}}function n(){}var s=t;s.DELIMITER="|",s.INTERRUPT_ANY="any",s.INTERRUPT_EARLY="early",s.INTERRUPT_LATE="late",s.INTERRUPT_NONE="none",s.PLAY_INITED="playInited",s.PLAY_SUCCEEDED="playSucceeded",s.PLAY_INTERRUPTED="playInterrupted",s.PLAY_FINISHED="playFinished",s.PLAY_FAILED="playFailed",s.SUPPORTED_EXTENSIONS=["mp3","ogg","mpeg","wav","m4a","mp4","aiff","wma","mid"],s.EXTENSION_MAP={m4a:"mp4"},s.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,s.defaultInterruptBehavior=s.INTERRUPT_NONE,s.alternateExtensions=[],s._lastID=0,s.activePlugin=null,s._pluginsRegistered=!1,s._masterVolume=1,s._masterMute=!1,s._instances=[],s._idHash={},s._preloadHash={},s._defaultSoundInstance=null,s.addEventListener=null,s.removeEventListener=null,s.removeAllEventListeners=null,s.dispatchEvent=null,s.hasEventListener=null,s._listeners=null,createjs.EventDispatcher.initialize(s),s._sendFileLoadEvent=function(t){if(s._preloadHash[t])for(var e=0,i=s._preloadHash[t].length;i>e;e++){var n=s._preloadHash[t][e];if(s._preloadHash[t][e]=!0,s.hasEventListener("fileload")){var r=new createjs.Event("fileload");r.src=n.src,r.id=n.id,r.data=n.data,s.dispatchEvent(r)}}},s.getPreloadHandlers=function(){return{callback:createjs.proxy(s.initLoad,s),types:["sound"],extensions:s.SUPPORTED_EXTENSIONS}},s.registerPlugin=function(t){try{console.log("createjs.Sound.registerPlugin has been deprecated. Please use registerPlugins.")}catch(e){}return s._registerPlugin(t)},s._registerPlugin=function(t){return s._pluginsRegistered=!0,null==t?!1:t.isSupported()?(s.activePlugin=new t,!0):!1},s.registerPlugins=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];if(s._registerPlugin(n))return!0}return!1},s.initializeDefaultPlugins=function(){return null!=s.activePlugin?!0:s._pluginsRegistered?!1:s.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},s.isReady=function(){return null!=s.activePlugin},s.getCapabilities=function(){return null==s.activePlugin?null:s.activePlugin._capabilities},s.getCapability=function(t){return null==s.activePlugin?null:s.activePlugin._capabilities[t]},s.initLoad=function(t,e,i,n,r){t=t.replace(r,"");var a=s.registerSound(t,i,n,!1,r);return null==a?!1:a},s.registerSound=function(t,i,n,r,a){if(!s.initializeDefaultPlugins())return!1;if(t instanceof Object&&(a=i,i=t.id,n=t.data,t=t.src),s.alternateExtensions.length)var o=s._parsePath2(t,"sound",i,n);else var o=s._parsePath(t,"sound",i,n);if(null==o)return!1;null!=a&&(t=a+t,o.src=a+o.src),null!=i&&(s._idHash[i]=o.src);var l=null;null!=n&&(isNaN(n.channels)?isNaN(n)||(l=parseInt(n)):l=parseInt(n.channels));var u=s.activePlugin.register(o.src,l);if(null!=u&&(null!=u.numChannels&&(l=u.numChannels),e.create(o.src,l),null!=n&&isNaN(n)?n.channels=o.data.channels=l||e.maxPerChannel():n=o.data=l||e.maxPerChannel(),null!=u.tag?o.tag=u.tag:u.src&&(o.src=u.src),null!=u.completeHandler&&(o.completeHandler=u.completeHandler),u.type&&(o.type=u.type)),0!=r)if(s._preloadHash[o.src]||(s._preloadHash[o.src]=[]),s._preloadHash[o.src].push({src:t,id:i,data:n}),1==s._preloadHash[o.src].length)s.activePlugin.preload(o.src,u);else if(1==s._preloadHash[o.src][0])return!0;return o},s.registerManifest=function(t,e){for(var i=[],n=0,s=t.length;s>n;n++)i[n]=createjs.Sound.registerSound(t[n].src,t[n].id,t[n].data,t[n].preload,e);return i},s.removeSound=function(t,i){if(null==s.activePlugin)return!1;if(t instanceof Object&&(t=t.src),t=s._getSrcById(t),s.alternateExtensions.length)var n=s._parsePath2(t);else var n=s._parsePath(t);if(null==n)return!1;null!=i&&(n.src=i+n.src),t=n.src;for(var r in s._idHash)s._idHash[r]==t&&delete s._idHash[r];return e.removeSrc(t),delete s._preloadHash[t],s.activePlugin.removeSound(t),!0},s.removeManifest=function(t,e){for(var i=[],n=0,s=t.length;s>n;n++)i[n]=createjs.Sound.removeSound(t[n].src,e);return i},s.removeAllSounds=function(){s._idHash={},s._preloadHash={},e.removeAll(),s.activePlugin.removeAllSounds()},s.loadComplete=function(t){if(s.alternateExtensions.length)var e=s._parsePath2(t,"sound");else var e=s._parsePath(t,"sound");return t=e?s._getSrcById(e.src):s._getSrcById(t),1==s._preloadHash[t][0]},s._parsePath=function(t,e,i,n){"string"!=typeof t&&(t=""+t);var r=t.split(s.DELIMITER);if(r.length>1)try{console.log('createjs.Sound.DELIMITER "|" loading approach has been deprecated. Please use the new alternateExtensions property.')}catch(a){}for(var o={type:e||"sound",id:i,data:n},l=s.getCapabilities(),u=0,h=r.length;h>u;u++){var c=r[u],d=c.match(s.FILE_PATTERN);if(null==d)return!1;var p=d[4],f=d[5];if(l[f]&&createjs.indexOf(s.SUPPORTED_EXTENSIONS,f)>-1)return o.name=p,o.src=c,o.extension=f,o}return null},s._parsePath2=function(t,e,i,n){"string"!=typeof t&&(t=""+t);var r=t.match(s.FILE_PATTERN);if(null==r)return!1;for(var a=r[4],o=r[5],l=s.getCapabilities(),u=0;!l[o];)if(o=s.alternateExtensions[u++],u>s.alternateExtensions.length)return null;t=t.replace("."+r[5],"."+o);var h={type:e||"sound",id:i,data:n};return h.name=a,h.src=t,h.extension=o,h},s.play=function(t,e,i,n,r,a,o){var l=s.createInstance(t),u=s._playInstance(l,e,i,n,r,a,o);return u||l.playFailed(),l},s.createInstance=function(i){if(!s.initializeDefaultPlugins())return s._defaultSoundInstance;if(i=s._getSrcById(i),s.alternateExtensions.length)var n=s._parsePath2(i,"sound");else var n=s._parsePath(i,"sound");var r=null;return null!=n&&null!=n.src?(e.create(n.src),r=s.activePlugin.create(n.src)):r=t._defaultSoundInstance,r.uniqueId=s._lastID++,r},s.setVolume=function(t){if(null==Number(t))return!1;if(t=Math.max(0,Math.min(1,t)),s._masterVolume=t,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var e=this._instances,i=0,n=e.length;n>i;i++)e[i].setMasterVolume(t)},s.getVolume=function(){return s._masterVolume},s.setMute=function(t){if(null==t||void 0==t)return!1;if(this._masterMute=t,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(t))for(var e=this._instances,i=0,n=e.length;n>i;i++)e[i].setMasterMute(t);return!0},s.getMute=function(){return this._masterMute},s.stop=function(){for(var t=this._instances,e=t.length;e--;)t[e].stop()},s._playInstance=function(t,e,i,n,r,a,o){if(e instanceof Object&&(i=e.delay,n=e.offset,r=e.loop,a=e.volume,o=e.pan,e=e.interrupt),e=e||s.defaultInterruptBehavior,null==i&&(i=0),null==n&&(n=t.getPosition()),null==r&&(r=0),null==a&&(a=t.volume),null==o&&(o=t.pan),0==i){var l=s._beginPlaying(t,e,n,r,a,o);if(!l)return!1}else{var u=setTimeout(function(){s._beginPlaying(t,e,n,r,a,o)},i);t._delayTimeoutId=u}return this._instances.push(t),!0},s._beginPlaying=function(t,i,n,s,r,a){if(!e.add(t,i))return!1;var o=t._beginPlaying(n,s,r,a);if(!o){var l=createjs.indexOf(this._instances,t);return l>-1&&this._instances.splice(l,1),!1}return!0},s._getSrcById=function(t){return null==s._idHash||null==s._idHash[t]?t:s._idHash[t]},s._playFinished=function(t){e.remove(t);var i=createjs.indexOf(this._instances,t);i>-1&&this._instances.splice(i,1)},createjs.Sound=t,e.channels={},e.create=function(t,i){var n=e.get(t);return null==n?(e.channels[t]=new e(t,i),!0):!1},e.removeSrc=function(t){var i=e.get(t);return null==i?!1:(i.removeAll(),delete e.channels[t],!0)},e.removeAll=function(){for(var t in e.channels)e.channels[t].removeAll();e.channels={}},e.add=function(t,i){var n=e.get(t.src);return null==n?!1:n.add(t,i)},e.remove=function(t){var i=e.get(t.src);return null==i?!1:(i.remove(t),!0)},e.maxPerChannel=function(){return r.maxDefault},e.get=function(t){return e.channels[t]};var r=e.prototype;r.src=null,r.max=null,r.maxDefault=100,r.length=0,r.init=function(t,e){this.src=t,this.max=e||this.maxDefault,-1==this.max&&(this.max=this.maxDefault),this._instances=[]},r.get=function(t){return this._instances[t]},r.add=function(t,e){return this.getSlot(e,t)?(this._instances.push(t),this.length++,!0):!1},r.remove=function(t){var e=createjs.indexOf(this._instances,t);return-1==e?!1:(this._instances.splice(e,1),this.length--,!0)},r.removeAll=function(){for(var t=this.length-1;t>=0;t--)this._instances[t].stop()},r.getSlot=function(e){for(var i,n,s=0,r=this.max;r>s;s++){if(i=this.get(s),null==i)return!0;(e!=t.INTERRUPT_NONE||i.playState==t.PLAY_FINISHED)&&(0!=s?i.playState==t.PLAY_FINISHED||i.playState==t.PLAY_INTERRUPTED||i.playState==t.PLAY_FAILED?n=i:(e==t.INTERRUPT_EARLY&&n.getPosition()>i.getPosition()||e==t.INTERRUPT_LATE&&i.getPosition()>n.getPosition())&&(n=i):n=i)}return null!=n?(n._interrupt(),this.remove(n),!0):!1},r.toString=function(){return"[Sound SoundChannel]"},t._defaultSoundInstance=new i,n.init=function(){var t=window.navigator.userAgent;n.isFirefox=t.indexOf("Firefox")>-1,n.isOpera=null!=window.opera,n.isChrome=t.indexOf("Chrome")>-1,n.isIOS=t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1,n.isAndroid=t.indexOf("Android")>-1,n.isBlackberry=t.indexOf("Blackberry")>-1},n.init(),createjs.Sound.BrowserDetect=n}(),this.createjs=this.createjs||{},function(){function t(){this._init()}var e=t;e._capabilities=null,e.isSupported=function(){var t=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;return"file:"!=location.protocol||t||this._isFileXHRSupported()?(e._generateCapabilities(),null==e.context?!1:!0):!1},e._isFileXHRSupported=function(){var t=!0,e=new XMLHttpRequest;try{e.open("GET","fail.fail",!1)}catch(i){return t=!1}e.onerror=function(){t=!1},e.onload=function(){t=404==this.status||200==this.status||0==this.status&&""!=this.response};try{e.send()}catch(i){t=!1}return t},e._generateCapabilities=function(){if(null==e._capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(window.webkitAudioContext)e.context=new webkitAudioContext;else{if(!window.AudioContext)return null;e.context=new AudioContext}e._compatibilitySetUp(),e.playEmptySound(),e._capabilities={panning:!0,volume:!0,tracks:-1};for(var i=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,s=0,r=i.length;r>s;s++){var a=i[s],o=n[a]||a;e._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}2>e.context.destination.numberOfChannels&&(e._capabilities.panning=!1),e.dynamicsCompressorNode=e.context.createDynamicsCompressor(),e.dynamicsCompressorNode.connect(e.context.destination),e.gainNode=e.context.createGain(),e.gainNode.connect(e.dynamicsCompressorNode)}},e._compatibilitySetUp=function(){if(!e.context.createGain){e.context.createGain=e.context.createGainNode;var t=e.context.createBufferSource();t.__proto__.start=t.__proto__.noteGrainOn,t.__proto__.stop=t.__proto__.noteOff,this._panningModel=0}},e.playEmptySound=function(){var t=this.context.createBuffer(1,1,22050),e=this.context.createBufferSource();e.buffer=t,e.connect(this.context.destination),e.start(0,0,0)};var i=t.prototype;i._capabilities=null,i._volume=1,i.context=null,i._panningModel="equalpower",i.dynamicsCompressorNode=null,i.gainNode=null,i._arrayBuffers=null,i._init=function(){this._capabilities=e._capabilities,this._arrayBuffers={},this.context=e.context,this.gainNode=e.gainNode,this.dynamicsCompressorNode=e.dynamicsCompressorNode},i.register=function(t){this._arrayBuffers[t]=!0;var e=new createjs.WebAudioPlugin.Loader(t,this);return{tag:e}},i.isPreloadStarted=function(t){return null!=this._arrayBuffers[t]},i.isPreloadComplete=function(t){return!(null==this._arrayBuffers[t]||1==this._arrayBuffers[t])},i.removeSound=function(t){delete this._arrayBuffers[t]},i.removeAllSounds=function(){this._arrayBuffers={}},i.addPreloadResults=function(t,e){this._arrayBuffers[t]=e},i._handlePreloadComplete=function(){createjs.Sound._sendFileLoadEvent(this.src)},i.preload=function(t){this._arrayBuffers[t]=!0;var e=new createjs.WebAudioPlugin.Loader(t,this);e.onload=this._handlePreloadComplete,e.load()},i.create=function(t){return this.isPreloadStarted(t)||this.preload(t),new createjs.WebAudioPlugin.SoundInstance(t,this)},i.setVolume=function(t){return this._volume=t,this._updateVolume(),!0},i._updateVolume=function(){var t=createjs.Sound._masterMute?0:this._volume;t!=this.gainNode.gain.value&&(this.gainNode.gain.value=t)},i.getVolume=function(){return this._volume},i.setMute=function(){return this._updateVolume(),!0},i.toString=function(){return"[WebAudioPlugin]"},createjs.WebAudioPlugin=t}(),function(){function t(t,e){this._init(t,e)}var e=t.prototype=new createjs.EventDispatcher;e.src=null,e.uniqueId=-1,e.playState=null,e._owner=null,e._offset=0,e._delay=0,e._volume=1;try{Object.defineProperty(e,"volume",{get:function(){return this._volume},set:function(t){return null==Number(t)?!1:(t=Math.max(0,Math.min(1,t)),this._volume=t,this._updateVolume(),void 0)}})}catch(i){}e._pan=0;try{Object.defineProperty(e,"pan",{get:function(){return this._pan},set:function(t){return this._owner._capabilities.panning&&null!=Number(t)?(t=Math.max(-1,Math.min(1,t)),this._pan=t,this.panNode.setPosition(t,0,-.5),void 0):!1}})}catch(i){}e._duration=0,e._remainingLoops=0,e._delayTimeoutId=null,e._soundCompleteTimeout=null,e.gainNode=null,e.panNode=null,e.sourceNode=null,e._sourceNodeNext=null,e._muted=!1,e._paused=!1,e._startTime=0,e._endedHandler=null,e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._init=function(t,e){this._owner=e,this.src=t,this.gainNode=this._owner.context.createGain(),this.panNode=this._owner.context.createPanner(),this.panNode.panningModel=this._owner._panningModel,this.panNode.connect(this.gainNode),this._owner.isPreloadComplete(this.src)&&(this._duration=1e3*this._owner._arrayBuffers[this.src].duration),this._endedHandler=createjs.proxy(this._handleSoundComplete,this)},e._cleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext)),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0),clearTimeout(this._delayTimeoutId),clearTimeout(this._soundCompleteTimeout),this._startTime=0,null!=window.createjs&&createjs.Sound._playFinished(this)},e._cleanUpAudioNode=function(t){return t&&(t.stop(0),t.disconnect(this.panNode),t=null),t},e._interrupt=function(){this._cleanUp(),this.playState=createjs.Sound.PLAY_INTERRUPTED,this._paused=!1,this._sendEvent("interrupted")},e._handleSoundReady=function(){if(null!=window.createjs){if(1e3*this._offset>this.getDuration())return this.playFailed(),void 0;0>this._offset&&(this._offset=0),this.playState=createjs.Sound.PLAY_SUCCEEDED,this._paused=!1,this.gainNode.connect(this._owner.gainNode);var t=this._owner._arrayBuffers[this.src].duration;this.sourceNode=this._createAndPlayAudioNode(this._owner.context.currentTime-t,this._offset),this._duration=1e3*t,this._startTime=this.sourceNode.startTime-this._offset,this._soundCompleteTimeout=setTimeout(this._endedHandler,1e3*(t-this._offset)),0!=this._remainingLoops&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,0))}},e._createAndPlayAudioNode=function(t,e){var i=this._owner.context.createBufferSource();return i.buffer=this._owner._arrayBuffers[this.src],i.connect(this.panNode),this._owner.context.currentTime,i.startTime=t+i.buffer.duration,i.start(i.startTime,e,i.buffer.duration-e),i},e.play=function(t,e,i,n,s,r){this._cleanUp(),createjs.Sound._playInstance(this,t,e,i,n,s,r)},e._beginPlaying=function(t,e,i,n){return null!=window.createjs&&this.src?(this._offset=t/1e3,this._remainingLoops=e,this.volume=i,this.pan=n,this._owner.isPreloadComplete(this.src)?(this._handleSoundReady(null),this._sendEvent("succeeded"),1):(this.playFailed(),void 0)):void 0},e.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?!1:(this._paused=!0,this._offset=this._owner.context.currentTime-this._startTime,this._cleanUpAudioNode(this.sourceNode),this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(),clearTimeout(this._delayTimeoutId),clearTimeout(this._soundCompleteTimeout),!0)},e.resume=function(){return this._paused?(this._handleSoundReady(null),!0):!1},e.stop=function(){return this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._offset=0,!0},e.setVolume=function(t){return this.volume=t,!0},e._updateVolume=function(){var t=this._muted?0:this._volume;return t!=this.gainNode.gain.value?(this.gainNode.gain.value=t,!0):!1},e.getVolume=function(){return this.volume},e.setMute=function(t){return null==t||void 0==t?!1:(this._muted=t,this._updateVolume(),!0)},e.getMute=function(){return this._muted},e.setPan=function(t){return this.pan=t,this.pan!=t?!1:void 0},e.getPan=function(){return this.pan},e.getPosition=function(){if(this._paused||null==this.sourceNode)var t=this._offset;else var t=this._owner.context.currentTime-this._startTime;return 1e3*t},e.setPosition=function(t){return this._offset=t/1e3,this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._cleanUpAudioNode(this.sourceNode),this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout)),this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||this._handleSoundReady(null),!0},e.getDuration=function(){return this._duration},e._handleSoundComplete=function(){return this._offset=0,0!=this._remainingLoops?(this._remainingLoops--,this._sourceNodeNext?(this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._startTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)):this._handleSoundReady(null),this._sendEvent("loop"),void 0):(null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")),void 0)},e.playFailed=function(){null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed"))},e.toString=function(){return"[WebAudioPlugin SoundInstance]"},createjs.WebAudioPlugin.SoundInstance=t}(),function(){function t(t,e){this._init(t,e)}var e=t.prototype;e.request=null,e.owner=null,e.progress=-1,e.src=null,e.originalSrc=null,e.result=null,e.onload=null,e.onprogress=null,e.onError=null,e._init=function(t,e){this.src=t,this.originalSrc=t,this.owner=e},e.load=function(t){null!=t&&(this.src=t),this.request=new XMLHttpRequest,this.request.open("GET",this.src,!0),this.request.responseType="arraybuffer",this.request.onload=createjs.proxy(this.handleLoad,this),this.request.onError=createjs.proxy(this.handleError,this),this.request.onprogress=createjs.proxy(this.handleProgress,this),this.request.send()},e.handleProgress=function(t,e){this.progress=t/e,null!=this.onprogress&&this.onprogress({loaded:t,total:e,progress:this.progress})},e.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))},e.handleAudioDecoded=function(t){this.progress=1,this.result=t,this.src=this.originalSrc,this.owner.addPreloadResults(this.src,this.result),this.onload&&this.onload()},e.handleError=function(t){this.owner.removeSound(this.src),this.onerror&&this.onerror(t)},e.toString=function(){return"[WebAudioPlugin Loader]"},createjs.WebAudioPlugin.Loader=t}(),this.createjs=this.createjs||{},function(){function t(){this._init()}var e=t;e.MAX_INSTANCES=30,e._AUDIO_READY="canplaythrough",e._AUDIO_ENDED="ended",e._AUDIO_SEEKED="seeked",e._AUDIO_STALLED="stalled",e._capabilities=null,e.enableIOS=!1,e.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS&&!e.enableIOS)return!1;e._generateCapabilities();var t=e.tag;return null==t||null==e._capabilities?!1:!0},e._generateCapabilities=function(){if(null==e._capabilities){var t=e.tag=document.createElement("audio");if(null==t.canPlayType)return null;e._capabilities={panning:!0,volume:!0,tracks:-1};for(var i=createjs.Sound.SUPPORTED_EXTENSIONS,n=createjs.Sound.EXTENSION_MAP,s=0,r=i.length;r>s;s++){var a=i[s],o=n[a]||a;e._capabilities[a]="no"!=t.canPlayType("audio/"+a)&&""!=t.canPlayType("audio/"+a)||"no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)}}};var i=t.prototype;i._capabilities=null,i._audioSources=null,i.defaultNumChannels=2,i.loadedHandler=null,i._init=function(){this._capabilities=e._capabilities,this._audioSources={}
},i.register=function(t,e){this._audioSources[t]=!0;for(var i=createjs.HTMLAudioPlugin.TagPool.get(t),n=null,s=e||this.defaultNumChannels,r=0;s>r;r++)n=this._createTag(t),i.add(n);if(n.id=t,this.loadedHandler=createjs.proxy(this._handleTagLoad,this),n.addEventListener&&n.addEventListener("canplaythrough",this.loadedHandler),null==n.onreadystatechange)n.onreadystatechange=this.loadedHandler;else{var a=n.onreadystatechange;n.onreadystatechange=function(){a(),this.loadedHandler()}}return{tag:n,numChannels:s}},i._handleTagLoad=function(t){t.target.removeEventListener&&t.target.removeEventListener("canplaythrough",this.loadedHandler),t.target.onreadystatechange=null,t.target.src!=t.target.id&&createjs.HTMLAudioPlugin.TagPool.checkSrc(t.target.id)},i._createTag=function(t){var e=document.createElement("audio");return e.autoplay=!1,e.preload="none",e.src=t,e},i.removeSound=function(t){delete this._audioSources[t],createjs.HTMLAudioPlugin.TagPool.remove(t)},i.removeAllSounds=function(){this._audioSources={},createjs.HTMLAudioPlugin.TagPool.removeAll()},i.create=function(t){if(!this.isPreloadStarted(t)){var e=createjs.HTMLAudioPlugin.TagPool.get(t),i=this._createTag(t);i.id=t,e.add(i),this.preload(t,{tag:i})}return new createjs.HTMLAudioPlugin.SoundInstance(t,this)},i.isPreloadStarted=function(t){return null!=this._audioSources[t]},i.preload=function(t,e){this._audioSources[t]=!0,new createjs.HTMLAudioPlugin.Loader(t,e.tag)},i.toString=function(){return"[HTMLAudioPlugin]"},createjs.HTMLAudioPlugin=t}(),function(){function t(t,e){this._init(t,e)}var e=t.prototype=new createjs.EventDispatcher;e.src=null,e.uniqueId=-1,e.playState=null,e._owner=null,e.loaded=!1,e._offset=0,e._delay=0,e._volume=1;try{Object.defineProperty(e,"volume",{get:function(){return this._volume},set:function(t){null!=Number(t)&&(t=Math.max(0,Math.min(1,t)),this._volume=t,this._updateVolume())}})}catch(i){}e.pan=0,e._duration=0,e._remainingLoops=0,e._delayTimeoutId=null,e.tag=null,e._muted=!1,e._paused=!1,e._endedHandler=null,e._readyHandler=null,e._stalledHandler=null,e.loopHandler=null,e._init=function(t,e){this.src=t,this._owner=e,this._endedHandler=createjs.proxy(this._handleSoundComplete,this),this._readyHandler=createjs.proxy(this._handleSoundReady,this),this._stalledHandler=createjs.proxy(this._handleSoundStalled,this),this.loopHandler=createjs.proxy(this.handleSoundLoop,this)},e._sendEvent=function(t){var e=new createjs.Event(t);this.dispatchEvent(e)},e._cleanUp=function(){var t=this.tag;if(null!=t){t.pause(),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),t.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1);try{t.currentTime=0}catch(e){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,t),this.tag=null}clearTimeout(this._delayTimeoutId),null!=window.createjs&&createjs.Sound._playFinished(this)},e._interrupt=function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this._cleanUp(),this._paused=!1,this._sendEvent("interrupted"))},e.play=function(t,e,i,n,s,r){this._cleanUp(),createjs.Sound._playInstance(this,t,e,i,n,s,r)},e._beginPlaying=function(t,e,i,n){if(null==window.createjs)return-1;var s=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);return null==s?(this.playFailed(),-1):(s.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._offset=t,this.volume=i,this.pan=n,this._updateVolume(),this._remainingLoops=e,4!==s.readyState?(s.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),s.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),s.preload="auto",s.load()):this._handleSoundReady(null),this._sendEvent("succeeded"),1)},e._handleSoundStalled=function(){this._cleanUp(),this._sendEvent("failed")},e._handleSoundReady=function(){if(null!=window.createjs){if(this._duration=1e3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,this._paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._offset>=this.getDuration())return this.playFailed(),void 0;this._offset>0&&(this.tag.currentTime=.001*this._offset),-1==this._remainingLoops&&(this.tag.loop=!0),0!=this._remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0),this.tag.play()}},e.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||null==this.tag?!1:(this._paused=!0,this.tag.pause(),clearTimeout(this._delayTimeoutId),!0)},e.resume=function(){return this._paused&&null!=this.tag?(this._paused=!1,this.tag.play(),!0):!1},e.stop=function(){return this._offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),!0},e.setMasterVolume=function(){return this._updateVolume(),!0},e.setVolume=function(t){return this.volume=t,!0},e._updateVolume=function(){if(null!=this.tag){var t=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;return t!=this.tag.volume&&(this.tag.volume=t),!0}return!1},e.getVolume=function(){return this.volume},e.setMasterMute=function(){return this._updateVolume(),!0},e.setMute=function(t){return null==t||void 0==t?!1:(this._muted=t,this._updateVolume(),!0)},e.getMute=function(){return this._muted},e.setPan=function(){return!1},e.getPan=function(){return 0},e.getPosition=function(){return null==this.tag?this._offset:1e3*this.tag.currentTime},e.setPosition=function(t){if(null==this.tag)this._offset=t;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1);try{this.tag.currentTime=.001*t}catch(e){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1)}return!0},e.getDuration=function(){return this._duration},e._handleSoundComplete=function(){this._offset=0,null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),this._sendEvent("complete"))},e.handleSoundLoop=function(){this._offset=0,this._remainingLoops--,0==this._remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1)),this._sendEvent("loop")},e.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this._cleanUp(),this._sendEvent("failed"))},e.toString=function(){return"[HTMLAudioPlugin SoundInstance]"},createjs.HTMLAudioPlugin.SoundInstance=t}(),function(){function t(t,e){this._init(t,e)}var e=t.prototype;e.src=null,e.tag=null,e.preloadTimer=null,e.loadedHandler=null,e._init=function(t,e){if(this.src=t,this.tag=e,this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),null==this.tag.onreadystatechange)this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);else{var i=this.tag.onreadystatechange;this.tag.onreadystatechange=function(){i(),this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.preload="auto",this.tag.load()},e.preloadTick=function(){var t=this.tag.buffered,e=this.tag.duration;t.length>0&&t.end(0)>=e-1&&this.handleTagLoaded()},e.handleTagLoaded=function(){clearInterval(this.preloadTimer)},e.sendLoadedEvent=function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler),this.tag.onreadystatechange=null,createjs.Sound._sendFileLoadEvent(this.src)},e.toString=function(){return"[HTMLAudioPlugin Loader]"},createjs.HTMLAudioPlugin.Loader=t}(),function(){function t(t){this._init(t)}var e=t;e.tags={},e.get=function(i){var n=e.tags[i];return null==n&&(n=e.tags[i]=new t(i)),n},e.remove=function(t){var i=e.tags[t];return null==i?!1:(i.removeAll(),delete e.tags[t],!0)},e.removeAll=function(){for(var t in e.tags)e.tags[t].removeAll();e.tags={}},e.getInstance=function(t){var i=e.tags[t];return null==i?null:i.get()},e.setInstance=function(t,i){var n=e.tags[t];return null==n?null:n.set(i)},e.checkSrc=function(t){var i=e.tags[t];return null==i?null:(i.checkSrcChange(),void 0)};var i=t.prototype;i.src=null,i.length=0,i.available=0,i.tags=null,i._init=function(t){this.src=t,this.tags=[]},i.add=function(t){this.tags.push(t),this.length++,this.available++},i.removeAll=function(){for(;this.length--;)delete this.tags[this.length];this.src=null,this.tags.length=0},i.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var t=this.tags.pop();return null==t.parentNode&&document.body.appendChild(t),t},i.set=function(t){var e=createjs.indexOf(this.tags,t);-1==e&&this.tags.push(t),this.available=this.tags.length},i.checkSrcChange=function(){for(var t=this.tags.length-1,e=this.tags[t].src;t--;)this.tags[t].src=e},i.toString=function(){return"[HTMLAudioPlugin TagPool]"},createjs.HTMLAudioPlugin.TagPool=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.initialize(t,e,i)},e=t.prototype=new createjs.EventDispatcher;t.NONE=0,t.LOOP=1,t.REVERSE=2,t.IGNORE={},t._tweens=[],t._plugins={},t.get=function(e,i,n,s){return s&&t.removeTweens(e),new t(e,i,n)},t.tick=function(e,i){for(var n=t._tweens.slice(),s=n.length-1;s>=0;s--){var r=n[s];i&&!r.ignoreGlobalPause||r._paused||r.tick(r._useTicks?1:e)}},t.handleEvent=function(t){"tick"==t.type&&this.tick(t.delta,t.paused)},t.removeTweens=function(e){if(e.tweenjs_count){for(var i=t._tweens,n=i.length-1;n>=0;n--)i[n]._target==e&&(i[n]._paused=!0,i.splice(n,1));e.tweenjs_count=0}},t.removeAllTweens=function(){for(var e=t._tweens,i=0,n=e.length;n>i;i++){var s=e[i];s.paused=!0,s.target.tweenjs_count=0}e.length=0},t.hasActiveTweens=function(e){return e?e.tweenjs_count:t._tweens&&!!t._tweens.length},t.installPlugin=function(e,i){var n=e.priority;null==n&&(e.priority=n=0);for(var s=0,r=i.length,a=t._plugins;r>s;s++){var o=i[s];if(a[o]){for(var l=a[o],u=0,h=l.length;h>u&&!(l[u].priority>n);u++);a[o].splice(u,0,e)}else a[o]=[e]}},t._register=function(e,i){var n=e._target,s=t._tweens;if(i)n&&(n.tweenjs_count=n.tweenjs_count?n.tweenjs_count+1:1),s.push(e),!t._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",t),t._inited=!0);else{n&&n.tweenjs_count--;for(var r=s.length;r--;)if(s[r]==e)return s.splice(r,1),void 0}},e.ignoreGlobalPause=!1,e.loop=!1,e.duration=0,e.pluginData=null,e.target=null,e.position=null,e.passive=!1,e._paused=!1,e._curQueueProps=null,e._initQueueProps=null,e._steps=null,e._actions=null,e._prevPosition=0,e._stepPosition=0,e._prevPos=-1,e._target=null,e._useTicks=!1,e._inited=!1,e.initialize=function(e,i,n){this.target=this._target=e,i&&(this._useTicks=i.useTicks,this.ignoreGlobalPause=i.ignoreGlobalPause,this.loop=i.loop,i.onChange&&this.addEventListener("change",i.onChange),i.override&&t.removeTweens(e)),this.pluginData=n||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],i&&i.paused?this._paused=!0:t._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,t.NONE)},e.wait=function(t,e){if(null==t||0>=t)return this;var i=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:i,e:this._linearEase,p1:i,v:e})},e.to=function(t,e,i){return(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},e.call=function(t,e,i){return this._addAction({f:t,p:e?e:[this],o:i?i:this._target})},e.set=function(t,e){return this._addAction({f:this._set,o:this,p:[t,e?e:this._target]})},e.play=function(t){return t||(t=this),this.call(t.setPaused,[!1],t)},e.pause=function(t){return t||(t=this),this.call(t.setPaused,[!0],t)},e.setPosition=function(t,e){0>t&&(t=0),null==e&&(e=1);var i=t,n=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,n=!0)),i==this._prevPos)return n;var s=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target)if(n)this._updateTargetProps(null,1);else if(this._steps.length>0){for(var r=0,a=this._steps.length;a>r&&!(this._steps[r].t>i);r++);var o=this._steps[r-1];this._updateTargetProps(o,(this._stepPosition=i-o.t)/o.d)}return 0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==e&&s>i?(s!=this.duration&&this._runActions(s,this.duration),this._runActions(0,i,!0)):this._runActions(s,i)),n&&this.setPaused(!0),this.dispatchEvent("change"),n},e.tick=function(t){this._paused||this.setPosition(this._prevPosition+t)},e.setPaused=function(e){return this._paused=!!e,t._register(this,!e),this},e.w=e.wait,e.t=e.to,e.c=e.call,e.s=e.set,e.toString=function(){return"[Tween]"},e.clone=function(){throw"Tween can not be cloned."},e._updateTargetProps=function(e,i){var n,s,r,a,o,l;if(e||1!=i){if(this.passive=!!e.v,this.passive)return;e.e&&(i=e.e(i,0,1,1)),n=e.p0,s=e.p1}else this.passive=!1,n=s=this._curQueueProps;for(var u in this._initQueueProps){null==(a=n[u])&&(n[u]=a=this._initQueueProps[u]),null==(o=s[u])&&(s[u]=o=a),r=a==o||0==i||1==i||"number"!=typeof a?1==i?o:a:a+(o-a)*i;var h=!1;if(l=t._plugins[u])for(var c=0,d=l.length;d>c;c++){var p=l[c].tween(this,u,r,n,s,i,!!e&&n==s,!e);p==t.IGNORE?h=!0:r=p}h||(this._target[u]=r)}},e._runActions=function(t,e,i){var n=t,s=e,r=-1,a=this._actions.length,o=1;for(t>e&&(n=e,s=t,r=a,a=o=-1);(r+=o)!=a;){var l=this._actions[r],u=l.t;(u==s||u>n&&s>u||i&&u==t)&&l.f.apply(l.o,l.p)}},e._appendQueueProps=function(e){var i,n,s,r,a;for(var o in e)if(void 0===this._initQueueProps[o]){if(n=this._target[o],i=t._plugins[o])for(s=0,r=i.length;r>s;s++)n=i[s].init(this,o,n);this._initQueueProps[o]=this._curQueueProps[o]=void 0===n?null:n}else n=this._curQueueProps[o];for(var o in e){if(n=this._curQueueProps[o],i=t._plugins[o])for(a=a||{},s=0,r=i.length;r>s;s++)i[s].step&&i[s].step(this,o,n,e[o],a);this._curQueueProps[o]=e[o]}return a&&this._appendQueueProps(a),this._curQueueProps},e._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},e._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},e._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},e._set=function(t,e){for(var i in t)e[i]=t[i]},createjs.Tween=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e,i){this.initialize(t,e,i)},e=t.prototype=new createjs.EventDispatcher;e.ignoreGlobalPause=!1,e.duration=0,e.loop=!1,e.position=null,e._paused=!1,e._tweens=null,e._labels=null,e._labelList=null,e._prevPosition=0,e._prevPos=-1,e._useTicks=!1,e.initialize=function(t,e,i){this._tweens=[],i&&(this._useTicks=i.useTicks,this.loop=i.loop,this.ignoreGlobalPause=i.ignoreGlobalPause,i.onChange&&this.addEventListener("change",i.onChange)),t&&this.addTween.apply(this,t),this.setLabels(e),i&&i.paused?this._paused=!0:createjs.Tween._register(this,!0),i&&null!=i.position&&this.setPosition(i.position,createjs.Tween.NONE)},e.addTween=function(t){var e=arguments.length;if(e>1){for(var i=0;e>i;i++)this.addTween(arguments[i]);return arguments[0]}return 0==e?null:(this.removeTween(t),this._tweens.push(t),t.setPaused(!0),t._paused=!1,t._useTicks=this._useTicks,t.duration>this.duration&&(this.duration=t.duration),this._prevPos>=0&&t.setPosition(this._prevPos,createjs.Tween.NONE),t)},e.removeTween=function(t){var e=arguments.length;if(e>1){for(var i=!0,n=0;e>n;n++)i=i&&this.removeTween(arguments[n]);return i}if(0==e)return!1;for(var s=this._tweens,n=s.length;n--;)if(s[n]==t)return s.splice(n,1),t.duration>=this.duration&&this.updateDuration(),!0;return!1},e.addLabel=function(t,e){this._labels[t]=e;var i=this._labelList;if(i){for(var n=0,s=i.length;s>n&&!(i[n].position>e);n++);i.splice(n,0,{label:t,position:e})}},e.setLabels=function(t){this._labels=t?t:{}},e.getLabels=function(){var t=this._labelList;if(!t){t=this._labelList=[];var e=this._labels;for(var i in e)t.push({label:i,position:e[i]});t.sort(function(t,e){return t.position-e.position})}return t},e.getCurrentLabel=function(){var t=this.getLabels(),e=this.position,i=t.length;if(i){for(var n=0;i>n&&!(t[n].position>e);n++);return 0==n?null:t[n-1].label}return null},e.gotoAndPlay=function(t){this.setPaused(!1),this._goto(t)},e.gotoAndStop=function(t){this.setPaused(!0),this._goto(t)},e.setPosition=function(t,e){0>t&&(t=0);var i=this.loop?t%this.duration:t,n=!this.loop&&t>=this.duration;if(i==this._prevPos)return n;this._prevPosition=t,this.position=this._prevPos=i;for(var s=0,r=this._tweens.length;r>s;s++)if(this._tweens[s].setPosition(i,e),i!=this._prevPos)return!1;return n&&this.setPaused(!0),this.dispatchEvent("change"),n},e.setPaused=function(t){this._paused=!!t,createjs.Tween._register(this,!t)},e.updateDuration=function(){this.duration=0;for(var t=0,e=this._tweens.length;e>t;t++){var i=this._tweens[t];i.duration>this.duration&&(this.duration=i.duration)}},e.tick=function(t){this.setPosition(this._prevPosition+t)},e.resolve=function(t){var e=parseFloat(t);return isNaN(e)&&(e=this._labels[t]),e},e.toString=function(){return"[Timeline]"},e.clone=function(){throw"Timeline can not be cloned."},e._goto=function(t){var e=this.resolve(t);null!=e&&this.setPosition(e)},createjs.Timeline=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"Ease cannot be instantiated."};t.linear=function(t){return t},t.none=t.linear,t.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},t.getPowIn=function(t){return function(e){return Math.pow(e,t)}},t.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},t.getPowInOut=function(t){return function(e){return 1>(e*=2)?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},t.quadIn=t.getPowIn(2),t.quadOut=t.getPowOut(2),t.quadInOut=t.getPowInOut(2),t.cubicIn=t.getPowIn(3),t.cubicOut=t.getPowOut(3),t.cubicInOut=t.getPowInOut(3),t.quartIn=t.getPowIn(4),t.quartOut=t.getPowOut(4),t.quartInOut=t.getPowInOut(4),t.quintIn=t.getPowIn(5),t.quintOut=t.getPowOut(5),t.quintInOut=t.getPowInOut(5),t.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},t.sineOut=function(t){return Math.sin(t*Math.PI/2)},t.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},t.backIn=t.getBackIn(1.7),t.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},t.backOut=t.getBackOut(1.7),t.getBackInOut=function(t){return t*=1.525,function(e){return 1>(e*=2)?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)}},t.backInOut=t.getBackInOut(1.7),t.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},t.circOut=function(t){return Math.sqrt(1- --t*t)},t.circInOut=function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},t.bounceIn=function(e){return 1-t.bounceOut(1-e)},t.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},t.bounceInOut=function(e){return.5>e?.5*t.bounceIn(2*e):.5*t.bounceOut(2*e-1)+.5},t.getElasticIn=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=e/i*Math.asin(1/t);return-(t*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/e))}},t.elasticIn=t.getElasticIn(1,.3),t.getElasticOut=function(t,e){var i=2*Math.PI;return function(n){if(0==n||1==n)return n;var s=e/i*Math.asin(1/t);return t*Math.pow(2,-10*n)*Math.sin((n-s)*i/e)+1}},t.elasticOut=t.getElasticOut(1,.3),t.getElasticInOut=function(t,e){var i=2*Math.PI;return function(n){var s=e/i*Math.asin(1/t);return 1>(n*=2)?-.5*t*Math.pow(2,10*(n-=1))*Math.sin((n-s)*i/e):.5*t*Math.pow(2,-10*(n-=1))*Math.sin((n-s)*i/e)+1}},t.elasticInOut=t.getElasticInOut(1,.3*1.5),createjs.Ease=t}(),this.createjs=this.createjs||{},function(){var t=function(){throw"MotionGuidePlugin cannot be instantiated."};t.priority=0,t._rotOffS,t._rotOffE,t._rotNormS,t._rotNormE,t.install=function(){return createjs.Tween.installPlugin(t,["guide","x","y","rotation"]),createjs.Tween.IGNORE},t.init=function(t,e,i){var n=t.target;return n.hasOwnProperty("x")||(n.x=0),n.hasOwnProperty("y")||(n.y=0),n.hasOwnProperty("rotation")||(n.rotation=0),"rotation"==e&&(t.__needsRot=!0),"guide"==e?null:i},t.step=function(e,i,n,s,r){if("rotation"==i&&(e.__rotGlobalS=n,e.__rotGlobalE=s,t.testRotData(e,r)),"guide"!=i)return s;var a,o=s;o.hasOwnProperty("path")||(o.path=[]);var l=o.path;if(o.hasOwnProperty("end")||(o.end=1),o.hasOwnProperty("start")||(o.start=n&&n.hasOwnProperty("end")&&n.path===l?n.end:0),o.hasOwnProperty("_segments")&&o._length)return s;var u=l.length,h=10;if(!(u>=6&&0==(u-2)%4))throw"invalid 'path' data, please see documentation for valid paths";o._segments=[],o._length=0;for(var c=2;u>c;c+=4){for(var d,p,f=l[c-2],g=l[c-1],m=l[c+0],v=l[c+1],y=l[c+2],_=l[c+3],x=f,b=g,w=0,S=[],T=1;h>=T;T++){var E=T/h,j=1-E;d=j*j*f+2*j*E*m+E*E*y,p=j*j*g+2*j*E*v+E*E*_,w+=S[S.push(Math.sqrt((a=d-x)*a+(a=p-b)*a))-1],x=d,b=p}o._segments.push(w),o._segments.push(S),o._length+=w}a=o.orient,o.orient=!0;var P={};return t.calc(o,o.start,P),e.__rotPathS=Number(P.rotation.toFixed(5)),t.calc(o,o.end,P),e.__rotPathE=Number(P.rotation.toFixed(5)),o.orient=!1,t.calc(o,o.end,r),o.orient=a,o.orient?(e.__guideData=o,t.testRotData(e,r),s):s},t.testRotData=function(t,e){if(void 0===t.__rotGlobalS||void 0===t.__rotGlobalE){if(t.__needsRot)return;t.__rotGlobalS=t.__rotGlobalE=void 0!==t._curQueueProps.rotation?t._curQueueProps.rotation:e.rotation=t.target.rotation||0}if(void 0!==t.__guideData){var i=t.__guideData,n=t.__rotGlobalE-t.__rotGlobalS,s=t.__rotPathE-t.__rotPathS,r=n-s;if("auto"==i.orient)r>180?r-=360:-180>r&&(r+=360);else if("cw"==i.orient){for(;0>r;)r+=360;0==r&&n>0&&180!=n&&(r+=360)}else if("ccw"==i.orient){for(r=n-(s>180?360-s:s);r>0;)r-=360;0==r&&0>n&&-180!=n&&(r-=360)}i.rotDelta=r,i.rotOffS=t.__rotGlobalS-t.__rotPathS,t.__rotGlobalS=t.__rotGlobalE=t.__guideData=t.__needsRot=void 0}},t.tween=function(e,i,n,s,r,a,o){var l=r.guide;if(void 0==l||l===s.guide)return n;if(l.lastRatio!=a){var u=(l.end-l.start)*(o?l.end:a)+l.start;switch(t.calc(l,u,e.target),l.orient){case"cw":case"ccw":case"auto":e.target.rotation+=l.rotOffS+l.rotDelta*a;break;case"fixed":default:e.target.rotation+=l.rotOffS}l.lastRatio=a}return"rotation"!=i||l.orient&&"false"!=l.orient?e.target[i]:n},t.calc=function(e,i,n){void 0==e._segments&&t.validate(e),void 0==n&&(n={x:0,y:0,rotation:0});for(var s=e._segments,r=e.path,a=e._length*i,o=s.length-2,l=0;a>s[l]&&o>l;)a-=s[l],l+=2;var u=s[l+1],h=0;for(o=u.length-1;a>u[h]&&o>h;)a-=u[h],h++;var c=h/++o+a/(o*u[h]);l=2*l+2;var d=1-c;return n.x=d*d*r[l-2]+2*d*c*r[l+0]+c*c*r[l+2],n.y=d*d*r[l-1]+2*d*c*r[l+1]+c*c*r[l+3],e.orient&&(n.rotation=57.2957795*Math.atan2((r[l+1]-r[l-1])*d+(r[l+3]-r[l+1])*c,(r[l+0]-r[l-2])*d+(r[l+2]-r[l+0])*c)),n},createjs.MotionGuidePlugin=t}(),this.createjs=this.createjs||{},function(){var t=createjs.TweenJS=createjs.TweenJS||{};t.version="NEXT",t.buildDate="Thu, 12 Dec 2013 23:37:07 GMT"}(),define("createjs",function(){}),function(){define("game/Globals",["require"],function(){var t;return t=function(){function t(){}return t.musicMuted=!1,t.sfxMuted=!1,t.gameScale,t.screenSize,t.tutorialPlayed=!1,t}()})}.call(this),function(){define("game/GlobalAssets",["require","createjs"],function(t){var e;return t("createjs"),e=function(){function t(){this.imagePreloader,this.gameData,this.bDevLogging=!1,this.chronoAudioManifest=[]}return t._instance,t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.preloadEverything=function(){return $.ajax("assets/json/game.json",{success:this.onLoadedGameData.bind(this),error:function(t,e){return console.log("GlobalAssets-> game.json load failed:"),console.log("  Status: '"+e+"'"),console.log("  Error: '"+t.status+"'")},complete:function(){return console.log("game json load success:")}})},t.prototype.onLoadedGameData=function(t){var e,i;return this.gameData="object"==typeof t?t:$.parseJSON(t),this.atlas=new createjs.SpriteSheet(this.gameData.atlas),i=this.gameData.manifest.images,e=[{src:"assets/audio/bgm.mp3",id:"bgm"},{src:"assets/audio/key_up.mp3",id:"key_up"},{src:"assets/audio/key_down.mp3",id:"key_down"},{src:"assets/audio/move1.mp3",id:"move1"},{src:"assets/audio/move2.mp3",id:"move2"},{src:"assets/audio/move3.mp3",id:"move3"},{src:"assets/audio/move4.mp3",id:"move4"},{src:"assets/audio/absorb.mp3",id:"absorb"},{src:"assets/audio/success.mp3",id:"success"},{src:"assets/audio/fail.mp3",id:"fail"}],this.imagePreloader=new createjs.LoadQueue(!1),this.imagePreloader.maintainScriptOrder=!1,this.imagePreloader.setMaxConnections(5),this.imagePerc=0,this.audioPerc=0,this.final=i[i.length-1],this.imagePreloader.addEventListener("progress",this.imageLoadProgress.bind(this)),this.imagePreloader.addEventListener("fileprogress",this.imageFileProgress.bind(this)),this.imagePreloader.addEventListener("fileload",this.imageFileLoad.bind(this)),this.imagePreloader.addEventListener("complete",this.imageLoadComplete.bind(this)),this.imagePreloader.loadManifest(i),this.audioFilesToLoad=e.length,this.audioFilesLoaded=0,createjs.Sound.alternateExtensions=["ogg"],createjs.Sound.addEventListener("fileload",this.audioFileLoad.bind(this)),createjs.Sound.registerManifest(e),this.imagesLoaded=!1,this.audioLoaded=!1},t.prototype.audioFileLoad=function(t){return this.audioFilesLoaded++,console.log(t.src,this.audioFilesLoaded,this.audioFilesToLoad),this.audioFilesLoaded===this.audioFilesToLoad&&this.audioLoadComplete(),this.audioLoadProgress(this.audioFilesLoaded/this.audioFilesToLoad)},t.prototype.audioLoadProgress=function(t){return this.audioPerc=t,this.preloadProgress((this.imagePerc+this.audioPerc)/2)},t.prototype.audioLoadComplete=function(){return this.audioLoaded=!0,console.log("GlobalAssets-> Audio loaded"),this.imagesLoaded?(this.preloadComplete(),createjs.Sound.alternateExtensions=["ogg"],createjs.Sound.registerManifest(this.chronoAudioManifest)):void 0},t.prototype.imageLoadProgress=function(t){return this.imagePerc=t.loaded,this.preloadProgress((this.imagePerc+this.audioPerc)/2)},t.prototype.imageFileProgress=function(t){return console.log("progress",t),this.preloadProgress((this.imagePerc+this.audioPerc)/2)},t.prototype.imageLoadComplete=function(){return this.imagesLoaded=!0,console.log("GlobalAssets-> Images loaded"),this.audioLoaded?(this.preloadComplete(),createjs.Sound.alternateExtensions=["ogg"],createjs.Sound.registerManifest(this.chronoAudioManifest)):void 0},t.prototype.imageFileLoad=function(t){return this.bDevLogging&&null!=t.item&&t.item.type===createjs.LoadQueue.IMAGE?console.log("GlobalAssets-> IMAGE: '"+t.item.src+"' (nW: "+t.item.tag.naturalWidth+" | nH: "+t.item.tag.naturalHeight+" | w: "+t.item.tag.width+" | h: "+t.item.tag.height+") \n",t,"\n"):void 0},t.prototype.preloadComplete=function(){return console.log("Load complete!!")},t.prototype.preloadProgress=function(){},t.prototype.getResult=function(t){return this.imagePreloader.getResult(t)},t.prototype.loadFile=function(t){return this.imagePreloader.loadFile(t,!0)},t.prototype.checkFile=function(t){return console.log("GlobalAssets-> Checking file '"+t+"'..."),getResult(t)},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/Preloader",["require","createjs","game/Globals"],function(t){var i,n;return t("createjs"),i=t("game/Globals"),n=function(t){function n(){var t,e;this.initialize(),this.bg=new createjs.Shape,this.bg.graphics.beginFill("#272526").drawRect(0,0,i.screenSize.x,i.screenSize.y),this.addChild(this.bg),t=new createjs.Text("load font vag_roundedbold","20px vag_roundedbold","#1c2126"),t.alpha=0,this.addChild(t),t=new createjs.Text("load font varela_round","20px varela_round","#1c2126"),t.alpha=0,this.addChild(t),this.lights=[],this.origin={x:i.screenSize.x/2,y:i.screenSize.y/2},this.numberOfLights=12,this.lightRadius=6,this.lightOnRadius=12,this.allScaled=!1,this.progressPerc=new createjs.Text("0%","28px varela_round","#fff"),this.progressPerc.x=this.origin.x,this.progressPerc.y=this.origin.y,this.progressPerc.textAlign="center",this.progressPerc.textBaseline="middle",this.addChild(this.progressPerc),this.createLightCircle(),null!==navigator.userAgent.match(/Firefox/i)&&(e=new createjs.Text("Firefox does not support GPU acceleration by default.\nFor a better experience, try Chrome, Safari or Internet Explorer 9","24px GeometrySoftProBoldN","#cdcdcd"),e.y=50,e.lineHeight=30,e.textAlign="center",this.addChild(e))}return e(n,t),n.prototype.createLightCircle=function(){var t,e,i,n,s,r,a,o,l,u,h;for(t=0,e=360/this.numberOfLights,s=100,h=[],r=l=0,u=this.numberOfLights;u>=0?u>l:l>u;r=u>=0?++l:--l)i=t*(Math.PI/180),n={x:Math.cos(i),y:Math.sin(i)},o={x:this.origin.x+n.x*s,y:this.origin.y+n.y*s},a=new createjs.Shape,a.graphics.beginFill("#8d8d8d").drawCircle(0,0,this.lightRadius),a.x=o.x,a.y=o.y,a.scaleX=a.scaleY=0,this.addChild(a),r!==this.numberOfLights-1?createjs.Tween.get(a).wait(35*r).to({scaleX:1,scaleY:1},125,createjs.Ease.elasticOut):createjs.Tween.get(a).wait(35*r).to({scaleX:1,scaleY:1},125,createjs.Ease.elasticOut).call(this.allScaledIn.bind(this)),a.switchedOn=!1,this.lights.push(a),h.push(t+=e);return h},n.prototype._tick=function(){return n.__super__._tick.apply(this,arguments)},n.prototype.allScaledIn=function(){var t,e,i,n;for(n=[],t=e=0,i=this.lights.length;i>=0?i>e:e>i;t=i>=0?++e:--e)n.push(createjs.Tween.get(this.lights[t]).wait(125*t).to({scaleX:2,scaleY:2},125,createjs.Ease.sineOut).to({scaleX:1,scaleY:1},125,createjs.Ease.sineIn).wait(125*(this.lights.length-1)-125*t).loop=!0);return n},n.prototype.updateProgress=function(t){var e,i,n,s,r;for(this.progressPerc.text=""+Math.floor(100*t)+"%",i=this.numberOfLights*t,i=Math.floor(i),r=[],e=s=0;i>=0?i>s:s>i;e=i>=0?++s:--s)this.lights[e].switchedOn?r.push(void 0):(this.lights[e].graphics.clear(),this.lights[e].graphics.beginFill("#fff").drawCircle(0,0,this.lightOnRadius),n=new createjs.Shape,n.graphics.beginStroke("#ffffff").ss(1).drawCircle(0,0,2*this.lightOnRadius),n.x=this.lights[e].x,n.y=this.lights[e].y,n.alpha=0,this.addChild(n),createjs.Tween.get(n).wait(25).to({alpha:1},1).to({scaleX:3,scaleY:3,alpha:0},350,createjs.Ease.sineOut).call(function(t){return function(){return t.removeChild(n)}}(this)),r.push(this.lights[e].switchedOn=!0));return r},n}(createjs.Container)})}.call(this),function(){define("game/SoundManager",["require","createjs"],function(t){var e;return t("createjs"),e=function(){function t(){}return t.bDevComments=!1,t.bIsMusicMuted=!1,t.bIsSoundMuted=!1,t.lastBgMusic,t.bgMusic,t.loopingSFX,t.lastCrossfadeAmount=0,t.newCrossfadeAmount=0,t.bPlayingBgMusic=!1,t.playBgMusic=function(t,e,i){var n,s;return null==t&&(t="none"),null==e&&(e=!1),null==i&&(i=.5),n=!1,this.bPlayingBgMusic?(s=this.getIDFromSrc(this.bgMusic.src),s===t?this.bDevComments&&console.log("SoundManager-> Sound '"+t+"' is already playing."):(this.bDevComments&&console.log("SoundManager-> Replacing '"+this.bgMusic.src+"' with '"+t+"'."),e?this.lastBgMusic=this.bgMusic:this.bgMusic.stop(),n=!0)):n=!0,n?(this.bgMusic=createjs.Sound.play(t,createjs.Sound.INTERRUPT_NONE,0,0,-1,i),this.checkMuted(i),this.checkCrossfade(e,i),this.bPlayingBgMusic=!0):void 0},t.getIDFromSrc=function(t){var e,i,n,s;return null==t?"":(s=t.split("/"),n=s[s.length-1],i=n.split("."),e=i[0])},t.stopBgMusic=function(){var t;if(this.bPlayingBgMusic){if(null!=this.bgMusic){if(t=this.bgMusic.stop())return this.bDevComments&&console.log("SoundManager-> Stopping funky beats... :("),this.bPlayingBgMusic=!1;if(this.bDevComments)return console.log("SoundManager-> Couldn't stop the funk!")}}else if(this.bDevComments)return console.log("SoundManager-> Tried to stop playing BG music - but we're *already* not playing anything!")},t.isBgMusicPlaying=function(){return"PLAY_SUCCEEDED"===this.bgMusic.playState?!0:!1},t.toggleBgMusic=function(){return this.bIsMusicMuted=!this.bIsMusicMuted,this.checkMuted()
},t.setBgMusicMute=function(t){return null==t&&(t=!0),this.bIsMusicMuted=t,this.checkMuted()},t.checkMuted=function(t){if(this.bIsMusicMuted){if(null!=this.bgMusic)return this.bgMusic.setVolume(0)}else if(null!=this.bgMusic)return this.bgMusic.setVolume(t)},t.checkCrossfade=function(t,e){return t?(null!=this.lastBgMusic&&(this.bIsMusicMuted?this.lastBgMusic.stop():(this.lastCrossfadeAmount=this.lastBgMusic.getVolume(),createjs.Tween.get(this).to({lastCrossfadeAmount:0},500).addEventListener("change",this.updateLastBGCrossfade.bind(this)).call(function(t){return function(){return t.lastBgMusic.stop()}}(this)).ignoreGlobalPause=!0)),this.bgMusic?this.bIsMusicMuted?this.lastBgMusic.setVolume(0):(this.newCrossfadeAmount=0,this.bgMusic.setVolume(0),createjs.Tween.get(this).to({newCrossfadeAmount:e},500).addEventListener("change",this.updateBGCrossfade.bind(this)).ignoreGlobalPause=!0):void 0):void 0},t.updateLastBGCrossfade=function(){return this.bDevComments&&console.log("updating last BG music "+this.lastCrossfadeAmount),this.bIsMusicMuted?void 0:this.lastBgMusic.setVolume(this.lastCrossfadeAmount)},t.updateBGCrossfade=function(){return this.bDevComments&&console.log("updating BG music to "+this.newCrossfadeAmount),this.bIsMusicMuted?void 0:this.bgMusic.setVolume(this.newCrossfadeAmount)},t.toggleSoundEffects=function(){return this.bIsSoundMuted=!this.bIsSoundMuted},t.setSoundEffectsMute=function(t){return null==t&&(t=!0),this.bIsSoundMuted=t},t.playSoundEffect=function(t,e){var i;return null==t&&(t="none"),null==e&&(e=1),this.bIsSoundMuted?this.bDevComments?console.log("SoundManager-> Muted; can't play '"+t+"'..."):void 0:i=createjs.Sound.play(t,createjs.Sound.INTERRUPT_NONE,0,0,0,e)},t.playLoopingSoundEffect=function(t,e){return null==t&&(t="none"),null==e&&(e=1),this.bIsSoundMuted?this.bDevComments?console.log("SoundManager-> Muted; can't play '"+t+"'..."):void 0:(null!=this.loopingSFX&&this.stopLoopingSoundEffect(),this.loopingSFX=createjs.Sound.play(t,createjs.Sound.INTERRUPT_NONE,0,0,-1,e))},t.stopLoopingSoundEffect=function(){return null!=this.loopingSFX?(this.loopingSFX.stop(),this.loopingSFX=null):void 0},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/GameObject",["require","createjs","game/Globals","game/GlobalAssets","game/SoundManager"],function(t){var i,n,s,r;return t("createjs"),s=t("game/Globals"),n=t("game/GlobalAssets"),r=t("game/SoundManager"),i=function(t){function i(){this.initialize(),this.deltaTime=0,this.lastTime=createjs.Ticker.getTime()}return e(i,t),i.prototype._tick=function(){var t;return i.__super__._tick.apply(this,arguments),createjs.Ticker.getPaused()?(this.lastTime=createjs.Ticker.getTime(),this.deltaTime=0):(t=createjs.Ticker.getTime(),this.deltaTime=(t-this.lastTime)/1e3,this.lastTime=t),this.update()},i.prototype.update=function(){},i}(createjs.Container)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/statemachine/states/State",["require","createjs","game/Globals","game/GlobalAssets","game/SoundManager","game/GameObject"],function(t){var i,n,s,r,a;return t("createjs"),s=t("game/Globals"),n=t("game/GlobalAssets"),r=t("game/SoundManager"),i=t("game/GameObject"),a=function(t){function i(){i.__super__.constructor.apply(this,arguments),this.transitionOutCallback=null}return e(i,t),i.prototype.update=function(){return i.__super__.update.apply(this,arguments)},i.prototype.transitionIn=function(){},i.prototype.transitionOut=function(t){return this.transitionOutCallback=t},i}(i)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/hud/TextButton",["require","createjs","game/GlobalAssets","game/SoundManager"],function(t){var i,n,s;return t("createjs"),i=t("game/GlobalAssets"),n=t("game/SoundManager"),s=function(t){function i(t,e,i,n,s,r){var a;this.colour=i,this.hoverColour=n,this.shadowColour=s,this.offset=r,this.initialize(),this.stateDefault=0,this.stateHover=1,this.stateActive=2,this.state=this.stateDefault,this.on("mousedown",this.onMouseDown.bind(this)),this.on("rollover",this.onRollOver.bind(this)),this.on("rollout",this.onRollOut.bind(this)),this.on("pressup",this.onPressUp.bind(this)),this.on("click",this.onClick.bind(this)),this.shadowText=new createjs.Text(t,e,this.shadowColour),this.shadowText.x=this.offset.x,this.shadowText.y=this.offset.y,this.shadowText.textAlign="center",this.shadowText.textBaseline="middle",this.addChild(this.shadowText),this.mainText=new createjs.Text(t,e,this.colour),this.mainText.textAlign="center",this.mainText.textBaseline="middle",this.addChild(this.mainText),a=this.mainText.getBounds(),this.hitArea=new createjs.Shape,this.hitArea.graphics.beginFill("#000").drawRect(a.x,a.y,a.width,a.height)}return e(i,t),i.prototype.newText=function(t){return this.mainText.text=t,this.shadowText.text=t},i.prototype.disable=function(){return this.mouseEnabled=!1},i.prototype.enable=function(){return this.mouseEnabled=!0},i.prototype.setSounds=function(t,e,i){return this.keyUpSound=t,this.keyDownSound=e,this.volume=i},i.prototype.onMouseDown=function(){return this.state=this.stateActive,n.playSoundEffect(this.keyDownSound,this.volume),createjs.Tween.get(this.mainText,{override:!0}).to({x:this.offset.x,y:this.offset.y},100,createjs.Ease.sineOut).ignoreGlobalPause=!0},i.prototype.onRollOver=function(){return this.state=this.stateHover,this.mainText.color=this.hoverColour},i.prototype.onRollOut=function(){return this.state=this.stateDefault,this.mouseEnabled?this.mainText.color=this.colour:void 0},i.prototype.onPressUp=function(){return this.state===this.stateActive?(this.state=this.stateHover,n.playSoundEffect(this.keyUpSound,this.volume),createjs.Tween.get(this.mainText,{override:!0}).to({x:0,y:0},100,createjs.Ease.sineOut).ignoreGlobalPause=!0):(this.state=this.stateDefault,createjs.Tween.get(this.mainText,{override:!0}).to({x:0,y:0},100,createjs.Ease.sineOut).ignoreGlobalPause=!0)},i.prototype.onClick=function(){return this.dispatchEvent("selected")},i}(createjs.Container)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/hud/GeneralButton",["require","createjs","game/GlobalAssets","game/SoundManager"],function(t){var i,n,s;return t("createjs"),n=t("game/GlobalAssets"),s=t("game/SoundManager"),i=function(t){function i(t,e,i,s,r){this.xSize=t,this.ySize=e,this["default"]=i,this.hover=s,this.active=r,this.initialize(),this.defaultScale=1,this.hoverScale=1.15,this.activeScale=1.3,this.keyUpSound="key_up",this.keyDownSound="key_down",this.volume=1,this.selectOnMouseUp=!0,this.button=new createjs.Sprite(n.getInstance().atlas,this["default"]),this.button.regX=this.xSize/2,this.button.regY=this.ySize/2,this.addChild(this.button),this.stateDefault=0,this.stateHover=1,this.stateActive=2,this.state=this.stateDefault,this.on("mousedown",this.onMouseDown.bind(this)),this.on("rollover",this.onRollOver.bind(this)),this.on("rollout",this.onRollOut.bind(this)),this.on("pressup",this.onPressUp.bind(this))}return e(i,t),i.prototype.disable=function(){return this.mouseEnabled=!1},i.prototype.enable=function(){return this.mouseEnabled=!0},i.prototype.setScales=function(t,e,i){return this.defaultScale=t,this.hoverScale=e,this.activeScale=i},i.prototype.setSounds=function(t,e,i){return this.keyUpSound=t,this.keyDownSound=e,this.volume=i},i.prototype.changeImages=function(t,e,i,n,s){switch(this["default"]=t,this.hover=e,this.active=i,null!=n&&(this.xSize=n),null!=s&&(this.ySize=s),this.button.regX=this.xSize/2,this.button.regY=this.ySize/2,this.state){case this.stateDefault:return this.button.gotoAndStop(this["default"]);case this.stateActive:return this.button.gotoAndStop(this.active);case this.stateHover:return this.button.gotoAndStop(this.hover)}},i.prototype.onMouseDown=function(){return this.button.gotoAndStop(this.active),this.state=this.stateActive,this.selectOnMouseUp||this.dispatchEvent("selected"),s.playSoundEffect(this.keyDownSound,this.volume),createjs.Tween.get(this,{override:!0}).to({scaleY:this.activeScale,scaleX:this.activeScale},62,createjs.Ease.linear).ignoreGlobalPause=!0},i.prototype.onRollOver=function(){return this.state=this.stateHover,this.button.gotoAndStop(this.hover),createjs.Tween.get(this,{override:!0}).to({scaleY:this.hoverScale,scaleX:this.hoverScale},62,createjs.Ease.linear).ignoreGlobalPause=!0},i.prototype.onRollOut=function(){return this.state=this.stateDefault,this.button.gotoAndStop(this["default"]),this.mouseEnabled?createjs.Tween.get(this,{override:!0}).to({scaleY:this.defaultScale,scaleX:this.defaultScale},62,createjs.Ease.linear).ignoreGlobalPause=!0:void 0},i.prototype.onPressUp=function(){return this.state===this.stateActive?(this.state=this.stateHover,this.button.gotoAndStop(this.hover),this.selectOnMouseUp&&this.dispatchEvent("selected"),s.playSoundEffect(this.keyUpSound,this.volume),createjs.Tween.get(this,{override:!0}).to({scaleY:this.hoverScale,scaleX:this.hoverScale},62,createjs.Ease.linear).ignoreGlobalPause=!0):(this.state=this.stateDefault,this.button.gotoAndStop(this["default"]),createjs.Tween.get(this,{override:!0}).to({scaleY:this.defaultScale,scaleX:this.defaultScale},62,createjs.Ease.linear).ignoreGlobalPause=!0)},i}(createjs.Container)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/statemachine/states/MenuState",["require","createjs","game/Globals","game/GlobalAssets","game/SoundManager","game/statemachine/states/State","game/hud/TextButton","game/hud/GeneralButton"],function(t){var i,n,s,r,a,o,l;return t("createjs"),s=t("game/Globals"),n=t("game/GlobalAssets"),a=t("game/SoundManager"),o=t("game/statemachine/states/State"),l=t("game/hud/TextButton"),i=t("game/hud/GeneralButton"),r=function(t){function r(){var t;r.__super__.constructor.apply(this,arguments),this.bg=new createjs.Sprite(n.getInstance().atlas,"arcade_bg"),this.addChild(this.bg),this.text=new createjs.Sprite(n.getInstance().atlas,"ourvalues"),this.text.regX=123,this.text.regY=15,this.text.x=s.screenSize.x/2,this.text.y=s.screenSize.y/4+50,this.addChild(this.text),this.selector=new createjs.Sprite(n.getInstance().atlas,"brackets"),this.selector.regX=159,this.selector.regY=25,this.selector.x=s.screenSize.x/2,this.selector.y=s.screenSize.y/4+50,this.addChild(this.selector),createjs.Tween.get(this.selector,{loop:!0}).to({scaleX:1.2,scaleY:1.2},500,createjs.Ease.sineInOut).to({scaleX:1,scaleY:1},500,createjs.Ease.sineInOut),t=new i(155,104,"start","start","start_pressed"),t.x=s.screenSize.x/2,t.y=3*(s.screenSize.y/4)+25,t.on("selected",this.playPressed.bind(this)),this.addChild(t),t.setScales(1,1.1,1.2),this.overlay=new createjs.Sprite(n.getInstance().atlas,"screen_glow"),this.overlay.compositeOperation="lighter",this.overlay.alpha=0,this.addChild(this.overlay),createjs.Tween.get(this.overlay,{loop:!0}).wait(1e3).to({alpha:1},60).wait(1500).to({alpha:0},60)}return e(r,t),r.prototype.update=function(){return r.__super__.update.apply(this,arguments)},r.prototype.playPressed=function(){return createjs.Tween.get(this.overlay,{override:!0}).to({alpha:1},60),createjs.Tween.get(this.selector,{override:!0}).to({scaleX:.9,scaleY:.9},30,createjs.Ease.linear).wait(250).call(function(t){return function(){return t.dispatchEvent("ChangeScreen","GameState")}}(this)),this.text.gotoAndStop("ourvalues_active")},r.prototype.transitionIn=function(){return r.__super__.transitionIn.apply(this,arguments)},r.prototype.transitionOut=function(){return r.__super__.transitionOut.apply(this,arguments),createjs.Tween.get(this).wait(2e3).call(this.transitionOutCallback.bind(this))},r}(o)})}.call(this),function(){define("game/Vector",["require"],function(){var t;return t=function(){function t(t,e){this.x=null!=t?t:0,this.y=null!=e?e:0}return t.degToRad=Math.PI/180,t.radToDeg=180/Math.PI,t.add=function(e,i){return console.log(e,i),new t(e.x+i.x,e.y+i.y)},t.sub=function(e,i){return new t(e.x-i.x,e.y-i.y)},t.project=function(e,i){return 0===e.magSq()?new t:e.clone().scale(e.dot(i)/e.magSq())},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.setFromAngle=function(t){return this.x=Math.cos(t),this.y=Math.sin(t),this},t.prototype.angle=function(){var t;return t=this.clone(),t.norm(),Math.atan2(t.y,t.x)},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.scale=function(t){return this.x*=t,this.y*=t,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.mag=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.magSq=function(){return this.x*this.x+this.y*this.y},t.prototype.dist=function(t){var e,i;return e=t.x-this.x,i=t.y-this.y,Math.sqrt(e*e+i*i)},t.prototype.distSq=function(t){var e,i;return e=t.x-this.x,i=t.y-this.y,e*e+i*i},t.prototype.norm=function(){var t;return t=Math.sqrt(this.x*this.x+this.y*this.y),0===t?(this.x=0,this.y=0):(this.x/=t,this.y/=t),this},t.prototype.normalized=function(){var t;return t=this.clone(),t.norm()},t.prototype.limit=function(t){var e,i;return i=this.x*this.x+this.y*this.y,i>t*t?(e=Math.sqrt(i),this.x/=e,this.y/=e,this.x*=t,this.y*=t,this):void 0},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.clear=function(){return this.x=0,this.y=0,this},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/hud/DialogueBox",["require","createjs","game/Globals","game/GlobalAssets","game/SoundManager"],function(t){var i,n,s,r;return t("createjs"),s=t("game/Globals"),n=t("game/GlobalAssets"),r=t("game/SoundManager"),i=function(t){function i(){var t;this.initialize(),this.lastTime=1,this.deltaTime=0,this.lastTime=createjs.Ticker.getTime(),this.finishedCallback=null,this.textPages=[],this.characterDispTime=.05,this.pauseCharTime=.1,this.sideMargins=150,this.textBlockWidth=s.screenSize.x-2*this.sideMargins,this.textBlockCenterHeight=s.screenSize.y/2,this.textLineHeight=44,this.textStartHeight=this.textBlockCenterHeight-1.5*this.textLineHeight,this.bgStartHeight=this.textStartHeight-30,this.bgHeight=2*(this.textBlockCenterHeight-this.textStartHeight)+60,t=20,this.displayContainer=new createjs.Container,this.addChild(this.displayContainer),this.bg=new createjs.Shape,this.bg.graphics.beginFill("#000").drawRect(0,0,s.screenSize.x,this.bgHeight),this.bg.y=this.bgStartHeight,this.bg.alpha=.5,this.displayContainer.addChild(this.bg),this.text=new createjs.Text("Text Testing Example","28px varela_round","#fff"),this.text.x=s.screenSize.x/2,this.text.y=this.textStartHeight,this.text.textAlign="center",this.text.lineWidth=this.textBlockWidth,this.text.lineHeight=this.textLineHeight,this.displayContainer.addChild(this.text),this.text.shadow=new createjs.Shadow("rgba(255,255,255,0.3)",0,0,10),this.textMarker=new createjs.Sprite(n.getInstance().atlas,"textMarker"),this.textMarker.x=s.screenSize.x/2+this.textBlockWidth/2+20,this.textMarker.y=this.bgStartHeight+this.bgHeight-60,this.textMarker.regX=16,createjs.Tween.get(this.textMarker).to({y:this.textMarker.y+t},500,createjs.Ease.linear).to({y:this.textMarker.y,scaleX:-1*this.textMarker.scaleX},500,createjs.Ease.linear).loop=!0,this.textMarker.visible=!1,this.displayContainer.addChild(this.textMarker),this.on("click",this.click.bind(this)),this.visible=!1,this._messages,this._currentMessageIndex,this._currentMessage,this.chain,this.speaker,this.leftOverTime=0,this.displayText=!1,this.openSpeed=500,this.closeSpeed=150}var a;return e(i,t),a=null,i.getInstance=function(){return null!=a?a:a=new i},i.prototype._tick=function(){var t,e,n;if(i.__super__._tick.apply(this,arguments),e=createjs.Ticker.getTime(),this.deltaTime=(e-this.lastTime)/1e3,this.lastTime=e,this.displayText&&(this.leftOverTime+=this.deltaTime,t=Math.floor(this.leftOverTime/this.characterDispTime),t>0)){for(t=Math.min(60,t),n=[];t>0;)this.showNextCharacter(!0),this.leftOverTime-=this.characterDispTime,n.push(t--);return n}},i.prototype.startText=function(){return this.leftOverTime=0,this.displayText=!0,this.textMarker.visible=!1,this.currentPage=0,this.blipProgress=0,this.text.text="",createjs.Tween.get(this).wait(25).call(this.skipText.bind(this))},i.prototype.nextPage=function(){return this.leftOverTime=0,this.displayText=!0,this.textMarker.visible=!1,this.currentPage++,this.blipProgress=0,this.text.text=""},i.prototype.skipText=function(){for(r.playSoundEffect("talk");this.textPages[this.currentPage].length>this.blipProgress;)this.showNextCharacter(!1);return this.displayText=!1,this.textMarker.visible=!0,this.leftOverTime=0},i.prototype.showNextCharacter=function(){return this.textPages[this.currentPage].length>this.blipProgress?(this.text.text+=this.textPages[this.currentPage].charAt(this.blipProgress),this.blipProgress++):(this.displayText=!1,this.textMarker.visible=!0)},i.prototype.click=function(){return this.displayText?this.skipText():this.textMarker.visible?this.textPages.length>this.currentPage+1?this.nextPage():this.close():void 0},i.prototype.showText=function(t,e){return null==e&&(e=!0),r.playSoundEffect("dialogue",.3),Array.isArray(t)||(t=[t]),this.textPages=t,this.currentPage=0,this.blipProgress=0,e&&(this.animClose(!0),null!==navigator.userAgent.match(/Windows NT 5/i)&&null!==navigator.userAgent.match(/Firefox/i)?this.animOpen(!0):this.animOpen(!1)),this.setUpDialogueBox()},i.prototype.setUpDialogueBox=function(){return this.visible=!0,this.text.text="",this.displayText=!1},i.prototype.close=function(){return null!==navigator.userAgent.match(/Windows NT 5/i)&&null!==navigator.userAgent.match(/Firefox/i)?this.hide():this.animClose(!1),null!=this.finishedCallback&&this.finishedCallback(),this.displayText=!1},i.prototype.hide=function(){var t;return this.visible=!1,null!=this.chain?(t=n.getInstance().getDialogueData(this.chain),this.showText(t.boxes,t.title,t.chain)):this.dispatchEvent("close")},i.prototype.animClose=function(t){return null==t&&(t=!1),this.hitArea=null,this.textMarker.visible=!1,this.displayContainer.alpha=1,createjs.Tween.get(this.displayContainer,{override:!0}).to({alpha:0},1e3,createjs.Ease.sineOut)},i.prototype.animOpen=function(t){return null==t&&(t=!1),this.hitArea=new createjs.Shape,this.hitArea.graphics.beginFill("rgba(255,255,255,0.5)").drawRect(0,0,s.screenSize.x,s.screenSize.y),this.textMarker.visible=!1,this.displayContainer.alpha=.01,createjs.Tween.get(this.displayContainer,{override:!0}).to({alpha:1},1e3,createjs.Ease.linear),createjs.Tween.get(this).wait(250).call(this.startText.bind(this))},i}(createjs.Container)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/hud/ScaleText",["require","createjs"],function(t){var i;return t("createjs"),i=function(t){function i(t,e,i,n,s,r){this.fillColor=i,this.bounds=n,this.maxFontSize=null!=s?s:1e3,this.center=null!=r?r:!0,this.unformattedText=t,t=""+t,this.initialize(t,e,this.fillColor),this.fontSize=e.split("px")[0],this.fontType=e.split("px ")[1],this.scaled=!1,this.lines=1}return e(i,t),i.prototype.draw=function(t,e){return this.scaled||this.scaleText(),i.__super__.draw.call(this,t,e)},i.prototype.scaleText=function(){var t,e,i,n,s;return i=this.text,s=this.testTextWrapping(),n=this.bounds.x/s.longestWidth,e=this.text.split(" ").length,(1>n||1===e)&&(this.fontSize*=n,this.fontSize=Math.min(this.fontSize,this.maxFontSize),this.font=""+this.fontSize+"px "+this.fontType,s=this.testTextWrapping()),this.text=s.formattedText,t=this.getMeasuredHeight(),n=this.bounds.y/t,1>n&&(this.text=i,this.fontSize*=n,this.fontSize=Math.min(this.fontSize,this.maxFontSize),this.font=""+this.fontSize+"px "+this.fontType,s=this.testTextWrapping()),this.text=s.formattedText,this.center&&this.lines>1?(this.textBaseline="top",this.textAlign="center",t=this.getMeasuredHeight(),this.regY=t/2):this.center&&1===this.lines&&(this.textBaseline="middle",this.textAlign="center"),this.scaled=!0},i.prototype.testTextWrapping=function(){var t,e,i,n,s,r,a,o,l,u,h,c;for(a=this.text,o=this.text.split(" "),t=0,e=1,s="",r=0,i="",n=h=0,c=o.length;c>h;n=++h)l=o[n],this.text=l,u=this.getMeasuredWidth(),l.length>s.length&&(s=l,r=u),t+=u,t>this.bounds.x&&0!==n?(e++,t=u,i+="\n"):0!==t-u&&(i+=" "),i+=l;return this.text=a,this.lines=e,{longestWord:s,longestWidth:r,formattedText:i}},i.prototype.font=function(t){return i.__super__.font.call(this),this.fontSize=t.split("px")[0],this.fontType=t.split(" ")[1],this.scaled=!1},i.prototype.text=function(){return i.__super__.text.call(this),this.scaled=!1},i}(createjs.Text)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/units/CharacterUnit",["require","createjs","game/GameObject","game/Globals","game/GlobalAssets","game/SoundManager","game/Vector","game/hud/DialogueBox","game/hud/ScaleText"],function(t){var i,n,s,r,a,o,l,u;return t("createjs"),s=t("game/GameObject"),a=t("game/Globals"),r=t("game/GlobalAssets"),l=t("game/SoundManager"),u=t("game/Vector"),n=t("game/hud/DialogueBox"),o=t("game/hud/ScaleText"),i=function(t){function i(t,e){var n,s,r,a,o,l,h,c,d,p,f;for(this.colour=t,this.alwaysAbsorbed=null!=e?e:!1,i.__super__.constructor.apply(this,arguments),this.massToPixel=10,this.mass=500,this.radius=this.mass/this.massToPixel,this.lastDispRadius=this.radius,this.velocity=new u,this.unitStartSize=this.radius,this.massPerBall=16,this.ballRadius=.05*this.radius,r=8,h=3,d=2,this.insideRadius=this.radius-this.ballRadius-r,this.unitContainer=new createjs.Container,this.unitContainer.compositeOperation="lighter",this.addChild(this.unitContainer),l=new createjs.Shape,l.graphics.beginFill(this.colour).drawCircle(0,0,this.insideRadius-h),this.unitContainer.addChild(l),c=new createjs.Shape,c.graphics.s(this.colour).ss(d).drawCircle(0,0,this.insideRadius),this.unitContainer.addChild(c),this.floatingBalls=new createjs.Container,this.unitContainer.addChild(this.floatingBalls),a=this.mass/this.massPerBall,this.allBalls=[],o=f=0;a>=0?a>f:f>a;o=a>=0?++f:--f)n=o*(360/a),s=new createjs.Shape,s.graphics.beginFill(this.colour).drawCircle(0,0,this.ballRadius),this.floatingBalls.addChild(s),p=new u,p.setFromAngle(n*u.degToRad),p.scale(this.radius),s.x=p.x,s.y=p.y,this.allBalls.push(s);this.vampUnit=null}return e(i,t),i.prototype.update=function(){var t;return i.__super__.update.apply(this,arguments),this.floatingBalls.rotation+=5*this.deltaTime,this.mass=Math.max(0,this.mass),this.radius=this.mass/this.massToPixel,t=this.lastDispRadius+10*(this.radius-this.lastDispRadius)*this.deltaTime,this.unitContainer.scaleX=this.unitContainer.scaleY=t/this.unitStartSize,this.x+=this.velocity.x*this.deltaTime,this.y+=this.velocity.y*this.deltaTime,this.lastDispRadius=t},i.prototype.giveText=function(t,e){return this.displayText=new o(t,"42px varela_round","#313434",{x:1.9*this.insideRadius,y:1.9*this.insideRadius}),this.addChild(this.displayText),this.dispatchEvent("progressedInstant"),createjs.Tween.get(this).wait(500).call(function(t){return function(){return t.dispatchEvent("gotCorrectAnswer")}}(this)),n.getInstance().showText(e)},i.prototype.hideText=function(){return createjs.Tween.get(this.displayText).to({alpha:0},500,createjs.Ease.sineOut).call(function(t){return function(){return t.removeChild(t.displayText)}}(this))},i.prototype.winFeedback=function(){var t;return t=new createjs.Shape,t.graphics.s("#fff").drawCircle(0,0,this.radius),t.alpha=.1,this.addChild(t),createjs.Tween.get(t).wait(65).to({scaleX:2,scaleY:2,alpha:1},250,createjs.Ease.sineIn).to({scaleX:3,scaleY:3,alpha:0},350,createjs.Ease.linear).call(function(e){return function(){return e.removeChild(t)}}(this)),t=new createjs.Shape,t.graphics.s("#fff").drawCircle(0,0,.85*this.radius),t.alpha=.1,this.addChild(t),createjs.Tween.get(t).wait(65).to({scaleX:2,scaleY:2,alpha:1},250,createjs.Ease.sineIn).to({scaleX:2.2,scaleY:2.2,alpha:0},250,createjs.Ease.linear).call(function(e){return function(){return e.removeChild(t)}}(this))},i.prototype.changeMassOfUnit=function(t,e){return null==e&&(e=null),null!=e&&(this.vampUnit=e),this.mass+=t,this.mass=Math.max(0,this.mass),this.radius=this.mass/this.massToPixel,this.updateOrbits()},i.prototype.updateOrbits=function(){var t,e,i,n,s,r,a,o,l,h,c,d,p,f;if(i=this.mass/this.massPerBall,n=i-this.allBalls.length,0>n)for(o=Math.floor(Math.abs(n)),s=l=0;o>=0?o>l:l>o;s=o>=0?++l:--l)a=this.allBalls.length-1-s,this.floatingBalls.removeChild(this.allBalls[a]),this.allBalls.splice(a,1);else for(s=h=0;n>=0?n>h:h>n;s=n>=0?++h:--h)e=new createjs.Shape,e.graphics.beginFill(this.colour).drawCircle(0,0,this.ballRadius),this.floatingBalls.addChild(e),this.allBalls.push(e);for(p=this.allBalls,f=[],s=c=0,d=p.length;d>c;s=++c)e=p[s],t=s*(360/this.allBalls.length),r=new u,r.setFromAngle(t*u.degToRad),r.scale(this.unitStartSize),e.x=r.x,f.push(e.y=r.y);return f},i.prototype.clearOrbits=function(){var t,e,i,n,s;for(this.allBalls=[],n=this.floatingBalls.getNumChildren(),e=s=0;n>=0?n>=s:s>=n;e=n>=0?++s:--s)i=n-e-1,t=this.floatingBalls.getChildAt(i),this.floatingBalls.removeChild(t);return this.updateOrbits()},i.prototype.giveMass=function(t){return this.mass=t,this.radius=this.mass/this.massToPixel,this.lastDispRadius=this.radius,this.updateOrbits()},i.prototype.addToVelocity=function(t){var e,i,n,s,r,a,o,l,h,c,d,p;return l=.13,h=370,p=.25,r=.8,d=20,c=150,n=t.mag(),n=Math.min(c,Math.max(d,n)),o=(n-d)/(c-d),i=o*this.mass*l,o=i*h,e=o/this.mass,t.norm().scale(e),s=u.dot(t.normalized(),this.velocity.normalized()),r>s&&(a=(s+1)/(1+r),a=1-a,this.velocity.x-=this.velocity.x*a*p,this.velocity.y-=this.velocity.y*a*p),this.velocity.x+=t.x,this.velocity.y+=t.y,this.changeMassOfUnit(-i),{mass:i,direction:t.scale(-4)}},i}(s)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/units/EnemyUnit",["require","createjs","game/GameObject","game/Globals","game/GlobalAssets","game/SoundManager","game/Vector","game/hud/ScaleText"],function(t){var i,n,s,r,a,o,l;return t("createjs"),n=t("game/GameObject"),r=t("game/Globals"),s=t("game/GlobalAssets"),o=t("game/SoundManager"),l=t("game/Vector"),a=t("game/hud/ScaleText"),i=function(t){function i(t,e,n,r,a){var o,u;this.colour=t,this.text=null!=e?e:null,this.description=null!=n?n:null,this.alwaysAbsorbed=null!=r?r:!0,this.alwaysWins=null!=a?a:!1,i.__super__.constructor.apply(this,arguments),this.massToPixel=10,this.mass=1e3,this.startMass=this.mass,this.screen=0,this.displayMass=this.mass,this.radius=this.mass/this.massToPixel,this.lastDispRadius=this.radius,this.velocity=new l,this.textPosition={x:.5,y:.3},this.degrade=0,null!=this.colour?(this.unit=new createjs.Shape,this.unit.graphics.beginFill(this.colour).drawCircle(0,0,this.radius),this.addChild(this.unit)):(this.unitStartSize=54,this.unitContainer=new createjs.Container,this.addChild(this.unitContainer),o=new createjs.Sprite(s.getInstance().atlas,"greencircle"),o.regX=64,o.regY=64,o.rotation=230,this.unitContainer.addChild(o),createjs.Tween.get(o,{loop:!0}).to({rotation:o.rotation+360},2e4),u=new createjs.Sprite(s.getInstance().atlas,"diamond"),u.regX=64,u.regY=64,this.unitContainer.addChild(u),this.unitContainer.scaleX=this.unitContainer.scaleY=this.radius/this.unitStartSize),null!==this.text&&(this.displayText=new createjs.Text(this.text,"32px varela_round","#fefcfa"),this.addChild(this.displayText)),this.vampUnit=null}return e(i,t),i.prototype.update=function(){var t;return i.__super__.update.apply(this,arguments),this.mass=Math.max(0,this.mass),this.radius=this.mass/this.massToPixel,t=this.lastDispRadius+10*(this.radius-this.lastDispRadius)*this.deltaTime,null!=this.colour?(this.unit.graphics.clear(),this.unit.graphics.beginFill(this.colour).drawCircle(0,0,t)):this.unitContainer.scaleX=this.unitContainer.scaleY=t/this.unitStartSize,this.x+=this.velocity.x*this.deltaTime,this.y+=this.velocity.y*this.deltaTime,this.lastDispRadius=t,null!=this.displayText&&(this.displayText.x=t*this.textPosition.x,this.displayText.y=t*this.textPosition.y),this.mass-=this.degrade*this.deltaTime},i.prototype.giveText=function(t,e){return null!=this.displayText?this.displayText.text=t:(this.text=t,this.description=e,this.displayText=new createjs.Text(this.text,"32px varela_round","#fefcfa"),this.addChild(this.displayText))},i.prototype.changeMassOfUnit=function(t,e){return null==e&&(e=null),null!=e&&(this.vampUnit=e),this.mass+=t,this.mass=Math.max(0,this.mass),this.radius=this.mass/this.massToPixel},i.prototype.giveMass=function(t){return this.mass=t,this.radius=this.mass/this.massToPixel,this.lastDispRadius=this.radius},i.prototype.randomVelocity=function(){var t;return t=(new l).setFromAngle(360*Math.random()*l.degToRad),t.scale(150*Math.random()*(1-this.mass/8e3)),this.velocity=t},i.prototype.giveVelocity=function(t){return this.velocity.x=t.x,this.velocity.y=t.y},i}(n)})}.call(this),function(){define("game/board/EnemyData",["require","createjs","game/Globals"],function(t){var e,i;return t("createjs"),i=t("game/Globals"),e=function(){function t(){}return t.boardEnemies=[{position:{x:384,y:256},screen:0,velocity:{x:0,y:0},mass:600,text:"MISSION",description:"MISSION:\nTo create technology\nthat people love to use!",alwaysAbsorbed:!0,textPosition:{x:.5,y:.75},alwaysWins:!1},{position:{x:150,y:256},screen:1,velocity:{x:0,y:0},mass:600,text:"ZING",description:"ZING:\nWe add creative\nsparkle and wow!",alwaysAbsorbed:!0,textPosition:{x:.5,y:.75},alwaysWins:!1},{position:{x:618,y:256},screen:1,velocity:{x:0,y:0},mass:600,text:"PING",description:"PING:\nGoes well with pong...\nNOT a PageUp value.",alwaysAbsorbed:!1,textPosition:{x:-1.9,y:.75},alwaysWins:!0},{position:{x:160,y:256},screen:2,velocity:{x:0,y:0},mass:600,text:"HOPE",description:"HOPE:\nSprings Eternal...\nNOT a PageUp value.",alwaysAbsorbed:!1,textPosition:{x:.5,y:.75},alwaysWins:!0},{position:{x:410,y:420},screen:2,velocity:{x:0,y:0},mass:500,text:"PLANNING",description:"PLANNNG:\nAn important aspect of everything \nwe do. NOT a PageUp value.",alwaysAbsorbed:!1,textPosition:{x:-1.7,y:.9},alwaysWins:!0},{position:{x:600,y:150},screen:2,velocity:{x:0,y:0},mass:600,text:"BELIEF",description:"BELIEF:\nWe can do anything\nwe set our minds to.",alwaysAbsorbed:!0,textPosition:{x:-2.2,y:.75},alwaysWins:!1},{position:{x:140,y:200},screen:3,velocity:{x:0,y:0},mass:500,text:"WE VALYOU",description:"WE VALYOU:\nWe value\neveryones contribution.",alwaysAbsorbed:!0,textPosition:{x:0,y:.8},alwaysWins:!1},{position:{x:620,y:300},screen:3,velocity:{x:0,y:0},mass:500,text:"BE USEFUL",description:"BE USEFUL:\nA good quality.\nNOT a PageUp value.",alwaysAbsorbed:!1,textPosition:{x:-3.3,y:.8},alwaysWins:!0},{position:{x:100,y:460},screen:4,velocity:{x:0,y:0},mass:500,text:"STYLE",description:"STYLE:\nOver substance?\nNOT a PageUp value.",alwaysAbsorbed:!1,textPosition:{x:.5,y:.75},alwaysWins:!0},{position:{x:384,y:140},screen:4,velocity:{x:0,y:0},mass:500,text:"FLAIR",description:"FLAIR:\nWe bring this to everything\nwe do. NOT a PageUp value.",alwaysAbsorbed:!1,textPosition:{x:.5,y:.75},alwaysWins:!0},{position:{x:668,y:460},screen:4,velocity:{x:0,y:0},mass:500,text:"INTEGRITY",description:"INTEGRITY:\nWe do the right thing.",alwaysAbsorbed:!0,textPosition:{x:-3,y:.75},alwaysWins:!1},{position:{x:384,y:430},screen:5,velocity:{x:0,y:0},mass:500,text:"CLIENTS",description:"CLIENTS:\nOur clients are the\ncentre of our universe.",alwaysAbsorbed:!0,textPosition:{x:-1.3,y:1},alwaysWins:!1},{position:{x:120,y:200},screen:5,velocity:{x:0,y:0},mass:500,text:"TALENT",description:"TALENT:\nWe help you manage and grow \nthis. NOT a PageUp value.",alwaysAbsorbed:!1,textPosition:{x:.5,y:.75},alwaysWins:!0},{position:{x:648,y:300},screen:5,velocity:{x:0,y:0},mass:500,text:"MARKET",description:"MARKET:\nA force to be reckoned with.\nNOT a PageUp value.",alwaysAbsorbed:!1,textPosition:{x:-3,y:.75},alwaysWins:!0}],t
}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/particles/Particle",["require","createjs"],function(t){var i;return t("createjs"),i=function(t){function i(t,e,i,n,s,r,a,o){this.displayObject=t,this.lifespan=e,this.startVelocity=i,this.startRotation=n,this.constantForce=s,this.rotVelocity=r,this.startScale=a,this.endScale=o,this.initialize(),this.spawnTime=createjs.Ticker.getTime(),this.lastTime=1,this.deltaTime=0,this.lastTime=createjs.Ticker.getTime(),this.alphaScaler="lifetime",this.colorScaler="lifetime",this.scaleScaler="lifetime",this.scaleVelocityMax=this.startVelocity,this.animationData=[],this.startColor,this.endColor,this.startAlpha,this.midAlpha,this.endAlpha,this.velocity={x:0,y:0},this.velocity.x=this.startVelocity.x,this.velocity.y=this.startVelocity.y,this.velocity.r="velocity"===this.rotVelocity?0:this.rotVelocity,this.displayObject.scaleX=0,this.displayObject.scaleY=0,this.displayObject.rotation=this.startRotation,this.subEmitters=[],this.addChild(this.displayObject),this.destroyMe=!1,this.wasDestroyed=!1}return e(i,t),i.prototype._tick=function(){var t,e,i,n,s,r,a,o,l,u;for(n=createjs.Ticker.getTime(),this.deltaTime=(n-this.lastTime)/1e3,this.lastTime=n,e=createjs.Ticker.getTime()-this.spawnTime,e/=this.lifespan,l=this.subEmitters,s=0,a=l.length;a>s;s++)i=l[s],i.emmiterPercentage=e>=1&&1>i.emmiterPercentage?1:e;if(this.addForce(this.constantForce),1>=e)return this.x+=this.velocity.x*this.deltaTime,this.y+=this.velocity.y*this.deltaTime,this.displayObject.rotation+=this.velocity.r*this.deltaTime,this.velPerc=this.determineVelocityPercentage(),this.scaleAlpha(e,this.velPerc),this.scaleColor(e,this.velPerc),this.scaleScale(e,this.velPerc),this.rotateToVelocity(),this.updateAnimation(e);for(t=!0,u=this.subEmitters,r=0,o=u.length;o>r;r++)i=u[r],null!=i&&(i.emitterFinished()||(t=!1));return this.destroyMe=t,t?void 0:this.displayObject.visible=!1},i.prototype.updateAnimation=function(t){var e,i,n,s,r,a;if(null!=this.animationData[0]&&null!=this.animationData[0].key){for(n=0,a=this.animationData,i=s=0,r=a.length;r>s;i=++s)e=a[i],t>this.animationData[n].time&&e.time>t&&(n=i);return this.displayObject.gotoAndStop(this.animationData[n].key)}},i.prototype.giveStartColour=function(t){return this.startColor=this.hexToRGB(t)},i.prototype.giveEndColour=function(t){return this.endColor=this.hexToRGB(t)},i.prototype.addForce=function(t){return this.velocity.x+=t.x,this.velocity.y+=t.y},i.prototype.determineVelocityPercentage=function(){return this.getMagnitude(this.velocity)/this.getMagnitude(this.scaleVelocityMax)},i.prototype.scaleAlpha=function(t,e){var i;return i=t,"velocity"===this.alphaScaler&&(i=e),.5>i?(i*=2,this.displayObject.alpha=this.startAlpha+(this.midAlpha-this.startAlpha)*i):(i-=.5,i*=2,this.displayObject.alpha=this.midAlpha+(this.endAlpha-this.midAlpha)*i)},i.prototype.scaleColor=function(t,e){var i;return i=t,"velocity"===this.colorScaler&&(i=e),null!=this.displayObject.graphics?(this.displayObject.graphics.clear(),this.displayObject.graphics.beginFill(this.rgbToHex(this.lerpRGB(this.startColor,this.endColor,i))).drawRect(-5,-5,10,10)):void 0},i.prototype.scaleScale=function(t,e){var i;return i=t,"velocity"===this.scaleScaler&&(i=e),this.displayObject.scaleX=this.startScale.x+(this.endScale.x-this.startScale.x)*i,this.displayObject.scaleY=this.startScale.y+(this.endScale.y-this.startScale.y)*i},i.prototype.rotateToVelocity=function(){return"velocity"===this.rotVelocity?this.displayObject.rotation=Math.atan2(this.velocity.x,-this.velocity.y)*(180/Math.PI):void 0},i.prototype.hexToRGB=function(t){var e,i,n;return n=this.hexToR(t),i=this.hexToG(t),e=this.hexToB(t),{r:n,g:i,b:e}},i.prototype.hexToR=function(t){return parseInt(this.cutHex(t).substring(0,2),16)},i.prototype.hexToG=function(t){return parseInt(this.cutHex(t).substring(2,4),16)},i.prototype.hexToB=function(t){return parseInt(this.cutHex(t).substring(4,6),16)},i.prototype.lerpRGB=function(t,e,i){var n,s,r;return r=t.r+(e.r-t.r)*i,s=t.g+(e.g-t.g)*i,n=t.b+(e.b-t.b)*i,{r:r,g:s,b:n}},i.prototype.rgbToHex=function(t){return createjs.Graphics.getRGB(t.r.toFixed(0),t.g.toFixed(0),t.b.toFixed(0),1)},i.prototype.cutHex=function(t){return"#"===t.charAt(0)?t.substring(1,7):t},i.prototype.getMagnitude=function(t){var e;return e=t.x*t.x+t.y*t.y,e=Math.sqrt(e)},i.prototype.destroy=function(){var t,e,i,n,s,r;for(e=!0,this.removeChild(this.displayObject),s=this.subEmitters,r=[],i=0,n=s.length;n>i;i++)t=s[i],t.removeChild(t),r.push(t.destroy());return r},i}(createjs.Container)})}.call(this),function(){define("game/particles/SquareParticleEmitter",["require","createjs"],function(t){var e;return t("createjs"),e=function(){function t(t,e,i,n,s){this.centerX=t,this.centerY=e,this.sizeX=i,this.sizeY=n,this.spawnOnHull=s}return t.prototype.getPoint=function(){return this.spawnOnHull?this.getPointOnHull():this.getPointInBounds()},t.prototype.getPointInBounds=function(){var t,e;return t=this.centerX-this.sizeX/2,e=this.centerY-this.sizeY/2,t+=Math.random()*this.sizeX,e+=Math.random()*this.sizeY,{x:t,y:e}},t.prototype.getPointOnHull=function(){var t,e,i;return e=this.centerX-this.sizeX/2,i=this.centerY-this.sizeY/2,t=100*Math.random(),t=Math.round(t),t%=2,0===t?(t=100*Math.random(),t=Math.round(t),t%=2,0===t?e+=Math.random()*this.sizeX:1===t&&(e+=Math.random()*this.sizeX,i+=this.sizeY)):1===t&&(t=100*Math.random(),t=Math.round(t),t%=2,0===t?(i+=Math.random()*this.sizeY,e+=this.sizeX):1===t&&(i+=Math.random()*this.sizeY)),{x:e,y:i}},t}()})}.call(this),function(){define("game/particles/CircleParticleEmitter",["require","createjs"],function(t){var e;return t("createjs"),e=function(){function t(t,e,i,n){this.centerX=t,this.centerY=e,this.diameter=i,this.spawnOnHull=n}return t.prototype.getPoint=function(){return this.spawnOnHull?this.getPointOnHull():this.getPointInBounds()},t.prototype.getPointInBounds=function(){var t,e,i;return e=this.centerX,i=this.centerY,t=this.normaliseVector({x:2*Math.random()-1,y:2*Math.random()-1}),e+=t.x*Math.random()*(this.diameter/2),i+=t.y*Math.random()*(this.diameter/2),{x:e,y:i}},t.prototype.getPointOnHull=function(){var t,e,i;return t=360*Math.random(),e=this.centerX+this.diameter/2*Math.cos(.0174532925*t),i=this.centerY+this.diameter/2*Math.sin(.0174532925*t),{x:e,y:i}},t.prototype.normaliseVector=function(t){var e,i;return e=this.getMagnitude(t),i=0!==e?{x:t.x/e,y:t.y/e}:{x:t.x,y:t.y}},t.prototype.getMagnitude=function(t){var e;return e=t.x*t.x+t.y*t.y,e=Math.sqrt(e)},t}()})}.call(this),function(){define("game/particles/PointParticleEmitter",["require","createjs"],function(t){var e;return t("createjs"),e=function(){function t(t,e){this.centerX=t,this.centerY=e}return t.prototype.getPoint=function(){return{x:this.centerX,y:this.centerY}},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/particles/ParticleSystem",["require","createjs","game/particles/Particle","game/particles/SquareParticleEmitter","game/particles/CircleParticleEmitter","game/particles/PointParticleEmitter"],function(t){var i,n,s,r,a;return t("createjs"),n=t("game/particles/Particle"),a=t("game/particles/SquareParticleEmitter"),i=t("game/particles/CircleParticleEmitter"),r=t("game/particles/PointParticleEmitter"),s=function(t){function s(t,e,i,n){this.x=t,this.y=e,this.data=i,this.emitterData=n,this.initialize(),this.show=!0,this.lastTime=1,this.deltaTime=0,this.lastTime=createjs.Ticker.getTime(),this.emitter,null!=this.emitterData&&this.setUpEmitter(),this.emissionsLeft=0,this.leftOverTime=0,this.emitInSeconds=1e3/this.data.emitSpeed,this.particles=[],this.oneShotWait=0,this.emitting=!1,this.subEmitterData=[],this.subEmitter=!1,this.emmiterPercentage=0,this.totalEmitted=0,this.emit()}return e(s,t),s.prototype.setUpEmitter=function(){var t,e,n,s;switch(s="point",e={x:0,y:0},t=!1,n={x:0,y:0},null!=this.emitterData.emitterType&&(s=this.emitterData.emitterType),null!=this.emitterData.hullEmit&&(t=this.emitterData.hullEmit),null!=this.emitterData.emitterPosition&&(e=this.emitterData.emitterPosition),null!=this.emitterData.emitterSize&&(null!=this.emitterData.emitterSize.x?n=this.emitterData.emitterSize:n.x=this.emitterData.emitterSize),s){case"point":return this.emitter=new r(e.x,e.y);case"circle":return this.emitter=new i(e.x,e.y,n.x,t);case"square":return this.emitter=new a(e.x,e.y,n.x,n.y,t)}},s.prototype.emit=function(){return this.emitting=!0,this.oneShotWait=0,this.emissionsLeft=0,this.leftOverTime=0},s.prototype.stopEmit=function(){return this.emitting=!1},s.prototype.generateOneShotValues=function(){var t,e;return null!=this.data.lifespanMax&&(this.oneShotWait=this.data.lifespanMax),e=0,t=0,null!=this.data.oneShotWaitMin&&(e=this.data.oneShotWaitMin),null!=this.data.oneShotWaitMax&&(t=this.data.oneShotWaitMax),this.oneShotWait+=this.randomRange(e,t)},s.prototype._tick=function(){var t,e,i,n,r,a,o,l;if(s.__super__._tick.apply(this,arguments),n=createjs.Ticker.getTime(),this.deltaTime=n-this.lastTime,this.lastTime=n,this.subEmitter&&(t=0,null!=this.data.emitAtPercentage&&(t=this.data.emitAtPercentage),this.emmiterPercentage>=t&&1>=this.emmiterPercentage?this.emitting||this.emit():this.stopEmit()),null!=this.data.emitOnce&&this.data.emitOnce&&this.totalEmitted>=this.data.maxParticles&&this.stopEmit(),this.emitting){if(null!=this.data.oneShot&&this.data.oneShot===!0)0>=this.oneShotWait?(this.oneShotStartSound(),this.emissionsLeft=this.data.maxParticles,this.generateOneShotValues()):this.oneShotWait-=this.deltaTime;else for(this.leftOverTime+=this.deltaTime;this.leftOverTime>=this.emitInSeconds;)this.emissionsLeft++,this.leftOverTime-=this.emitInSeconds;for(;this.emissionsLeft>0;)this.data.maxParticles>this.particles.length&&(this.createParticle(),this.totalEmitted++),this.emissionsLeft--}for(r=[],l=this.particles,e=a=0,o=l.length;o>a;e=++a)i=l[e],i.destroyMe?(this.particleDestroySound(),i.destroy(),i.parent.removeChild(i)):r.push(i);return this.particles.length=0,this.particles=r,null!=this.data.emitOnce&&this.data.emitOnce&&0===this.particles.length&&this.totalEmitted>=this.data.maxParticles&&null!=this.data.autoDestroy&&this.data.autoDestroy?this.autoDestroy():void 0},s.prototype.emitterFinished=function(){return this.emitting||0!==this.particles.length?!1:!0},s.prototype.createParticle=function(){var t,e,i,r,a,o,l,u,h,c,d;for(t=new n(this.generateDisplayObj(),this.generateLifespan(),this.generateStartVel(),this.generateStartRotation(),this.generateConstantForce(),this.generateRotationVelocity(),this.generateStartScale(),this.generateEndScale()),null!=this.data.animationValue&&null!=this.data.animationValue[0].key&&(t.animationData=this.data.animationValue),c=this.subEmitterData,o=0,u=c.length;u>o;o++){if(r=c[o],i=new s(0,0,r.data,r.emitterdata),null!=r.subData)for(d=r.subData,l=0,h=d.length;h>l;l++)a=d[l],i.subEmitterData.push(a);t.subEmitters.push(i),i.subEmitter=!0,i.stopEmit(),null!=r.data.systemParent?r.data.systemParent.addChild(i):t.addChild(i)}return null!=this.data.particleParent?this.data.particleParent.addChild(t):this.addChild(t),e=this.generatePosition(),t.x=e.x,t.y=e.y,null!=t.displayObject.graphics&&(null!=this.data.startColor?t.giveStartColour(this.data.startColor):t.giveStartColour("#ffffff"),null!=this.data.endColor?t.giveEndColour(this.data.endColor):t.giveEndColour("#ffffff")),t.startAlpha=null!=this.data.startAlpha?this.data.startAlpha:1,t.midAlpha=null!=this.data.midAlpha?this.data.midAlpha:1,t.endAlpha=null!=this.data.endAlpha?this.data.endAlpha:1,null!=this.data.alphaScaleBy&&"velocity"===this.data.alphaScaleBy&&(t.alphaScaler="velocity"),null!=this.data.colorScaleBy&&"velocity"===this.data.colorScaleBy&&(t.colorScaler="velocity"),null!=this.data.scaleScaleBy&&"velocity"===this.data.scaleScaleBy&&(t.scaleScaler="velocity"),null!=this.data.velocityMaxForScaling&&(t.scaleVelocityMax=this.data.velocityMaxForScaling),this.particles.push(t),this.particleEmitSound()},s.prototype.generatePosition=function(){var t;return t={x:0,y:0},null!=this.data.particleParent&&(t=this.localToLocal(this.x,this.y,this.data.particleParent)),null!=this.emitter&&(t.x+=this.emitter.getPoint().x,t.y+=this.emitter.getPoint().y),t},s.prototype.generateDisplayObj=function(){var t,e,i,n,s;if(null!=this.data.spriteSheet){if(n=new createjs.Sprite(this.data.spriteSheet),null!=this.data.animationValue)return null!=this.data.animationValue[0].key?n.gotoAndStop(this.data.animationValue[0].key):null==this.data.staticAnimation||this.data.staticAnimation?n.gotoAndStop(this.data.animationValue):n.gotoAndPlay(this.data.animationValue),s=this.data.spriteSheet._data[this.data.animationValue],null!=this.data.animationValue[0].key&&(s=this.data.spriteSheet._data[this.data.animationValue[0].key]),i=s.frames[0],t=this.data.spriteSheet._frames[i].rect,n.regX=t.width/2,n.regY=t.height/2,null!=this.data.compositeOperation&&(n.compositeOperation=this.data.compositeOperation),n}else if(null!=this.data.imageURL)return n=new createjs.Bitmap(this.data.imageURL),n.regX=n.image.width/2,n.regY=n.image.height/2,null!=this.data.compositeOperation&&(n.compositeOperation=this.data.compositeOperation),n;return e="#ffffff",null!=this.data.startColor&&(e=this.data.startColor),n=new createjs.Shape,n.graphics.beginFill(e).drawRect(-5,-5,10,10),null!=this.data.compositeOperation&&(n.compositeOperation=this.data.compositeOperation),n},s.prototype.generateLifespan=function(){var t;return t=1,null!=this.data.lifespanMin&&(t=null!=this.data.lifespanMax?this.randomRange(this.data.lifespanMin,this.data.lifespanMax):this.data.lifespanMin),t},s.prototype.generateStartRotation=function(){var t;return t=0,null!=this.data.randomRotation&&this.data.randomRotation&&(t=360*Math.random()),t},s.prototype.generateStartVel=function(){var t;return t={x:0,y:0},null!=this.data.startVelocityMin&&(null!=this.data.startVelocityMax?(t.x=this.randomRange(this.data.startVelocityMin.x,this.data.startVelocityMax.x),t.y=this.randomRange(this.data.startVelocityMin.y,this.data.startVelocityMax.y)):(t.x=this.data.startVelocityMin.x,t.y=this.data.startVelocityMin.y)),t},s.prototype.generateConstantForce=function(){var t;return t={x:0,y:0},null!=this.data.constantForceMin&&(null!=this.data.constantForceMax?(t.x=this.randomRange(this.data.constantForceMin.x,this.data.constantForceMax.x),t.y=this.randomRange(this.data.constantForceMin.y,this.data.constantForceMax.y)):(t.x=this.data.constantForceMin.x,t.y=this.data.constantForceMin.y)),t},s.prototype.generateRotationVelocity=function(){var t;return null!=this.data.rotateToVelocity&&this.data.rotateToVelocity?"velocity":(t=0,null!=this.data.rotationMin&&(t=null!=this.data.rotationMax?this.randomRange(this.data.rotationMin,this.data.rotationMax):this.data.rotationMin),t)},s.prototype.generateStartScale=function(){var t;return t={x:1,y:1},null!=this.data.startScaleMin&&(null!=this.data.startScaleMax?(t.x=this.randomRange(this.data.startScaleMin.x,this.data.startScaleMax.x),t.y=this.randomRange(this.data.startScaleMin.y,this.data.startScaleMax.y)):(t.x=this.data.startScaleMin.x,t.y=this.data.startScaleMin.y)),t},s.prototype.generateEndScale=function(){var t;return t={x:1,y:1},null!=this.data.startScaleMin&&(t.x=this.data.startScaleMin.x,t.y=this.data.startScaleMin.y),null!=this.data.endScaleMin&&(null!=this.data.endScaleMax?(t.x=this.randomRange(this.data.endScaleMin.x,this.data.endScaleMax.x),t.y=this.randomRange(this.data.endScaleMin.y,this.data.endScaleMax.y)):(t.x=this.data.endScaleMin.x,t.y=this.data.endScaleMin.y)),t},s.prototype.particleEmitSound=function(){},s.prototype.particleDestroySound=function(){},s.prototype.oneShotStartSound=function(){},s.prototype.randomRange=function(t,e){var i;return i=t+Math.random()*(e-t)},s.prototype.autoDestroy=function(){return this.destroy(),null!=this.parent?this.parent.removeChild(this):void 0},s.prototype.destroy=function(){var t,e,i,n;for(n=this.particles,e=0,i=n.length;i>e;e++)t=n[e],t.destroy(),this.removeChild(t);return this.particles.length=0},s}(createjs.Container)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/board/Barrier",["require","createjs","game/GameObject","game/Globals","game/GlobalAssets","game/SoundManager"],function(t){var i,n,s,r,a;return t("createjs"),n=t("game/GameObject"),r=t("game/Globals"),s=t("game/GlobalAssets"),a=t("game/SoundManager"),i=function(t){function i(t,e){this.position=t,this.bounds=e,i.__super__.constructor.apply(this,arguments),this.screen,this.shape=this.createArtForBounds(),this.addChild(this.shape),this.shape.x=this.position.x,this.shape.y=this.position.y,this.lastBounds=this.bounds}return e(i,t),i.prototype.update=function(){return i.__super__.update.apply(this,arguments),this.bounds!==this.lastBounds&&(this.removeChild(this.shape),this.shape=this.createArtForBounds()),this.shape.x=this.position.x,this.shape.y=this.position.y,this.lastBounds=this.bounds},i.prototype.createArtForBounds=function(){var t,e,i,n,r,a,o,l,u,h,c,d,p;for(u=new createjs.Container,o=Math.floor(this.bounds.y/50),a=Math.floor(this.bounds.x/50),h=-1*(this.bounds.x/2),c=-1*(this.bounds.y/2),e=h,i=c,n=d=0;o>=0?o>d:d>o;n=o>=0?++d:--d){for(r=p=0;a>=0?a>p:p>a;r=a>=0?++p:--p)t=new createjs.Sprite(s.getInstance().atlas,"block"),t.x=e,t.y=i,u.addChild(t),e+=50;i+=50,e=h}return l=new createjs.Shape,l.graphics.beginStroke("#fff").ss(1).drawRect(0,0,this.bounds.x,this.bounds.y),l.regX=this.bounds.x/2,l.regY=this.bounds.y/2,u.addChild(l),u},i.prototype.checkCirlceInBounds=function(t,e){var i,n,s,r,a,o,l,u;if(o=this.position.x-this.bounds.x/2,a=this.position.x+this.bounds.x/2,u=this.position.y-this.bounds.y/2,l=this.position.y+this.bounds.y/2,n=t.x-e,i=t.x+e,r=t.y-e,s=t.y+e,!(o>i||n>a||r>l||u>s)){if(a>t.x&&t.x>o)return t.y>this.position.y?"bottom":"top";if(l>t.y&&t.y>u)return this.position.x>t.x?"left":"right"}return"none"},i}(n)})}.call(this),function(){define("game/board/BarrierData",["require","createjs","game/Globals"],function(t){var e,i;return t("createjs"),i=t("game/Globals"),e=function(){function t(){}return t.barriers=[{position:{x:384,y:462},bounds:{x:400,y:50},screen:3},{position:{x:150,y:570},bounds:{x:250,y:50},screen:4},{position:{x:618,y:570},bounds:{x:250,y:50},screen:4},{position:{x:384,y:250},bounds:{x:250,y:50},screen:4},{position:{x:384,y:545},bounds:{x:350,y:50},screen:5},{position:{x:234,y:480},bounds:{x:50,y:50},screen:5},{position:{x:534,y:480},bounds:{x:50,y:50},screen:5}],t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/board/Board",["require","createjs","game/GameObject","game/Globals","game/GlobalAssets","game/SoundManager","game/units/CharacterUnit","game/units/EnemyUnit","game/Vector","game/hud/TextButton","game/hud/DialogueBox","game/board/EnemyData","game/particles/ParticleSystem","game/board/Barrier","game/board/BarrierData"],function(t){var i,n,s,r,a,o,l,u,h,c,d,p,f,g;return t("createjs"),u=t("game/GameObject"),c=t("game/Globals"),h=t("game/GlobalAssets"),p=t("game/SoundManager"),r=t("game/units/CharacterUnit"),l=t("game/units/EnemyUnit"),g=t("game/Vector"),f=t("game/hud/TextButton"),a=t("game/hud/DialogueBox"),o=t("game/board/EnemyData"),d=t("game/particles/ParticleSystem"),i=t("game/board/Barrier"),n=t("game/board/BarrierData"),s=function(t){function s(){var t,e,a,u,h,d,p,f,g,m;for(s.__super__.constructor.apply(this,arguments),this.particleContainer=new createjs.Container,this.addChild(this.particleContainer),this.particles(),this.blockBottom=!1,this.blockTop=!1,this.hitArea=new createjs.Shape,this.hitArea.graphics.beginFill("#fff").drawRect(0,0,c.screenSize.x,c.screenSize.y),this.character=new r("rgba(249,249,249,0.5)"),this.character.x=c.screenSize.x/2,this.character.y=3*(c.screenSize.y/4),this.addChild(this.character),this.enemies=[],g=o.boardEnemies,h=0,p=g.length;p>h;h++)e=g[h],u=new l(null,e.text,e.description,e.alwaysAbsorbed,e.alwaysWins),u.x=e.position.x,u.y=e.position.y+-1024*e.screen,this.addChild(u),u.textPosition=e.textPosition,u.giveMass(e.mass),u.giveVelocity(e.velocity),u.startMass=e.mass,u.screen=e.screen,this.enemies.push(u);for(this.barriers=[],m=n.barriers,d=0,f=m.length;f>d;d++)t=m[d],a=new i(t.position,t.bounds),a.position.y=t.position.y+-1024*t.screen,this.addChild(a),this.barriers.push(a),a.screen=t.screen,null!=t.motion&&createjs.Tween.get(a.position,{loop:!0}).to({x:a.position.x+t.motion.x,y:a.position.y+t.motion.y},t.overTime,t.ease).to({x:a.position.x,y:a.position.y},t.overTime,t.ease);this.on("click",this.pressClick.bind(this)),this.allowInteraction=!0,createjs.Tween.get(this).wait(125).call(function(t){return function(){return t.dispatchEvent("setScreenData",{position:{x:t.character.x,y:t.character.y},mass:t.character.mass})}}(this)),this.character.addEventListener("gotCorrectAnswer",this.gotCorrectAnswer.bind(this)),this.character.addEventListener("progressedInstant",this.absorbedInstant.bind(this))}return e(s,t),s.prototype.particles=function(){var t,e,i,n,s;return t=h.getInstance().atlas,e={maxParticles:15,emitSpeed:10,lifespanMin:5e3,lifespanMax:8e3,spriteSheet:t,animationValue:"largedots",startScaleMin:{x:2,y:2},endScaleMin:{x:5,y:5},endScaleMax:{x:6,y:6},startAlpha:0,midAlpha:1,endAlpha:0,randomRotation:!0,particleParent:this.particleContainer},s={emitterType:"square",emitterPosition:{x:c.screenSize.x/2,y:0},emitterSize:{x:c.screenSize.x,y:2*c.screenSize.y}},this.clouds=new d(0,0,e,s),this.addChild(this.clouds),i={maxParticles:30,emitSpeed:10,lifespanMin:3e3,lifespanMax:5e3,spriteSheet:t,animationValue:"medium-circles",startScaleMin:{x:2,y:2},endScaleMin:{x:2,y:2},startAlpha:0,midAlpha:1,endAlpha:0,randomRotation:!0,particleParent:this.particleContainer},this.cloudsMed=new d(0,0,i,s),this.addChild(this.cloudsMed),n={maxParticles:50,emitSpeed:10,lifespanMin:2e3,lifespanMax:4e3,spriteSheet:t,animationValue:"smalldots",startScaleMin:{x:2,y:2},endScaleMin:{x:2,y:2},startAlpha:0,midAlpha:1,endAlpha:0,randomRotation:!0,particleParent:this.particleContainer},this.cloudsSmall=new d(0,0,n,s),this.addChild(this.cloudsSmall)},s.prototype.update=function(){var t,e,i,n,r,a,o,l,u,h,c;for(s.__super__.update.apply(this,arguments),u=this.barriers,r=0,o=u.length;o>r;r++)t=u[r],this.checkAgainstBarrier(t,this.character);for(this.allowInteraction&&this.checkOverlaps(),this.removeEmptyEnemies(),null!==this.hitArea&&(this.hitArea.y=-1*this.y),this.clouds.emitter.centerY=-1*this.y,this.cloudsSmall.emitter.centerY=-1*this.y,this.cloudsMed.emitter.centerY=-1*this.y,null!==this.character&&(this.keepCharInBounds(this.character),i=800,this.character.mass>i&&this.character.changeMassOfUnit(i-this.character.mass)),h=this.enemies,c=[],a=0,l=h.length;l>a;a++)e=h[a],this.keepInBounds(e),n=800,e.mass>n?c.push(e.changeMassOfUnit(n-e.mass)):c.push(void 0);return c},s.prototype.checkAgainstBarrier=function(t,e){var i;if(i=t.checkCirlceInBounds({x:e.x,y:e.y},e.radius),"bottom"===i){if(e.y=t.position.y+t.bounds.y/2+e.radius,0>e.velocity.y)return e.velocity.y*=-1}else if("top"===i){if(e.y=t.position.y-t.bounds.y/2-e.radius,e.velocity.y>0)return e.velocity.y*=-1}else if("left"===i){if(e.x=t.position.x-t.bounds.x/2-e.radius,e.velocity.x>0)return e.velocity.x*=-1}else if("right"===i&&(e.x=t.position.x+t.bounds.x/2+e.radius,0>e.velocity.x))return e.velocity.x*=-1},s.prototype.keepInBounds=function(t){var e,i,n;return i=t.radius,n=1,e={x:t.x-this.x,y:t.y-this.y},e.x+i>c.screenSize.x?(t.x=this.x+c.screenSize.x-i,t.velocity.x*=-1*n):i>e.x?(t.x=this.x+i,t.velocity.x*=-1*n):void 0},s.prototype.keepCharInBounds=function(t){var e,i,n,s;return e=t.radius,s=1,this.keepInBounds(t),this.allowInteraction?(n=-1*this.y,i=t.y-n,this.blockBottom&&i+e>c.screenSize.y&&(t.y=n+c.screenSize.y-e,t.velocity.y*=-1*s),this.blockTop&&e>i?(t.y=n+e,t.velocity.y*=-1*s):void 0):void 0},s.prototype.checkOverlaps=function(){var t,e,i,n,s,r,a,o,l,u,h,c,d,f,m,v;for(t=[],a=[this.character],null!==this.character&&t.push(this.character),t=t.concat(this.enemies),v=[],s=f=0,m=a.length;m>f;s=++f)c=a[s],v.push(function(){var a,f,m;for(m=[],r=a=0,f=t.length;f>a;r=++a)d=t[r],r!==s&&(i=g.sub({x:d.x,y:d.y},{x:c.x,y:c.y}),n=i.mag(),l=c.radius+d.radius,u=l-n,l>n?(e="",e=c.alwaysWins&&!d.alwaysWins?"unitA":d.alwaysWins&&!c.alwaysWins?"unitB":c.alwaysAbsorbed&&!d.alwaysAbsorbed?"unitB":d.alwaysAbsorbed&&!c.alwaysAbsorbed?"unitA":c.mass>d.mass?"unitA":"unitB","unitA"===e?(h=0,0!==d.radius&&(h=u/d.radius),o=12*h*d.mass*this.deltaTime,o=Math.max(0,o),d.changeMassOfUnit(-o),c.changeMassOfUnit(o),null===d.vampUnit&&p.playSoundEffect("absorb",Math.min(1,d.mass/600)),m.push(d.vampUnit=c)):"unitB"===e?(h=0,0!==c.radius&&(h=u/c.radius),o=12*h*c.mass*this.deltaTime,o=Math.max(0,o),c.changeMassOfUnit(-o),d.changeMassOfUnit(o),null===c.vampUnit&&p.playSoundEffect("absorb",Math.min(1,c.mass/600)),m.push(c.vampUnit=d)):m.push(void 0)):m.push(void 0));return m}.call(this));return v},s.prototype.removeEmptyEnemies=function(){var t,e,i,n,s,r,o,l,u,h,c;for(null!==this.character&&9*this.character.massToPixel>=this.character.mass&&(null!=this.character.vampUnit&&(s=this.character.vampUnit,a.getInstance().showText(s.description),createjs.Tween.get(this).wait(1e3).call(function(){return function(){return s.changeMassOfUnit(s.startMass-s.mass)}}(this)),this.gotIncorrectAnswer(!0)),this.gotIncorrectAnswer(!1)),i=[],h=this.enemies,t=r=0,l=h.length;l>r;t=++r)n=h[t],n.massToPixel>=n.mass&&(null!=n.vampUnit&&null!=n.text&&n.vampUnit.giveText(n.text,n.description),this.removeChild(n),n=null,i.push(t));for(c=[],o=0,u=i.length;u>o;o++)e=i[o],c.push(this.enemies.splice(e,1));return c},s.prototype.respawnChar=function(t,e){return this.character.x=t.x,this.character.y=t.y,this.character.changeMassOfUnit(e-this.character.mass),this.character.velocity.x=0,this.character.velocity.y=0,this.character.vampUnit=null,this.character.clearOrbits(),this.allowInteraction=!0},s.prototype.gotCorrectAnswer=function(){return this.dispatchEvent("playerChoseWell"),this.allowInteraction=!1},s.prototype.absorbedInstant=function(){return this.allowInteraction=!1,this.character.velocity.scale(.15),this.dispatchEvent("absorbedInstantEvent"),this.character.winFeedback(),p.playSoundEffect("success",1)},s.prototype.gotIncorrectAnswer=function(t){return this.allowInteraction?(this.dispatchEvent("playerChosePoorly",{showDialogue:t}),this.character.velocity.scale(.15),this.character.giveMass(0),this.allowInteraction=!1,p.playSoundEffect("fail",1)):void 0},s.prototype.moveToScreen=function(t){var e,i;return e=c.screenSize.x/2,i=3*(c.screenSize.y/4)-c.screenSize.y*t,this.character.velocity.x=0,this.character.velocity.y=0,this.character.vampUnit=null,createjs.Tween.get(this.character).to({x:e,y:i},1e3,createjs.Tween.circInOut).call(this.moveComplete.bind(this)),this.character.hideText(),this.hideAlphaForIncorrectForScreen(t-1,1)},s.prototype.hideAlphaForIncorrectForScreen=function(t,e){var i,n,s,r,a,o,l,u,h;for(l=this.enemies,s=0,a=l.length;a>s;s++)n=l[s],n.screen===t&&n.alwaysWins&&createjs.Tween.get(n).wait(125).to({alpha:e},250,createjs.Ease.sineIn);for(u=this.barriers,h=[],r=0,o=u.length;o>r;r++)i=u[r],i.screen===t?h.push(createjs.Tween.get(i).wait(125).to({alpha:e},250,createjs.Ease.sineIn)):h.push(void 0);return h},s.prototype.hideAllForScreen=function(t,e){var i,n,s,r,a,o,l,u,h;for(l=this.enemies,s=0,a=l.length;a>s;s++)n=l[s],n.screen===t&&createjs.Tween.get(n).wait(125).to({alpha:e},250,createjs.Ease.sineIn);for(u=this.barriers,h=[],r=0,o=u.length;o>r;r++)i=u[r],i.screen===t?h.push(createjs.Tween.get(i).wait(125).to({alpha:e},250,createjs.Ease.sineIn)):h.push(void 0);return h},s.prototype.moveComplete=function(){return this.dispatchEvent("setScreenData",{position:{x:this.character.x,y:this.character.y},mass:this.character.mass}),this.allowInteraction=!0},s.prototype.textComplete=function(){},s.prototype.pressClick=function(t){var e,i,n,s,r;if(null!==this.character&&this.allowInteraction)return this.dispatchEvent("singleClick"),r=g.sub({x:this.character.x,y:this.character.y},{x:t.rawX,y:-1*this.y+t.rawY}),i=this.character.addToVelocity(r),n=i.direction.normalized(),s=Math.floor(4*Math.random()+1),p.playSoundEffect("move"+s,Math.min(1,i.mass/150)),e=new l("rgba(249,249,249,0.5)"),e.giveMass(i.mass),e.velocity=i.direction,e.x=this.character.x+n.x*(this.character.radius+e.radius+5),e.y=this.character.y+n.y*(this.character.radius+e.radius+5),e.degrade=10,this.addChild(e),this.enemies.push(e)},s}(u)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/board/Tutorial",["require","createjs","game/GameObject","game/Globals","game/GlobalAssets","game/SoundManager"],function(t){var i,n,s,r,a;return t("createjs"),i=t("game/GameObject"),s=t("game/Globals"),n=t("game/GlobalAssets"),r=t("game/SoundManager"),a=function(t){function i(){i.__super__.constructor.apply(this,arguments),this.tutorialSteps=[{holePosition:{x:s.screenSize.x/2,y:.9*s.screenSize.y},holeSize:60,text:"Tap.",callbackMessage:"singleMotion"},{holePosition:{x:0,y:0},holeSize:-1,text:"Move by tapping behind the orb.",callbackMessage:"singleMotion"},{holePosition:{x:0,y:0},holeSize:-1,text:"Move to the other orb and absorb it.",callbackMessage:"absorbedEnemy"},{holePosition:{x:0,y:0},holeSize:-1,text:null,callbackMessage:"startedSecondScreen"},{holePosition:{x:0,y:0},holeSize:-1,text:"Absorb the correct PageUp values.",callbackMessage:"absorbedEnemy"}],this.displaying=!1}return e(i,t),i.prototype.startDisplay=function(){return this.stepCounter=0,this.displaying=!0,createjs.Tween.get(this).wait(500).call(this.setUpDisplay.bind(this))},i.prototype.progressDisplay=function(){return this.stepCounter++,this.stepCounter>=this.tutorialSteps.length?(this.closeDisplay(),void 0):createjs.Tween.get(this.displayContainer,{override:!0}).wait(60).to({alpha:0},750,createjs.Ease.linear).call(this.setUpDisplay.bind(this))},i.prototype.setUpDisplay=function(){var t;return t=this.tutorialSteps[this.stepCounter],this.removeChild(this.displayContainer),this.displayContainer=new createjs.Container,this.addChild(this.displayContainer),this.drawOverlay(t.holePosition,t.holeSize),this.drawText(t.text),this.displayContainer.alpha=0,createjs.Tween.get(this.displayContainer,{override:!0}).wait(125).to({alpha:1},1250,createjs.Ease.linear)},i.prototype.closeDisplay=function(){return this.displaying=!1,createjs.Tween.get(this.displayContainer,{override:!0}).wait(60).to({alpha:0},1e3,createjs.Ease.linear).call(function(t){return function(){return t.removeChild(t.displayContainer)}}(this))},i.prototype.drawOverlay=function(t,e){var i,n,r;if(!(0>e))return r=new createjs.Shape,r.graphics.beginFill("#fafaff"),r.graphics.drawRect(0,0,s.screenSize.x,s.screenSize.y),r.graphics.arc(t.x,t.y,e,0,2*Math.PI,!0),r.alpha=.01,r.addEventListener("click",function(){return function(){}}(this)),this.displayContainer.addChild(r),n=new createjs.Shape,n.graphics.beginRadialGradientFill(["rgba(255,255,255,0.5)","rgba(255,255,255,0.1)"],[0,1],0,0,e/4,0,0,e),n.graphics.drawCircle(0,0,e),n.x=t.x,n.y=t.y,n.alpha=.6,n.compositeOperation="lighten",this.displayContainer.addChild(n),i=new createjs.Shape,i.graphics.s("#fff").ss(5).drawCircle(0,0,e-5),i.x=t.x,i.y=t.y,i.alpha=.6,i.compositeOperation="lighten",this.displayContainer.addChild(i),createjs.Tween.get(i,{loop:!0}).to({scaleX:0,scaleY:0,alpha:.25},1).to({scaleX:1,scaleY:1,alpha:.5},1e3,createjs.Ease.sineOut).to({alpha:0},250,createjs.Ease.linear)
},i.prototype.drawText=function(t){var e;if(null!=t)return e=new createjs.Text(t,"36px varela_round","#fff"),e.x=s.screenSize.x/2,e.y=s.screenSize.y/2,e.lineWidth=s.screenSize.x/2,e.lineHeight=44,e.textAlign="center",e.textBaseline="middle",this.displayContainer.addChild(e)},i.prototype.giveMessage=function(t){var e;if(this.displaying)return e=this.tutorialSteps[this.stepCounter],null!=e.callbackMessage&&e.callbackMessage===t?this.progressDisplay():void 0},i}(i)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/statemachine/states/GameState",["require","createjs","game/Globals","game/GlobalAssets","game/SoundManager","game/statemachine/states/State","game/hud/TextButton","game/board/Board","game/board/Tutorial","game/hud/DialogueBox","game/units/EnemyUnit"],function(t){var i,n,s,r,a,o,l,u,h,c;return t("createjs"),o=t("game/Globals"),a=t("game/GlobalAssets"),l=t("game/SoundManager"),u=t("game/statemachine/states/State"),h=t("game/hud/TextButton"),i=t("game/board/Board"),c=t("game/board/Tutorial"),n=t("game/hud/DialogueBox"),s=t("game/units/EnemyUnit"),r=function(t){function r(){var t,e,s,l,u,h;for(r.__super__.constructor.apply(this,arguments),t=new createjs.Shape,t.graphics.beginRadialGradientFill(["#0a1e37","#00061e"],[0,1],o.screenSize.x/2,o.screenSize.y/2,40,o.screenSize.x/2,o.screenSize.y/2,o.screenSize.y/2).drawRect(0,0,o.screenSize.x,o.screenSize.y),this.addChild(t),this.startArrowY=o.screenSize.y-100,this.bottomArrow=new createjs.Sprite(a.getInstance().atlas,"arrow"),this.bottomArrow.regX=295,this.bottomArrow.regY=106.5,this.bottomArrow.scaleX=this.bottomArrow.scaleY=768/590,this.bottomArrow.y=this.startArrowY,this.bottomArrow.x=o.screenSize.x/2+10,this.addChild(this.bottomArrow),this.lightshaftContainer=new createjs.Container,this.lightshaftContainer.x=o.screenSize.x/2,this.lightshaftContainer.y=0,this.addChild(this.lightshaftContainer),l=8,e=u=0;l>=0?l>=u:u>=l;e=l>=0?++u:--u)s=new createjs.Sprite(a.getInstance().atlas,"lightbeam"),s.rotation=-30+60*(e/l),s.y=-250-100*Math.random(),this.lightshaftContainer.addChild(s),createjs.Tween.get(s,{loop:!0}).wait(250+350*Math.random()).to({alpha:.1,rotation:s.rotation+3*Math.random(),scaleY:1.2},500+1e3*Math.random(),createjs.Ease.sineInOut).wait(250+350*Math.random()).to({alpha:.5,rotation:s.rotation-3*Math.random(),scaleY:.65},500+1e3*Math.random(),createjs.Ease.sineInOut).wait(250+350*Math.random()).to({alpha:1,rotation:s.rotation,scaleY:1},500+1e3*Math.random(),createjs.Ease.sineInOut);for(this.startLightScale=768/748,this.topLight=new createjs.Sprite(a.getInstance().atlas,"elipse"),this.topLight.regX=374,this.topLight.regY=365.5,this.topLight.scaleX=this.topLight.scaleY=this.startLightScale,this.topLight.y=0,this.topLight.x=o.screenSize.x/2,this.addChild(this.topLight),this.board=new i,this.board.addEventListener("singleClick",this.playerClick.bind(this)),this.board.addEventListener("playerChosePoorly",this.playerFail.bind(this)),this.board.addEventListener("setScreenData",this.setScreenData.bind(this)),this.board.addEventListener("absorbedInstantEvent",this.absorbedInstantHandler.bind(this)),this.addChild(this.board),this.board.blockTop=!0,this.board.blockBottom=!0,this.addChild(n.getInstance()),o.tutorialPlayed||(this.tutorial=new c,this.addChild(this.tutorial),this.tutorial.startDisplay()),this.screenPositions=[],this.currentScreen=0,e=h=0;6>=h;e=++h)this.screenPositions.push(o.screenSize.y*e)}return e(r,t),r.prototype.finishedText=function(){return console.log("finished")},r.prototype.update=function(){var t,e,i,n;return r.__super__.update.apply(this,arguments),i=this.currentScreen/(this.screenPositions.length-1),e=150,t=this.startArrowY+e*i,this.bottomArrow.y+=(t-this.bottomArrow.y)*this.deltaTime,n=this.startLightScale,t=this.startLightScale+n*i,this.topLight.scaleX=this.topLight.scaleY=this.topLight.scaleX+(t-this.topLight.scaleX)*this.deltaTime,this.lightshaftContainer.scaleX=this.lightshaftContainer.scaleY=.75*this.topLight.scaleX},r.prototype.setScreenData=function(t){return this.screenData=t.target,this.screenData.mass=Math.max(450,this.screenData.mass)},r.prototype.showFinalScreenMessages=function(){var t;return t=0,this.finalText=new createjs.Text("PageUp values absorbed!","36px varela_round","#fff"),this.finalText.x=o.screenSize.x/2,this.finalText.y=t+.1*o.screenSize.y,this.finalText.lineWidth=o.screenSize.x/2,this.finalText.lineHeight=44,this.finalText.textAlign="center",this.finalText.alpha=0,this.addChild(this.finalText),this.replayButt=new h("Play again?","42px varela_round","#f0f0ff","#beedbd","#012803",{x:3,y:3}),this.replayButt.x=o.screenSize.x/2,this.replayButt.y=o.screenSize.y-.1*o.screenSize.y-42,this.replayButt.addEventListener("selected",this.resetGame.bind(this)),this.replayButt.alpha=0,this.addChild(this.replayButt),createjs.Tween.get(this.finalText).wait(1e3).wait(250).to({alpha:1},250,createjs.Ease.sineOut),createjs.Tween.get(this.replayButt).wait(1e3).wait(375).to({alpha:1},250,createjs.Ease.sineOut).call(this.createValues.bind(this))},r.prototype.createValues=function(){var t,e,i,n,r;return r=new s(null,"Zing","",!0,!1),r.x=.4*o.screenSize.x,r.y=300,r.giveMass(0),r.textPosition={x:2,y:-.5},this.addChild(r),t=new s(null,"Belief","",!0,!1),t.x=.4*o.screenSize.x,t.y=375,t.giveMass(0),t.textPosition={x:2,y:-.5},this.addChild(t),n=new s(null,"We ValYou","",!0,!1),n.x=.4*o.screenSize.x,n.y=450,n.giveMass(0),n.textPosition={x:2,y:-.5},this.addChild(n),i=new s(null,"Integrity","",!0,!1),i.x=.4*o.screenSize.x,i.y=525,i.giveMass(0),i.textPosition={x:2,y:-.5},this.addChild(i),e=new s(null,"Clients","",!0,!1),e.x=.4*o.screenSize.x,e.y=600,e.giveMass(0),e.textPosition={x:2,y:-.5},this.addChild(e),createjs.Tween.get(this).wait(125).call(function(){return function(){return l.playSoundEffect("success",1)}}(this)).call(function(){return function(){return r.changeMassOfUnit(300)}}(this)).wait(125).call(function(){return function(){return t.changeMassOfUnit(300)}}(this)).wait(125).call(function(){return function(){return n.changeMassOfUnit(300)}}(this)).wait(125).call(function(){return function(){return i.changeMassOfUnit(300)}}(this)).wait(125).call(function(){return function(){return e.changeMassOfUnit(300)}}(this))},r.prototype.playerSuccess=function(){var t;return this.currentScreen++,t=this.screenPositions[this.currentScreen],createjs.Tween.get(this.board).to({y:t},1e3,createjs.Ease.cubicInOut),1===this.currentScreen&&createjs.Tween.get(this).wait(1e3).call(function(t){return function(){return t.tutorial.giveMessage("startedSecondScreen")}}(this)),this.board.blockTop=!0,this.board.blockBottom=!0,this.board.moveToScreen(this.currentScreen),this.currentScreen===this.screenPositions.length-1?this.showFinalScreenMessages():void 0},r.prototype.playerFail=function(t){return this.tutorial.giveMessage("absorbedEnemy"),createjs.Tween.get(this).wait(500).call(function(t){return function(){return t.board.respawnChar(t.screenData.position,t.screenData.mass)}}(this)),t.target.showDialogue?(this.board.hideAllForScreen(this.currentScreen,.15),n.getInstance().finishedCallback=this.playerFailFinished.bind(this)):n.getInstance().finishedCallback=null},r.prototype.playerFailFinished=function(){return this.board.hideAllForScreen(this.currentScreen,1)},r.prototype.playerClick=function(){return this.tutorial.giveMessage("singleMotion")},r.prototype.absorbedInstantHandler=function(){return this.tutorial.giveMessage("absorbedEnemy"),n.getInstance().finishedCallback=this.playerSuccess.bind(this),this.board.hideAlphaForIncorrectForScreen(this.currentScreen,.15)},r.prototype.resetGame=function(){location.reload()},r.prototype.newBoard=function(){var t;return createjs.Tween.get(this.board).to({alpha:0},250,createjs.Ease.sineOut).call(function(t){return function(){return t.removeChild(t.board)}}(this)).call(function(t){return function(){return t.board=null}}(this)),t=new i,t.alpha=0,t.addEventListener("setScreenData",this.setScreenData.bind(this)),this.addChildAt(t,1),createjs.Tween.get(t).to({alpha:1},250,createjs.Ease.sineIn).wait(100).call(function(e){return function(){return e.board=t}}(this)).call(this.setUpNewBoard.bind(this))},r.prototype.setUpNewBoard=function(){return this.board.blockTop=!0,this.board.blockBottom=!0,this.board.addEventListener("playerChosePoorly",this.playerFail.bind(this)),this.board.addEventListener("singleClick",this.playerClick.bind(this)),this.board.addEventListener("absorbedInstantEvent",this.absorbedInstantHandler.bind(this)),this.currentScreen=0},r.prototype.transitionIn=function(){return r.__super__.transitionIn.apply(this,arguments),this.alpha=0,createjs.Tween.get(this).to({alpha:1},500,createjs.Ease.sineInOut)},r.prototype.transitionOut=function(){return r.__super__.transitionOut.apply(this,arguments),createjs.Tween.get(this).wait(1e3).call(this.transitionOutCallback.bind(this))},r}(u)})}.call(this),function(){define("game/statemachine/States",["require","game/statemachine/states/MenuState","game/statemachine/states/GameState"],function(t){var e,i,n;return i=t("game/statemachine/states/MenuState"),e=t("game/statemachine/states/GameState"),n=function(){function t(){this.roomClasses={MenuState:i,GameState:e}}var n;return n=null,t.getInstance=function(){return null!=n?n:n=new t},t.prototype.getClassInstance=function(t){if(!this.roomClasses[t])throw Error("State  not found");return new this.roomClasses[t]},t}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/statemachine/StateManager",["require","createjs","game/Globals","game/GlobalAssets","game/SoundManager","game/statemachine/States"],function(t){var i,n,s,r,a;return t("createjs"),n=t("game/Globals"),i=t("game/GlobalAssets"),s=t("game/SoundManager"),a=t("game/statemachine/States"),r=function(t){function i(){this.initialize(),this.currentScreenName="",this.currentScreen=null,this.lastScreen=null}var n;return e(i,t),n=null,i.getInstance=function(){return null!=n?n:n=new i},i.prototype.openScreen=function(t){var e;return e=a.getInstance().getClassInstance(t),this.lastScreen=this.currentScreen,this.currentScreen=e,this.currentScreenName=t,this.currentScreen.addEventListener("ChangeScreen",this.changeScreenRequest.bind(this)),this.addChild(this.currentScreen),this.currentScreen.transitionIn(),null!==this.lastScreen?this.lastScreen.transitionOut(this.removeLastScreen.bind(this)):void 0},i.prototype.removeLastScreen=function(){return this.lastScreen.removeEventListener("ChangeScreen",this.changeScreenRequest.bind(this)),this.removeChild(this.lastScreen)},i.prototype.changeScreenRequest=function(t){return this.openScreen(t.target)},i}(createjs.Container)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/GameMain",["require","createjs","game/Globals","game/GlobalAssets","game/SoundManager","game/statemachine/StateManager","game/GameObject"],function(t){var i,n,s,r,a,o;return t("createjs"),r=t("game/Globals"),s=t("game/GlobalAssets"),a=t("game/SoundManager"),o=t("game/statemachine/StateManager"),n=t("game/GameObject"),i=function(t){function i(){i.__super__.constructor.apply(this,arguments),a.setBgMusicMute(r.musicMuted),a.setSoundEffectsMute(r.sfxMuted),this.game=o.getInstance(),this.addChild(this.game),o.getInstance().openScreen("MenuState"),this.lastBloomImage}return e(i,t),i.prototype.update=function(){return i.__super__.update.apply(this,arguments)},i.prototype.reScaleGame=function(t){return this.scaleX=this.scaleY=t,r.gameScale=t},i}(n)})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("game/GameWrapper",["require","createjs","game/Globals","game/GlobalAssets","game/Preloader","game/GameMain","game/SoundManager"],function(t){var i,n,s,r,a,o;return t("createjs"),r=t("game/Globals"),s=t("game/GlobalAssets"),a=t("game/Preloader"),i=t("game/GameMain"),o=t("game/SoundManager"),n=function(t){function n(t){var e;this.initialize(t),this._canvas=t,this._canvas.style.top=(window.innerHeight-360)/2+"px",null==window.console&&(window.console={log:function(){}}),("undefined"==typeof console||null===console)&&(window.console={log:function(){}}),createjs.Ticker.setFPS(n.FPS),createjs.Ticker.addEventListener("tick",this),window.addEventListener("focus",this.windowFocus.bind(this)),window.addEventListener("blur",this.windowUnfocus.bind(this)),createjs.Sound.initializeDefaultPlugins()||(console.log("Sound Plugins failed to load, attempting to manually start"),createjs.FlashPlugin.BASE_PATH="assets/js/libs/soundjs/",e=[createjs.FlashPlugin,createjs.WebAudioPlugin,createjs.HTMLAudioPlugin],createjs.Sound.registerPlugins(e)),navigator.userAgent.match(/MSIE/i)||createjs.Touch.isSupported()&&(createjs.Touch.enable(this),r.touchDevice=!0),this.enableMouseOver(50),this.quality=1,this.minRes={width:n.MIN_WIDTH,height:n.MIN_HEIGHT},this.maxRes={width:n.RENDER_RESOLUTION_X,height:n.RENDER_RESOLUTION_Y},this.styleHeight=360,window.onresize=this.onResize.bind(this),null!==navigator.userAgent.match(/Firefox/i)&&(this.quality=0),this.onResize(),this.preloader=new a,this.addChild(this.preloader),s.getInstance().preloadProgress=this.preloadProgress.bind(this),s.getInstance().preloadComplete=this.preloadComplete.bind(this),s.getInstance().preloadEverything(),this.preloaderTest=0}return e(n,t),n.FPS=60,n.ASPECT_X=3,n.ASPECT_Y=4,n.ASPECT_RATIO=n.ASPECT_X/n.ASPECT_Y,n.RENDER_RESOLUTION_X=768,n.RENDER_RESOLUTION_Y=n.RENDER_RESOLUTION_X/n.ASPECT_RATIO,n.MIN_WIDTH=180,n.MIN_HEIGHT=n.MIN_WIDTH/n.ASPECT_RATIO,n.prototype.preloadProgress=function(t){return this.preloader.updateProgress(t)},n.prototype.preloadComplete=function(){return console.log("Preload Complete"),this.startGame(),this.removeChild(this.preloader),this.addChild(this.preloader),createjs.Tween.get(this.preloader).to({alpha:0},500).call(function(t){return function(){return t.removeChild(t.preloader)}}(this))},n.prototype.startGame=function(){return this.game=new i,this.addChild(this.game),this.onResize()},n.prototype.onResize=function(){var t,e,i,s;return window.devicePixelRatio||(window.devicePixelRatio=1),e=this.minRes.width+this.quality*(this.maxRes.width-this.minRes.width),t=this.minRes.height+this.quality*(this.maxRes.height-this.minRes.height),this._canvas.width!==e&&(this._canvas.width=e),this._canvas.height!==t&&(this._canvas.height=t),this.stretchToFit(),window.innerHeight>this.styleHeight?(i=window.innerHeight-this.styleHeight,this._canvas.style.top=i/2+"px"):this._canvas.style.top=0,r.screenSize={x:e,y:t},null!=(s=this.game)?s.reScaleGame(1/n.RENDER_RESOLUTION_Y*this._canvas.height):void 0},n.prototype.stretchToFit=function(){var t,e,i;return i=window.innerWidth/window.innerHeight,n.ASPECT_RATIO>i?(e=Math.max(window.innerWidth,n.MIN_WIDTH),this._canvas.style.width=e+"px",this._canvas.style.height=e/n.ASPECT_X*n.ASPECT_Y+"px",this.styleHeight=e/n.ASPECT_X*n.ASPECT_Y):(t=Math.max(window.innerHeight,n.MIN_HEIGHT),this._canvas.style.width=t/n.ASPECT_Y*n.ASPECT_X+"px",this._canvas.style.height=t+"px",this.styleHeight=t)},n.prototype.windowFocus=function(){return createjs.Ticker.getPaused()?createjs.Ticker.setPaused(!1):void 0},n.prototype.windowUnfocus=function(){return createjs.Ticker.getPaused()?void 0:createjs.Ticker.setPaused(!0)},n}(createjs.Stage)})}.call(this),!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=se.type(t);return"function"===i||se.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(se.isFunction(e))return se.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return se.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(de.test(e))return se.filter(e,t,i);e=se.filter(e,t)}return se.grep(t,function(t){return se.inArray(t,e)>=0!==i})}function s(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function r(t){var e=xe[t]={};return se.each(t.match(_e)||[],function(t,i){e[i]=!0}),e}function a(){fe.addEventListener?(fe.removeEventListener("DOMContentLoaded",o,!1),t.removeEventListener("load",o,!1)):(fe.detachEvent("onreadystatechange",o),t.detachEvent("onload",o))}function o(){(fe.addEventListener||"load"===event.type||"complete"===fe.readyState)&&(a(),se.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Ee,"-$1").toLowerCase();if(i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Te.test(i)?se.parseJSON(i):i}catch(s){}se.data(t,e,i)}else i=void 0}return i}function u(t){var e;for(e in t)if(("data"!==e||!se.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function h(t,e,i,n){if(se.acceptData(t)){var s,r,a=se.expando,o=t.nodeType,l=o?se.cache:t,u=o?t[a]:t[a]&&a;if(u&&l[u]&&(n||l[u].data)||void 0!==i||"string"!=typeof e)return u||(u=o?t[a]=V.pop()||se.guid++:a),l[u]||(l[u]=o?{}:{toJSON:se.noop}),("object"==typeof e||"function"==typeof e)&&(n?l[u]=se.extend(l[u],e):l[u].data=se.extend(l[u].data,e)),r=l[u],n||(r.data||(r.data={}),r=r.data),void 0!==i&&(r[se.camelCase(e)]=i),"string"==typeof e?(s=r[e],null==s&&(s=r[se.camelCase(e)])):s=r,s}}function c(t,e,i){if(se.acceptData(t)){var n,s,r=t.nodeType,a=r?se.cache:t,o=r?t[se.expando]:se.expando;if(a[o]){if(e&&(n=i?a[o]:a[o].data)){se.isArray(e)?e=e.concat(se.map(e,se.camelCase)):e in n?e=[e]:(e=se.camelCase(e),e=e in n?[e]:e.split(" ")),s=e.length;for(;s--;)delete n[e[s]];if(i?!u(n):!se.isEmptyObject(n))return}(i||(delete a[o].data,u(a[o])))&&(r?se.cleanData([t],!0):ie.deleteExpando||a!=a.window?delete a[o]:a[o]=null)}}}function d(){return!0}function p(){return!1}function f(){try{return fe.activeElement}catch(t){}}function g(t){var e=ke.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function m(t,e){var i,n,s=0,r=typeof t.getElementsByTagName!==Se?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Se?t.querySelectorAll(e||"*"):void 0;if(!r)for(r=[],i=t.childNodes||t;null!=(n=i[s]);s++)!e||se.nodeName(n,e)?r.push(n):se.merge(r,m(n,e));return void 0===e||e&&se.nodeName(t,e)?se.merge([t],r):r}function v(t){Le.test(t.type)&&(t.defaultChecked=t.checked)}function y(t,e){return se.nodeName(t,"table")&&se.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function _(t){return t.type=(null!==se.find.attr(t,"type"))+"/"+t.type,t}function x(t){var e=We.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function b(t,e){for(var i,n=0;null!=(i=t[n]);n++)se._data(i,"globalEval",!e||se._data(e[n],"globalEval"))}function w(t,e){if(1===e.nodeType&&se.hasData(t)){var i,n,s,r=se._data(t),a=se._data(e,r),o=r.events;if(o){delete a.handle,a.events={};for(i in o)for(n=0,s=o[i].length;s>n;n++)se.event.add(e,i,o[i][n])}a.data&&(a.data=se.extend({},a.data))}}function S(t,e){var i,n,s;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ie.noCloneEvent&&e[se.expando]){s=se._data(e);for(n in s.events)se.removeEvent(e,n,s.handle);e.removeAttribute(se.expando)}"script"===i&&e.text!==t.text?(_(e).text=t.text,x(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ie.html5Clone&&t.innerHTML&&!se.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Le.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function T(e,i){var n,s=se(i.createElement(e)).appendTo(i.body),r=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(s[0]))?n.display:se.css(s[0],"display");return s.detach(),r}function E(t){var e=fe,i=Ze[t];return i||(i=T(t,e),"none"!==i&&i||(Ke=(Ke||se("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Ke[0].contentWindow||Ke[0].contentDocument).document,e.write(),e.close(),i=T(t,e),Ke.detach()),Ze[t]=i),i}function j(t,e){return{get:function(){var i=t();return null!=i?i?void delete this.get:(this.get=e).apply(this,arguments):void 0}}}function P(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,s=di.length;s--;)if(e=di[s]+i,e in t)return e;return n}function C(t,e){for(var i,n,s,r=[],a=0,o=t.length;o>a;a++)n=t[a],n.style&&(r[a]=se._data(n,"olddisplay"),i=n.style.display,e?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Ce(n)&&(r[a]=se._data(n,"olddisplay",E(n.nodeName)))):(s=Ce(n),(i&&"none"!==i||!s)&&se._data(n,"olddisplay",s?i:se.css(n,"display"))));for(a=0;o>a;a++)n=t[a],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[a]||"":"none"));return t}function M(t,e,i){var n=li.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function L(t,e,i,n,s){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=se.css(t,i+Pe[r],!0,s)),n?("content"===i&&(a-=se.css(t,"padding"+Pe[r],!0,s)),"margin"!==i&&(a-=se.css(t,"border"+Pe[r]+"Width",!0,s))):(a+=se.css(t,"padding"+Pe[r],!0,s),"padding"!==i&&(a+=se.css(t,"border"+Pe[r]+"Width",!0,s)));return a}function A(t,e,i){var n=!0,s="width"===e?t.offsetWidth:t.offsetHeight,r=ti(t),a=ie.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,r);if(0>=s||null==s){if(s=ei(t,e,r),(0>s||null==s)&&(s=t.style[e]),ni.test(s))return s;n=a&&(ie.boxSizingReliable()||s===t.style[e]),s=parseFloat(s)||0}return s+L(t,e,i||(a?"border":"content"),n,r)+"px"}function O(t,e,i,n,s){return new O.prototype.init(t,e,i,n,s)}function I(){return setTimeout(function(){pi=void 0}),pi=se.now()}function D(t,e){var i,n={height:t},s=0;for(e=e?1:0;4>s;s+=2-e)i=Pe[s],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function N(t,e,i){for(var n,s=(_i[e]||[]).concat(_i["*"]),r=0,a=s.length;a>r;r++)if(n=s[r].call(i,e,t))return n}function k(t,e,i){var n,s,r,a,o,l,u,h,c=this,d={},p=t.style,f=t.nodeType&&Ce(t),g=se._data(t,"fxshow");i.queue||(o=se._queueHooks(t,"fx"),null==o.unqueued&&(o.unqueued=0,l=o.empty.fire,o.empty.fire=function(){o.unqueued||l()}),o.unqueued++,c.always(function(){c.always(function(){o.unqueued--,se.queue(t,"fx").length||o.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],u=se.css(t,"display"),h="none"===u?se._data(t,"olddisplay")||E(t.nodeName):u,"inline"===h&&"none"===se.css(t,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",ie.shrinkWrapBlocks()||c.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(s=e[n],gi.exec(s)){if(delete e[n],r=r||"toggle"===s,s===(f?"hide":"show")){if("show"!==s||!g||void 0===g[n])continue;f=!0}d[n]=g&&g[n]||se.style(t,n)}else u=void 0;if(se.isEmptyObject(d))"inline"===("none"===u?E(t.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(f=g.hidden):g=se._data(t,"fxshow",{}),r&&(g.hidden=!f),f?se(t).show():c.done(function(){se(t).hide()}),c.done(function(){var e;se._removeData(t,"fxshow");for(e in d)se.style(t,e,d[e])});for(n in d)a=N(f?g[n]:0,n,c),n in g||(g[n]=a.start,f&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function R(t,e){var i,n,s,r,a;for(i in t)if(n=se.camelCase(i),s=e[n],r=t[i],se.isArray(r)&&(s=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),a=se.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=s)}else e[n]=s}function F(t,e,i){var n,s,r=0,a=yi.length,o=se.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=pi||I(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,r=1-n,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(r);return o.notifyWith(t,[u,r,i]),1>r&&l?i:(o.resolveWith(t,[u]),!1)},u=o.promise({elem:t,props:se.extend({},e),opts:se.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:pi||I(),duration:i.duration,tweens:[],createTween:function(e,i){var n=se.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(s)return this;for(s=!0;n>i;i++)u.tweens[i].run(1);return e?o.resolveWith(t,[u,e]):o.rejectWith(t,[u,e]),this}}),h=u.props;for(R(h,u.opts.specialEasing);a>r;r++)if(n=yi[r].call(u,t,h,u.opts))return n;return se.map(h,N,u),se.isFunction(u.opts.start)&&u.opts.start.call(t,u),se.fx.timer(se.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,r=e.toLowerCase().match(_e)||[];if(se.isFunction(i))for(;n=r[s++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function H(t,e,i,n){function s(o){var l;return r[o]=!0,se.each(t[o]||[],function(t,o){var u=o(e,i,n);return"string"!=typeof u||a||r[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)}),l}var r={},a=t===Gi;return s(e.dataTypes[0])||!r["*"]&&s("*")}function z(t,e){var i,n,s=se.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((s[n]?t:i||(i={}))[n]=e[n]);return i&&se.extend(!0,t,i),t}function X(t,e,i){for(var n,s,r,a,o=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===s&&(s=t.mimeType||e.getResponseHeader("Content-Type"));if(s)for(a in o)if(o[a]&&o[a].test(s)){l.unshift(a);break}if(l[0]in i)r=l[0];else{for(a in i){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}n||(n=a)}r=r||n}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function G(t,e,i,n){var s,r,a,o,l,u={},h=t.dataTypes.slice();if(h[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(r=h.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=h.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=u[l+" "+r]||u["* "+r],!a)for(s in u)if(o=s.split(" "),o[1]===r&&(a=u[l+" "+o[0]]||u["* "+o[0]])){a===!0?a=u[s]:u[s]!==!0&&(r=o[0],h.unshift(o[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function U(t,e,i,n){var s;if(se.isArray(e))se.each(e,function(e,s){i||Wi.test(t)?n(t,s):U(t+"["+("object"==typeof s?e:"")+"]",s,i,n)});else if(i||"object"!==se.type(e))n(t,e);else for(s in e)U(t+"["+s+"]",e[s],i,n)}function q(){try{return new t.XMLHttpRequest}catch(e){}}function Y(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function W(t){return se.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V=[],Q=V.slice,J=V.concat,$=V.push,K=V.indexOf,Z={},te=Z.toString,ee=Z.hasOwnProperty,ie={},ne="1.11.1",se=function(t,e){return new se.fn.init(t,e)},re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,oe=/-([\da-z])/gi,le=function(t,e){return e.toUpperCase()};se.fn=se.prototype={jquery:ne,constructor:se,selector:"",length:0,toArray:function(){return Q.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:Q.call(this)},pushStack:function(t){var e=se.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return se.each(this,t,e)},map:function(t){return this.pushStack(se.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(Q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:$,sort:V.sort,splice:V.splice},se.extend=se.fn.extend=function(){var t,e,i,n,s,r,a=arguments[0]||{},o=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[o]||{},o++),"object"==typeof a||se.isFunction(a)||(a={}),o===l&&(a=this,o--);l>o;o++)if(null!=(s=arguments[o]))for(n in s)t=a[n],i=s[n],a!==i&&(u&&i&&(se.isPlainObject(i)||(e=se.isArray(i)))?(e?(e=!1,r=t&&se.isArray(t)?t:[]):r=t&&se.isPlainObject(t)?t:{},a[n]=se.extend(u,r,i)):void 0!==i&&(a[n]=i));return a},se.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw Error(t)},noop:function(){},isFunction:function(t){return"function"===se.type(t)},isArray:Array.isArray||function(t){return"array"===se.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!se.isArray(t)&&t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==se.type(t)||t.nodeType||se.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ie.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Z[te.call(t)]||"object":typeof t},globalEval:function(e){e&&se.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ae,"ms-").replace(oe,le)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var s,r=0,a=t.length,o=i(t);if(n){if(o)for(;a>r&&(s=e.apply(t[r],n),s!==!1);r++);else for(r in t)if(s=e.apply(t[r],n),s===!1)break}else if(o)for(;a>r&&(s=e.call(t[r],r,t[r]),s!==!1);r++);else for(r in t)if(s=e.call(t[r],r,t[r]),s===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(re,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?se.merge(n,"string"==typeof t?[t]:t):$.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(K)return K.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;i>n;)t[s++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[s++]=e[n++];return t.length=s,t},grep:function(t,e,i){for(var n,s=[],r=0,a=t.length,o=!i;a>r;r++)n=!e(t[r],r),n!==o&&s.push(t[r]);return s},map:function(t,e,n){var s,r=0,a=t.length,o=i(t),l=[];if(o)for(;a>r;r++)s=e(t[r],r,n),null!=s&&l.push(s);else for(r in t)s=e(t[r],r,n),null!=s&&l.push(s);return J.apply([],l)},guid:1,proxy:function(t,e){var i,n,s;return"string"==typeof e&&(s=t[e],e=t,t=s),se.isFunction(t)?(i=Q.call(arguments,2),n=function(){return t.apply(e||this,i.concat(Q.call(arguments)))},n.guid=t.guid=t.guid||se.guid++,n):void 0},now:function(){return+new Date},support:ie}),se.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Z["[object "+e+"]"]=e.toLowerCase()});var ue=function(t){function e(t,e,i,n){var s,r,a,o,l,u,c,p,f,g;if((e?e.ownerDocument||e:H)!==O&&A(e),e=e||O,i=i||[],!t||"string"!=typeof t)return i;if(1!==(o=e.nodeType)&&9!==o)return[];if(D&&!n){if(s=ye.exec(t))if(a=s[1]){if(9===o){if(r=e.getElementById(a),!r||!r.parentNode)return i;if(r.id===a)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(a))&&F(e,r)&&r.id===a)return i.push(r),i}else{if(s[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((a=s[3])&&b.getElementsByClassName&&e.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(a)),i}if(b.qsa&&(!N||!N.test(t))){if(p=c=B,f=e,g=9===o&&t,1===o&&"object"!==e.nodeName.toLowerCase()){for(u=E(t),(c=e.getAttribute("id"))?p=c.replace(xe,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+d(u[l]);
f=_e.test(t)&&h(e.parentNode)||e,g=u.join(",")}if(g)try{return Z.apply(i,f.querySelectorAll(g)),i}catch(m){}finally{c||e.removeAttribute("id")}}}return P(t.replace(le,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[B]=!0,t}function s(t){var e=O.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=t.length;n--;)w.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function o(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function l(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function u(t){return n(function(e){return e=+e,n(function(i,n){for(var s,r=t([],i.length,e),a=r.length;a--;)i[s=r[a]]&&(i[s]=!(n[s]=i[s]))})})}function h(t){return t&&typeof t.getElementsByTagName!==W&&t}function c(){}function d(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,s=i&&"parentNode"===n,r=X++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||s)return t(e,i,r)}:function(e,i,a){var o,l,u=[z,r];if(a){for(;e=e[n];)if((1===e.nodeType||s)&&t(e,i,a))return!0}else for(;e=e[n];)if(1===e.nodeType||s){if(l=e[B]||(e[B]={}),(o=l[n])&&o[0]===z&&o[1]===r)return u[2]=o[2];if(l[n]=u,u[2]=t(e,i,a))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function g(t,i,n){for(var s=0,r=i.length;r>s;s++)e(t,i[s],n);return n}function m(t,e,i,n,s){for(var r,a=[],o=0,l=t.length,u=null!=e;l>o;o++)(r=t[o])&&(!i||i(r,n,s))&&(a.push(r),u&&e.push(o));return a}function v(t,e,i,s,r,a){return s&&!s[B]&&(s=v(s)),r&&!r[B]&&(r=v(r,a)),n(function(n,a,o,l){var u,h,c,d=[],p=[],f=a.length,v=n||g(e||"*",o.nodeType?[o]:o,[]),y=!t||!n&&e?v:m(v,d,t,o,l),_=i?r||(n?t:f||s)?[]:a:y;if(i&&i(y,_,o,l),s)for(u=m(_,p),s(u,[],o,l),h=u.length;h--;)(c=u[h])&&(_[p[h]]=!(y[p[h]]=c));if(n){if(r||t){if(r){for(u=[],h=_.length;h--;)(c=_[h])&&u.push(y[h]=c);r(null,_=[],u,l)}for(h=_.length;h--;)(c=_[h])&&(u=r?ee.call(n,c):d[h])>-1&&(n[u]=!(a[u]=c))}}else _=m(_===a?_.splice(f,_.length):_),r?r(null,a,_,l):Z.apply(a,_)})}function y(t){for(var e,i,n,s=t.length,r=w.relative[t[0].type],a=r||w.relative[" "],o=r?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return ee.call(e,t)>-1},a,!0),h=[function(t,i,n){return!r&&(n||i!==C)||((e=i).nodeType?l(t,i,n):u(t,i,n))}];s>o;o++)if(i=w.relative[t[o].type])h=[p(f(h),i)];else{if(i=w.filter[t[o].type].apply(null,t[o].matches),i[B]){for(n=++o;s>n&&!w.relative[t[n].type];n++);return v(o>1&&f(h),o>1&&d(t.slice(0,o-1).concat({value:" "===t[o-2].type?"*":""})).replace(le,"$1"),i,n>o&&y(t.slice(o,n)),s>n&&y(t=t.slice(n)),s>n&&d(t))}h.push(i)}return f(h)}function _(t,i){var s=i.length>0,r=t.length>0,a=function(n,a,o,l,u){var h,c,d,p=0,f="0",g=n&&[],v=[],y=C,_=n||r&&w.find.TAG("*",u),x=z+=null==y?1:Math.random()||.1,b=_.length;for(u&&(C=a!==O&&a);f!==b&&null!=(h=_[f]);f++){if(r&&h){for(c=0;d=t[c++];)if(d(h,a,o)){l.push(h);break}u&&(z=x)}s&&((h=!d&&h)&&p--,n&&g.push(h))}if(p+=f,s&&f!==p){for(c=0;d=i[c++];)d(g,v,a,o);if(n){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=$.call(l));v=m(v)}Z.apply(l,v),u&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return u&&(z=x,C=y),g};return s?n(a):a}var x,b,w,S,T,E,j,P,C,M,L,A,O,I,D,N,k,R,F,B="sizzle"+-new Date,H=t.document,z=0,X=0,G=i(),U=i(),q=i(),Y=function(t,e){return t===e&&(L=!0),0},W="undefined",V=1<<31,Q={}.hasOwnProperty,J=[],$=J.pop,K=J.push,Z=J.push,te=J.slice,ee=J.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},ie="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=se.replace("w","w#"),ae="\\["+ne+"*("+se+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+se+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ae+")*)|.*)\\)|)",le=RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=RegExp("^"+ne+"*,"+ne+"*"),he=RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=RegExp(oe),pe=RegExp("^"+re+"$"),fe={ID:RegExp("^#("+se+")"),CLASS:RegExp("^\\.("+se+")"),TAG:RegExp("^("+se.replace("w","w*")+")"),ATTR:RegExp("^"+ae),PSEUDO:RegExp("^"+oe),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:RegExp("^(?:"+ie+")$","i"),needsContext:RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},ge=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/[+~]/,xe=/'|\\/g,be=RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{Z.apply(J=te.call(H.childNodes),H.childNodes),J[H.childNodes.length].nodeType}catch(Se){Z={apply:J.length?function(t,e){K.apply(t,te.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}b=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},A=e.setDocument=function(t){var e,i=t?t.ownerDocument||t:H,n=i.defaultView;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,I=i.documentElement,D=!T(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){A()},!1):n.attachEvent&&n.attachEvent("onunload",function(){A()})),b.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=s(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=ve.test(i.getElementsByClassName)&&s(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),b.getById=s(function(t){return I.appendChild(t).id=B,!i.getElementsByName||!i.getElementsByName(B).length}),b.getById?(w.find.ID=function(t,e){if(typeof e.getElementById!==W&&D){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(t){var e=t.replace(be,we);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(be,we);return function(t){var i=typeof t.getAttributeNode!==W&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=b.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==W?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],s=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},w.find.CLASS=b.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==W&&D?e.getElementsByClassName(t):void 0},k=[],N=[],(b.qsa=ve.test(i.querySelectorAll))&&(s(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&N.push("[*^$]="+ne+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+ne+"*(?:value|"+ie+")"),t.querySelectorAll(":checked").length||N.push(":checked")}),s(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+ne+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(b.matchesSelector=ve.test(R=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&s(function(t){b.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),k.push("!=",oe)}),N=N.length&&RegExp(N.join("|")),k=k.length&&RegExp(k.join("|")),e=ve.test(I.compareDocumentPosition),F=e||ve.test(I.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Y=e?function(t,e){if(t===e)return L=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===H&&F(H,t)?-1:e===i||e.ownerDocument===H&&F(H,e)?1:M?ee.call(M,t)-ee.call(M,e):0:4&n?-1:1)}:function(t,e){if(t===e)return L=!0,0;var n,s=0,r=t.parentNode,o=e.parentNode,l=[t],u=[e];if(!r||!o)return t===i?-1:e===i?1:r?-1:o?1:M?ee.call(M,t)-ee.call(M,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[s]===u[s];)s++;return s?a(l[s],u[s]):l[s]===H?-1:u[s]===H?1:0},i):O},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==O&&A(t),i=i.replace(ce,"='$1']"),!(!b.matchesSelector||!D||k&&k.test(i)||N&&N.test(i)))try{var n=R.call(t,i);if(n||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(s){}return e(i,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&A(t),F(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&A(t);var i=w.attrHandle[e.toLowerCase()],n=i&&Q.call(w.attrHandle,e.toLowerCase())?i(t,e,!D):void 0;return void 0!==n?n:b.attributes||!D?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,s=0;if(L=!b.detectDuplicates,M=!b.sortStable&&t.slice(0),t.sort(Y),L){for(;e=t[s++];)e===t[s]&&(n=i.push(s));for(;n--;)t.splice(i[n],1)}return M=null,t},S=e.getText=function(t){var e,i="",n=0,s=t.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=S(t)}else if(3===s||4===s)return t.nodeValue}else for(;e=t[n++];)i+=S(e);return i},w=e.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(be,we),t[3]=(t[3]||t[4]||t[5]||"").replace(be,we),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return fe.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&de.test(i)&&(e=E(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(be,we).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=RegExp("(^|"+ne+")"+t+"("+ne+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==W&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(s){var r=e.attr(s,t);return null==r?"!="===i:i?(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r+" ").indexOf(n)>-1:"|="===i?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,s){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),o="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,l){var u,h,c,d,p,f,g=r!==a?"nextSibling":"previousSibling",m=e.parentNode,v=o&&e.nodeName.toLowerCase(),y=!l&&!o;if(m){if(r){for(;g;){for(c=e;c=c[g];)if(o?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(h=m[B]||(m[B]={}),u=h[t]||[],p=u[0]===z&&u[1],d=u[0]===z&&u[2],c=p&&m.childNodes[p];c=++p&&c&&c[g]||(d=p=0)||f.pop();)if(1===c.nodeType&&++d&&c===e){h[t]=[z,p,d];break}}else if(y&&(u=(e[B]||(e[B]={}))[t])&&u[0]===z)d=u[1];else for(;(c=++p&&c&&c[g]||(d=p=0)||f.pop())&&((o?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++d||(y&&((c[B]||(c[B]={}))[t]=[z,d]),c!==e)););return d-=s,d===n||0===d%n&&d/n>=0}}},PSEUDO:function(t,i){var s,r=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[B]?r(i):r.length>1?(s=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,s=r(t,i),a=s.length;a--;)n=ee.call(t,s[a]),t[n]=!(e[n]=s[a])}):function(t){return r(t,0,s)}):r}},pseudos:{not:n(function(t){var e=[],i=[],s=j(t.replace(le,"$1"));return s[B]?n(function(t,e,i,n){for(var r,a=s(t,null,n,[]),o=t.length;o--;)(r=a[o])&&(t[o]=!(e[o]=r))}):function(t,n,r){return e[0]=t,s(e,null,r,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:n(function(t){return pe.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(be,we).toLowerCase(),function(e){var i;do if(i=D?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(6>t.nodeType)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return me.test(t.nodeName)},input:function(t){return ge.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,i){return[0>i?i+e:i]}),even:u(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:u(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:u(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:u(function(t,e,i){for(var n=0>i?i+e:i;e>++n;)t.push(n);return t})}},w.pseudos.nth=w.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[x]=o(x);for(x in{submit:!0,reset:!0})w.pseudos[x]=l(x);return c.prototype=w.filters=w.pseudos,w.setFilters=new c,E=e.tokenize=function(t,i){var n,s,r,a,o,l,u,h=U[t+" "];if(h)return i?0:h.slice(0);for(o=t,l=[],u=w.preFilter;o;){(!n||(s=ue.exec(o)))&&(s&&(o=o.slice(s[0].length)||o),l.push(r=[])),n=!1,(s=he.exec(o))&&(n=s.shift(),r.push({value:n,type:s[0].replace(le," ")}),o=o.slice(n.length));for(a in w.filter)!(s=fe[a].exec(o))||u[a]&&!(s=u[a](s))||(n=s.shift(),r.push({value:n,type:a,matches:s}),o=o.slice(n.length));if(!n)break}return i?o.length:o?e.error(t):U(t,l).slice(0)},j=e.compile=function(t,e){var i,n=[],s=[],r=q[t+" "];if(!r){for(e||(e=E(t)),i=e.length;i--;)r=y(e[i]),r[B]?n.push(r):s.push(r);r=q(t,_(s,n)),r.selector=t}return r},P=e.select=function(t,e,i,n){var s,r,a,o,l,u="function"==typeof t&&t,c=!n&&E(t=u.selector||t);if(i=i||[],1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&b.getById&&9===e.nodeType&&D&&w.relative[r[1].type]){if(e=(w.find.ID(a.matches[0].replace(be,we),e)||[])[0],!e)return i;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(s=fe.needsContext.test(t)?0:r.length;s--&&(a=r[s],!w.relative[o=a.type]);)if((l=w.find[o])&&(n=l(a.matches[0].replace(be,we),_e.test(r[0].type)&&h(e.parentNode)||e))){if(r.splice(s,1),t=n.length&&d(r),!t)return Z.apply(i,n),i;break}}return(u||j(t,c))(n,e,!D,i,_e.test(t)&&h(e.parentNode)||e),i},b.sortStable=B.split("").sort(Y).join("")===B,b.detectDuplicates=!!L,A(),b.sortDetached=s(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||r(ie,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);se.find=ue,se.expr=ue.selectors,se.expr[":"]=se.expr.pseudos,se.unique=ue.uniqueSort,se.text=ue.getText,se.isXMLDoc=ue.isXML,se.contains=ue.contains;var he=se.expr.match.needsContext,ce=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;se.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?se.find.matchesSelector(n,t)?[n]:[]:se.find.matches(t,se.grep(e,function(t){return 1===t.nodeType}))},se.fn.extend({find:function(t){var e,i=[],n=this,s=n.length;if("string"!=typeof t)return this.pushStack(se(t).filter(function(){for(e=0;s>e;e++)if(se.contains(n[e],this))return!0}));for(e=0;s>e;e++)se.find(t,n[e],i);return i=this.pushStack(s>1?se.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&he.test(t)?se(t):t||[],!1).length}});var pe,fe=t.document,ge=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=se.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ge.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||pe).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof se?e[0]:e,se.merge(this,se.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:fe,!0)),ce.test(i[1])&&se.isPlainObject(e))for(i in e)se.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(n=fe.getElementById(i[2]),n&&n.parentNode){if(n.id!==i[2])return pe.find(t);this.length=1,this[0]=n}return this.context=fe,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):se.isFunction(t)?pe.ready!==void 0?pe.ready(t):t(se):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),se.makeArray(t,this))};me.prototype=se.fn,pe=se(fe);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};se.extend({dir:function(t,e,i){for(var n=[],s=t[e];s&&9!==s.nodeType&&(void 0===i||1!==s.nodeType||!se(s).is(i));)1===s.nodeType&&n.push(s),s=s[e];return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),se.fn.extend({has:function(t){var e,i=se(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(se.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,s=this.length,r=[],a=he.test(t)||"string"!=typeof t?se(t,e||this.context):0;s>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(11>i.nodeType&&(a?a.index(i)>-1:1===i.nodeType&&se.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?se.unique(r):r)},index:function(t){return t?"string"==typeof t?se.inArray(this[0],se(t)):se.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(se.unique(se.merge(this.get(),se(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),se.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return se.dir(t,"parentNode")},parentsUntil:function(t,e,i){return se.dir(t,"parentNode",i)},next:function(t){return s(t,"nextSibling")},prev:function(t){return s(t,"previousSibling")},nextAll:function(t){return se.dir(t,"nextSibling")},prevAll:function(t){return se.dir(t,"previousSibling")},nextUntil:function(t,e,i){return se.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return se.dir(t,"previousSibling",i)},siblings:function(t){return se.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return se.sibling(t.firstChild)},contents:function(t){return se.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:se.merge([],t.childNodes)}},function(t,e){se.fn[t]=function(i,n){var s=se.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=se.filter(n,s)),this.length>1&&(ye[t]||(s=se.unique(s)),ve.test(t)&&(s=s.reverse())),this.pushStack(s)}});var _e=/\S+/g,xe={};se.Callbacks=function(t){t="string"==typeof t?xe[t]||r(t):se.extend({},t);var e,i,n,s,a,o,l=[],u=!t.once&&[],h=function(r){for(i=t.memory&&r,n=!0,a=o||0,o=0,s=l.length,e=!0;l&&s>a;a++)if(l[a].apply(r[0],r[1])===!1&&t.stopOnFalse){i=!1;break}e=!1,l&&(u?u.length&&h(u.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var n=l.length;!function r(e){se.each(e,function(e,i){var n=se.type(i);"function"===n?t.unique&&c.has(i)||l.push(i):i&&i.length&&"string"!==n&&r(i)})}(arguments),e?s=l.length:i&&(o=n,h(i))}return this},remove:function(){return l&&se.each(arguments,function(t,i){for(var n;(n=se.inArray(i,l,n))>-1;)l.splice(n,1),e&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?se.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=i=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,i||c.disable(),this},locked:function(){return!u},fireWith:function(t,i){return!l||n&&!u||(i=i||[],i=[t,i.slice?i.slice():i],e?u.push(i):h(i)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},se.extend({Deferred:function(t){var e=[["resolve","done",se.Callbacks("once memory"),"resolved"],["reject","fail",se.Callbacks("once memory"),"rejected"],["notify","progress",se.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var t=arguments;return se.Deferred(function(i){se.each(e,function(e,r){var a=se.isFunction(t[e])&&t[e];s[r[1]](function(){var t=a&&a.apply(this,arguments);t&&se.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?se.extend(t,n):n}},s={};return n.pipe=n.then,se.each(e,function(t,r){var a=r[2],o=r[3];n[r[1]]=a.add,o&&a.add(function(){i=o},e[1^t][2].disable,e[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?n:this,arguments),this},s[r[0]+"With"]=a.fireWith}),n.promise(s),t&&t.call(s,s),s},when:function(t){var e,i,n,s=0,r=Q.call(arguments),a=r.length,o=1!==a||t&&se.isFunction(t.promise)?a:0,l=1===o?t:se.Deferred(),u=function(t,i,n){return function(s){i[t]=this,n[t]=arguments.length>1?Q.call(arguments):s,n===e?l.notifyWith(i,n):--o||l.resolveWith(i,n)}};if(a>1)for(e=Array(a),i=Array(a),n=Array(a);a>s;s++)r[s]&&se.isFunction(r[s].promise)?r[s].promise().done(u(s,n,r)).fail(l.reject).progress(u(s,i,e)):--o;return o||l.resolveWith(n,r),l.promise()}});var be;se.fn.ready=function(t){return se.ready.promise().done(t),this},se.extend({isReady:!1,readyWait:1,holdReady:function(t){t?se.readyWait++:se.ready(!0)},ready:function(t){if(t===!0?!--se.readyWait:!se.isReady){if(!fe.body)return setTimeout(se.ready);se.isReady=!0,t!==!0&&--se.readyWait>0||(be.resolveWith(fe,[se]),se.fn.triggerHandler&&(se(fe).triggerHandler("ready"),se(fe).off("ready")))}}}),se.ready.promise=function(e){if(!be)if(be=se.Deferred(),"complete"===fe.readyState)setTimeout(se.ready);else if(fe.addEventListener)fe.addEventListener("DOMContentLoaded",o,!1),t.addEventListener("load",o,!1);else{fe.attachEvent("onreadystatechange",o),t.attachEvent("onload",o);var i=!1;try{i=null==t.frameElement&&fe.documentElement}catch(n){}i&&i.doScroll&&!function s(){if(!se.isReady){try{i.doScroll("left")}catch(t){return setTimeout(s,50)}a(),se.ready()}}()}return be.promise(e)};var we,Se="undefined";for(we in se(ie))break;ie.ownLast="0"!==we,ie.inlineBlockNeedsLayout=!1,se(function(){var t,e,i,n;i=fe.getElementsByTagName("body")[0],i&&i.style&&(e=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==Se&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ie.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=fe.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}t=null}(),se.acceptData=function(t){var e=se.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return 1!==i&&9!==i?!1:!e||e!==!0&&t.getAttribute("classid")===e};var Te=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ee=/([A-Z])/g;se.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?se.cache[t[se.expando]]:t[se.expando],!!t&&!u(t)},data:function(t,e,i){return h(t,e,i)},removeData:function(t,e){return c(t,e)},_data:function(t,e,i){return h(t,e,i,!0)},_removeData:function(t,e){return c(t,e,!0)}}),se.fn.extend({data:function(t,e){var i,n,s,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(s=se.data(r),1===r.nodeType&&!se._data(r,"parsedAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=se.camelCase(n.slice(5)),l(r,n,s[n])));se._data(r,"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){se.data(this,t)}):arguments.length>1?this.each(function(){se.data(this,t,e)}):r?l(r,t,se.data(r,t)):void 0},removeData:function(t){return this.each(function(){se.removeData(this,t)})}}),se.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=se._data(t,e),i&&(!n||se.isArray(i)?n=se._data(t,e,se.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=se.queue(t,e),n=i.length,s=i.shift(),r=se._queueHooks(t,e),a=function(){se.dequeue(t,e)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete r.stop,s.call(t,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return se._data(t,i)||se._data(t,i,{empty:se.Callbacks("once memory").add(function(){se._removeData(t,e+"queue"),se._removeData(t,i)})})}}),se.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),i>arguments.length?se.queue(this[0],t):void 0===e?this:this.each(function(){var i=se.queue(this,t,e);se._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&se.dequeue(this,t)})},dequeue:function(t){return this.each(function(){se.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=se.Deferred(),r=this,a=this.length,o=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)i=se._data(r[a],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(o));return o(),s.promise(e)}});var je=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Pe=["Top","Right","Bottom","Left"],Ce=function(t,e){return t=e||t,"none"===se.css(t,"display")||!se.contains(t.ownerDocument,t)},Me=se.access=function(t,e,i,n,s,r,a){var o=0,l=t.length,u=null==i;if("object"===se.type(i)){s=!0;for(o in i)se.access(t,e,o,i[o],!0,r,a)}else if(void 0!==n&&(s=!0,se.isFunction(n)||(a=!0),u&&(a?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(se(t),i)})),e))for(;l>o;o++)e(t[o],i,a?n:n.call(t[o],o,e(t[o],i)));return s?t:u?e.call(t):l?e(t[0],i):r},Le=/^(?:checkbox|radio)$/i;!function(){var t=fe.createElement("input"),e=fe.createElement("div"),i=fe.createDocumentFragment();if(e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ie.leadingWhitespace=3===e.firstChild.nodeType,ie.tbody=!e.getElementsByTagName("tbody").length,ie.htmlSerialize=!!e.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==fe.createElement("nav").cloneNode(!0).outerHTML,t.type="checkbox",t.checked=!0,i.appendChild(t),ie.appendChecked=t.checked,e.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,i.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ie.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(n){ie.deleteExpando=!1}}}(),function(){var e,i,n=fe.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ie[e+"Bubbles"]=i in t)||(n.setAttribute(i,"t"),ie[e+"Bubbles"]=n.attributes[i].expando===!1);n=null}();var Ae=/^(?:input|select|textarea)$/i,Oe=/^key/,Ie=/^(?:mouse|pointer|contextmenu)|click/,De=/^(?:focusinfocus|focusoutblur)$/,Ne=/^([^.]*)(?:\.(.+)|)$/;se.event={global:{},add:function(t,e,i,n,s){var r,a,o,l,u,h,c,d,p,f,g,m=se._data(t);if(m){for(i.handler&&(l=i,i=l.handler,s=l.selector),i.guid||(i.guid=se.guid++),(a=m.events)||(a=m.events={}),(h=m.handle)||(h=m.handle=function(t){return typeof se===Se||t&&se.event.triggered===t.type?void 0:se.event.dispatch.apply(h.elem,arguments)},h.elem=t),e=(e||"").match(_e)||[""],o=e.length;o--;)r=Ne.exec(e[o])||[],p=g=r[1],f=(r[2]||"").split(".").sort(),p&&(u=se.event.special[p]||{},p=(s?u.delegateType:u.bindType)||p,u=se.event.special[p]||{},c=se.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&se.expr.match.needsContext.test(s),namespace:f.join(".")},l),(d=a[p])||(d=a[p]=[],d.delegateCount=0,u.setup&&u.setup.call(t,n,f,h)!==!1||(t.addEventListener?t.addEventListener(p,h,!1):t.attachEvent&&t.attachEvent("on"+p,h))),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),s?d.splice(d.delegateCount++,0,c):d.push(c),se.event.global[p]=!0);t=null}},remove:function(t,e,i,n,s){var r,a,o,l,u,h,c,d,p,f,g,m=se.hasData(t)&&se._data(t);if(m&&(h=m.events)){for(e=(e||"").match(_e)||[""],u=e.length;u--;)if(o=Ne.exec(e[u])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p){for(c=se.event.special[p]||{},p=(n?c.delegateType:c.bindType)||p,d=h[p]||[],o=o[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=d.length;r--;)a=d[r],!s&&g!==a.origType||i&&i.guid!==a.guid||o&&!o.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(d.splice(r,1),a.selector&&d.delegateCount--,c.remove&&c.remove.call(t,a));l&&!d.length&&(c.teardown&&c.teardown.call(t,f,m.handle)!==!1||se.removeEvent(t,p,m.handle),delete h[p])}else for(p in h)se.event.remove(t,p+e[u],i,n,!0);se.isEmptyObject(h)&&(delete m.handle,se._removeData(t,"events"))}},trigger:function(e,i,n,s){var r,a,o,l,u,h,c,d=[n||fe],p=ee.call(e,"type")?e.type:e,f=ee.call(e,"namespace")?e.namespace.split("."):[];if(o=h=n=n||fe,3!==n.nodeType&&8!==n.nodeType&&!De.test(p+se.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),a=0>p.indexOf(":")&&"on"+p,e=e[se.expando]?e:new se.Event(p,"object"==typeof e&&e),e.isTrigger=s?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:se.makeArray(i,[e]),u=se.event.special[p]||{},s||!u.trigger||u.trigger.apply(n,i)!==!1)){if(!s&&!u.noBubble&&!se.isWindow(n)){for(l=u.delegateType||p,De.test(l+p)||(o=o.parentNode);o;o=o.parentNode)d.push(o),h=o;
h===(n.ownerDocument||fe)&&d.push(h.defaultView||h.parentWindow||t)}for(c=0;(o=d[c++])&&!e.isPropagationStopped();)e.type=c>1?l:u.bindType||p,r=(se._data(o,"events")||{})[e.type]&&se._data(o,"handle"),r&&r.apply(o,i),r=a&&o[a],r&&r.apply&&se.acceptData(o)&&(e.result=r.apply(o,i),e.result===!1&&e.preventDefault());if(e.type=p,!s&&!e.isDefaultPrevented()&&(!u._default||u._default.apply(d.pop(),i)===!1)&&se.acceptData(n)&&a&&n[p]&&!se.isWindow(n)){h=n[a],h&&(n[a]=null),se.event.triggered=p;try{n[p]()}catch(g){}se.event.triggered=void 0,h&&(n[a]=h)}return e.result}},dispatch:function(t){t=se.event.fix(t);var e,i,n,s,r,a=[],o=Q.call(arguments),l=(se._data(this,"events")||{})[t.type]||[],u=se.event.special[t.type]||{};if(o[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=se.event.handlers.call(this,t,l),e=0;(s=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,r=0;(n=s.handlers[r++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(n.namespace))&&(t.handleObj=n,t.data=n.data,i=((se.event.special[n.origType]||{}).handle||n.handler).apply(s.elem,o),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,s,r,a=[],o=e.delegateCount,l=t.target;if(o&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(s=[],r=0;o>r;r++)n=e[r],i=n.selector+" ",void 0===s[i]&&(s[i]=n.needsContext?se(i,this).index(l)>=0:se.find(i,this,null,[l]).length),s[i]&&s.push(n);s.length&&a.push({elem:l,handlers:s})}return e.length>o&&a.push({elem:this,handlers:e.slice(o)}),a},fix:function(t){if(t[se.expando])return t;var e,i,n,s=t.type,r=t,a=this.fixHooks[s];for(a||(this.fixHooks[s]=a=Ie.test(s)?this.mouseHooks:Oe.test(s)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,t=new se.Event(r),e=n.length;e--;)i=n[e],t[i]=r[i];return t.target||(t.target=r.srcElement||fe),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,s,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||fe,s=n.documentElement,i=n.body,t.pageX=e.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return se.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return se.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var s=se.extend(new se.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?se.event.trigger(s,null,e):se.event.dispatch.call(e,s),s.isDefaultPrevented()&&i.preventDefault()}},se.removeEvent=fe.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===Se&&(t[n]=null),t.detachEvent(n,i))},se.Event=function(t,e){return this instanceof se.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?d:p):this.type=t,e&&se.extend(this,e),this.timeStamp=t&&t.timeStamp||se.now(),void(this[se.expando]=!0)):new se.Event(t,e)},se.Event.prototype={isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=d,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=d,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=d,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},se.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){se.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,r=t.handleObj;return(!s||s!==n&&!se.contains(n,s))&&(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),ie.submitBubbles||(se.event.special.submit={setup:function(){return se.nodeName(this,"form")?!1:void se.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=se.nodeName(e,"input")||se.nodeName(e,"button")?e.form:void 0;i&&!se._data(i,"submitBubbles")&&(se.event.add(i,"submit._submit",function(t){t._submit_bubble=!0}),se._data(i,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&se.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return se.nodeName(this,"form")?!1:void se.event.remove(this,"._submit")}}),ie.changeBubbles||(se.event.special.change={setup:function(){return Ae.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(se.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),se.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),se.event.simulate("change",this,t,!0)})),!1):void se.event.add(this,"beforeactivate._change",function(t){var e=t.target;Ae.test(e.nodeName)&&!se._data(e,"changeBubbles")&&(se.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||se.event.simulate("change",this.parentNode,t,!0)}),se._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return se.event.remove(this,"._change"),!Ae.test(this.nodeName)}}),ie.focusinBubbles||se.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){se.event.simulate(e,t.target,se.event.fix(t),!0)};se.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=se._data(n,e);s||n.addEventListener(t,i,!0),se._data(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=se._data(n,e)-1;s?se._data(n,e,s):(n.removeEventListener(t,i,!0),se._removeData(n,e))}}}),se.fn.extend({on:function(t,e,i,n,s){var r,a;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(r in t)this.on(r,e,i,t[r],s);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=p;else if(!n)return this;return 1===s&&(a=n,n=function(t){return se().off(t),a.apply(this,arguments)},n.guid=a.guid||(a.guid=se.guid++)),this.each(function(){se.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,se(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=p),this.each(function(){se.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){se.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?se.event.trigger(t,e,i,!0):void 0}});var ke="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Re=/ jQuery\d+="(?:null|\d+)"/g,Fe=RegExp("<(?:"+ke+")[\\s/>]","i"),Be=/^\s+/,He=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ze=/<([\w:]+)/,Xe=/<tbody/i,Ge=/<|&#?\w+;/,Ue=/<(?:script|style|link)/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ye=/^$|\/(?:java|ecma)script/i,We=/^true\/(.*)/,Ve=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Je=g(fe),$e=Je.appendChild(fe.createElement("div"));Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td,se.extend({clone:function(t,e,i){var n,s,r,a,o,l=se.contains(t.ownerDocument,t);if(ie.html5Clone||se.isXMLDoc(t)||!Fe.test("<"+t.nodeName+">")?r=t.cloneNode(!0):($e.innerHTML=t.outerHTML,$e.removeChild(r=$e.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||se.isXMLDoc(t)))for(n=m(r),o=m(t),a=0;null!=(s=o[a]);++a)n[a]&&S(s,n[a]);if(e)if(i)for(o=o||m(t),n=n||m(r),a=0;null!=(s=o[a]);a++)w(s,n[a]);else w(t,r);return n=m(r,"script"),n.length>0&&b(n,!l&&m(t,"script")),n=o=s=null,r},buildFragment:function(t,e,i,n){for(var s,r,a,o,l,u,h,c=t.length,d=g(e),p=[],f=0;c>f;f++)if(r=t[f],r||0===r)if("object"===se.type(r))se.merge(p,r.nodeType?[r]:r);else if(Ge.test(r)){for(o=o||d.appendChild(e.createElement("div")),l=(ze.exec(r)||["",""])[1].toLowerCase(),h=Qe[l]||Qe._default,o.innerHTML=h[1]+r.replace(He,"<$1></$2>")+h[2],s=h[0];s--;)o=o.lastChild;if(!ie.leadingWhitespace&&Be.test(r)&&p.push(e.createTextNode(Be.exec(r)[0])),!ie.tbody)for(r="table"!==l||Xe.test(r)?"<table>"!==h[1]||Xe.test(r)?0:o:o.firstChild,s=r&&r.childNodes.length;s--;)se.nodeName(u=r.childNodes[s],"tbody")&&!u.childNodes.length&&r.removeChild(u);for(se.merge(p,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=d.lastChild}else p.push(e.createTextNode(r));for(o&&d.removeChild(o),ie.appendChecked||se.grep(m(p,"input"),v),f=0;r=p[f++];)if((!n||-1===se.inArray(r,n))&&(a=se.contains(r.ownerDocument,r),o=m(d.appendChild(r),"script"),a&&b(o),i))for(s=0;r=o[s++];)Ye.test(r.type||"")&&i.push(r);return o=null,d},cleanData:function(t,e){for(var i,n,s,r,a=0,o=se.expando,l=se.cache,u=ie.deleteExpando,h=se.event.special;null!=(i=t[a]);a++)if((e||se.acceptData(i))&&(s=i[o],r=s&&l[s])){if(r.events)for(n in r.events)h[n]?se.event.remove(i,n):se.removeEvent(i,n,r.handle);l[s]&&(delete l[s],u?delete i[o]:typeof i.removeAttribute!==Se?i.removeAttribute(o):i[o]=null,V.push(s))}}}),se.fn.extend({text:function(t){return Me(this,function(t){return void 0===t?se.text(this):this.empty().append((this[0]&&this[0].ownerDocument||fe).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=y(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?se.filter(t,this):this,s=0;null!=(i=n[s]);s++)e||1!==i.nodeType||se.cleanData(m(i)),i.parentNode&&(e&&se.contains(i.ownerDocument,i)&&b(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&se.cleanData(m(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&se.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return se.clone(this,t,e)})},html:function(t){return Me(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Re,""):void 0;if(!("string"!=typeof t||Ue.test(t)||!ie.htmlSerialize&&Fe.test(t)||!ie.leadingWhitespace&&Be.test(t)||Qe[(ze.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(He,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(se.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(s){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,se.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=J.apply([],t);var i,n,s,r,a,o,l=0,u=this.length,h=this,c=u-1,d=t[0],p=se.isFunction(d);if(p||u>1&&"string"==typeof d&&!ie.checkClone&&qe.test(d))return this.each(function(i){var n=h.eq(i);p&&(t[0]=d.call(this,i,n.html())),n.domManip(t,e)});if(u&&(o=se.buildFragment(t,this[0].ownerDocument,!1,this),i=o.firstChild,1===o.childNodes.length&&(o=i),i)){for(r=se.map(m(o,"script"),_),s=r.length;u>l;l++)n=o,l!==c&&(n=se.clone(n,!0,!0),s&&se.merge(r,m(n,"script"))),e.call(this[l],n,l);if(s)for(a=r[r.length-1].ownerDocument,se.map(r,x),l=0;s>l;l++)n=r[l],Ye.test(n.type||"")&&!se._data(n,"globalEval")&&se.contains(a,n)&&(n.src?se._evalUrl&&se._evalUrl(n.src):se.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Ve,"")));o=i=null}return this}}),se.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){se.fn[t]=function(t){for(var i,n=0,s=[],r=se(t),a=r.length-1;a>=n;n++)i=n===a?this:this.clone(!0),se(r[n])[e](i),$.apply(s,i.get());return this.pushStack(s)}});var Ke,Ze={};!function(){var t;ie.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return i=fe.getElementsByTagName("body")[0],i&&i.style?(e=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),typeof e.style.zoom!==Se&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(fe.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var ti,ei,ii=/^margin/,ni=RegExp("^("+je+")(?!px)[a-z%]+$","i"),si=/^(top|right|bottom|left)$/;t.getComputedStyle?(ti=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},ei=function(t,e,i){var n,s,r,a,o=t.style;return i=i||ti(t),a=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==a||se.contains(t.ownerDocument,t)||(a=se.style(t,e)),ni.test(a)&&ii.test(e)&&(n=o.width,s=o.minWidth,r=o.maxWidth,o.minWidth=o.maxWidth=o.width=a,a=i.width,o.width=n,o.minWidth=s,o.maxWidth=r)),void 0===a?a:a+""}):fe.documentElement.currentStyle&&(ti=function(t){return t.currentStyle},ei=function(t,e,i){var n,s,r,a,o=t.style;return i=i||ti(t),a=i?i[e]:void 0,null==a&&o&&o[e]&&(a=o[e]),ni.test(a)&&!si.test(e)&&(n=o.left,s=t.runtimeStyle,r=s&&s.left,r&&(s.left=t.currentStyle.left),o.left="fontSize"===e?"1em":a,a=o.pixelLeft+"px",o.left=n,r&&(s.left=r)),void 0===a?a:a+""||"auto"}),!function(){function e(){var e,i,n,s;i=fe.getElementsByTagName("body")[0],i&&i.style&&(e=fe.createElement("div"),n=fe.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),e.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",r=a=!1,l=!0,t.getComputedStyle&&(r="1%"!==(t.getComputedStyle(e,null)||{}).top,a="4px"===(t.getComputedStyle(e,null)||{width:"4px"}).width,s=e.appendChild(fe.createElement("div")),s.style.cssText=e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",s.style.marginRight=s.style.width="0",e.style.width="1px",l=!parseFloat((t.getComputedStyle(s,null)||{}).marginRight)),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=e.getElementsByTagName("td"),s[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===s[0].offsetHeight,o&&(s[0].style.display="",s[1].style.display="none",o=0===s[0].offsetHeight),i.removeChild(n))}var i,n,s,r,a,o,l;i=fe.createElement("div"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",s=i.getElementsByTagName("a")[0],(n=s&&s.style)&&(n.cssText="float:left;opacity:.5",ie.opacity="0.5"===n.opacity,ie.cssFloat=!!n.cssFloat,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===i.style.backgroundClip,ie.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,se.extend(ie,{reliableHiddenOffsets:function(){return null==o&&e(),o},boxSizingReliable:function(){return null==a&&e(),a},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){return null==l&&e(),l}}))}(),se.swap=function(t,e,i,n){var s,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];s=i.apply(t,n||[]);for(r in e)t.style[r]=a[r];return s};var ri=/alpha\([^)]*\)/i,ai=/opacity\s*=\s*([^)]*)/,oi=/^(none|table(?!-c[ea]).+)/,li=RegExp("^("+je+")(.*)$","i"),ui=RegExp("^([+-])=("+je+")","i"),hi={position:"absolute",visibility:"hidden",display:"block"},ci={letterSpacing:"0",fontWeight:"400"},di=["Webkit","O","Moz","ms"];se.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ei(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,a,o=se.camelCase(e),l=t.style;if(e=se.cssProps[o]||(se.cssProps[o]=P(l,o)),a=se.cssHooks[e]||se.cssHooks[o],void 0===i)return a&&"get"in a&&void 0!==(s=a.get(t,!1,n))?s:l[e];if(r=typeof i,"string"===r&&(s=ui.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(se.css(t,e)),r="number"),null!=i&&i===i&&("number"!==r||se.cssNumber[o]||(i+="px"),ie.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&void 0===(i=a.set(t,i,n)))))try{l[e]=i}catch(u){}}},css:function(t,e,i,n){var s,r,a,o=se.camelCase(e);return e=se.cssProps[o]||(se.cssProps[o]=P(t.style,o)),a=se.cssHooks[e]||se.cssHooks[o],a&&"get"in a&&(r=a.get(t,!0,i)),void 0===r&&(r=ei(t,e,n)),"normal"===r&&e in ci&&(r=ci[e]),""===i||i?(s=parseFloat(r),i===!0||se.isNumeric(s)?s||0:r):r}}),se.each(["height","width"],function(t,e){se.cssHooks[e]={get:function(t,i,n){return i?oi.test(se.css(t,"display"))&&0===t.offsetWidth?se.swap(t,hi,function(){return A(t,e,n)}):A(t,e,n):void 0},set:function(t,i,n){var s=n&&ti(t);return M(t,i,n?L(t,e,n,ie.boxSizing&&"border-box"===se.css(t,"boxSizing",!1,s),s):0)}}}),ie.opacity||(se.cssHooks.opacity={get:function(t,e){return ai.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=se.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===se.trim(r.replace(ri,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ri.test(r)?r.replace(ri,s):r+" "+s)}}),se.cssHooks.marginRight=j(ie.reliableMarginRight,function(t,e){return e?se.swap(t,{display:"inline-block"},ei,[t,"marginRight"]):void 0}),se.each({margin:"",padding:"",border:"Width"},function(t,e){se.cssHooks[t+e]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];4>n;n++)s[t+Pe[n]+e]=r[n]||r[n-2]||r[0];return s}},ii.test(t)||(se.cssHooks[t+e].set=M)}),se.fn.extend({css:function(t,e){return Me(this,function(t,e,i){var n,s,r={},a=0;if(se.isArray(e)){for(n=ti(t),s=e.length;s>a;a++)r[e[a]]=se.css(t,e[a],!1,n);return r}return void 0!==i?se.style(t,e,i):se.css(t,e)},t,e,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ce(this)?se(this).show():se(this).hide()})}}),se.Tween=O,O.prototype={constructor:O,init:function(t,e,i,n,s,r){this.elem=t,this.prop=i,this.easing=s||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(se.cssNumber[i]?"":"px")},cur:function(){var t=O.propHooks[this.prop];return t&&t.get?t.get(this):O.propHooks._default.get(this)},run:function(t){var e,i=O.propHooks[this.prop];return this.pos=e=this.options.duration?se.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=se.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){se.fx.step[t.prop]?se.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[se.cssProps[t.prop]]||se.cssHooks[t.prop])?se.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},se.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},se.fx=O.prototype.init,se.fx.step={};var pi,fi,gi=/^(?:toggle|show|hide)$/,mi=RegExp("^(?:([+-])=|)("+je+")([a-z%]*)$","i"),vi=/queueHooks$/,yi=[k],_i={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),s=mi.exec(e),r=s&&s[3]||(se.cssNumber[t]?"":"px"),a=(se.cssNumber[t]||"px"!==r&&+n)&&mi.exec(se.css(i.elem,t)),o=1,l=20;if(a&&a[3]!==r){r=r||a[3],s=s||[],a=+n||1;do o=o||".5",a/=o,se.style(i.elem,t,a+r);while(o!==(o=i.cur()/n)&&1!==o&&--l)}return s&&(a=i.start=+a||+n||0,i.unit=r,i.end=s[1]?a+(s[1]+1)*s[2]:+s[2]),i}]};se.Animation=se.extend(F,{tweener:function(t,e){se.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,s=t.length;s>n;n++)i=t[n],_i[i]=_i[i]||[],_i[i].unshift(e)},prefilter:function(t,e){e?yi.unshift(t):yi.push(t)}}),se.speed=function(t,e,i){var n=t&&"object"==typeof t?se.extend({},t):{complete:i||!i&&e||se.isFunction(t)&&t,duration:t,easing:i&&e||e&&!se.isFunction(e)&&e};return n.duration=se.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in se.fx.speeds?se.fx.speeds[n.duration]:se.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){se.isFunction(n.old)&&n.old.call(this),n.queue&&se.dequeue(this,n.queue)},n},se.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ce).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=se.isEmptyObject(t),r=se.speed(e,i,n),a=function(){var e=F(this,se.extend({},t),r);(s||se._data(this,"finish"))&&e.stop(!0)};return a.finish=a,s||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",r=se.timers,a=se._data(this);if(s)a[s]&&a[s].stop&&n(a[s]);else for(s in a)a[s]&&a[s].stop&&vi.test(s)&&n(a[s]);for(s=r.length;s--;)r[s].elem!==this||null!=t&&r[s].queue!==t||(r[s].anim.stop(i),e=!1,r.splice(s,1));(e||!i)&&se.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=se._data(this),n=i[t+"queue"],s=i[t+"queueHooks"],r=se.timers,a=n?n.length:0;for(i.finish=!0,se.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;a>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),se.each(["toggle","show","hide"],function(t,e){var i=se.fn[e];se.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(D(e,!0),t,n,s)}}),se.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){se.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),se.timers=[],se.fx.tick=function(){var t,e=se.timers,i=0;for(pi=se.now();e.length>i;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||se.fx.stop(),pi=void 0},se.fx.timer=function(t){se.timers.push(t),t()?se.fx.start():se.timers.pop()},se.fx.interval=13,se.fx.start=function(){fi||(fi=setInterval(se.fx.tick,se.fx.interval))},se.fx.stop=function(){clearInterval(fi),fi=null},se.fx.speeds={slow:600,fast:200,_default:400},se.fn.delay=function(t,e){return t=se.fx?se.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t,e,i,n,s;e=fe.createElement("div"),e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=e.getElementsByTagName("a")[0],i=fe.createElement("select"),s=i.appendChild(fe.createElement("option")),t=e.getElementsByTagName("input")[0],n.style.cssText="top:1px",ie.getSetAttribute="t"!==e.className,ie.style=/top/.test(n.getAttribute("style")),ie.hrefNormalized="/a"===n.getAttribute("href"),ie.checkOn=!!t.value,ie.optSelected=s.selected,ie.enctype=!!fe.createElement("form").enctype,i.disabled=!0,ie.optDisabled=!s.disabled,t=fe.createElement("input"),t.setAttribute("value",""),ie.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ie.radioValue="t"===t.value}();var xi=/\r/g;se.fn.extend({val:function(t){var e,i,n,s=this[0];return arguments.length?(n=se.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=n?t.call(this,i,se(this).val()):t,null==s?s="":"number"==typeof s?s+="":se.isArray(s)&&(s=se.map(s,function(t){return null==t?"":t+""})),e=se.valHooks[this.type]||se.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))})):s?(e=se.valHooks[s.type]||se.valHooks[s.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:(i=s.value,"string"==typeof i?i.replace(xi,""):null==i?"":i)):void 0}}),se.extend({valHooks:{option:{get:function(t){var e=se.find.attr(t,"value");return null!=e?e:se.trim(se.text(t))}},select:{get:function(t){for(var e,i,n=t.options,s=t.selectedIndex,r="select-one"===t.type||0>s,a=r?null:[],o=r?s+1:n.length,l=0>s?o:r?s:0;o>l;l++)if(i=n[l],!(!i.selected&&l!==s||(ie.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&se.nodeName(i.parentNode,"optgroup"))){if(e=se(i).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var i,n,s=t.options,r=se.makeArray(e),a=s.length;a--;)if(n=s[a],se.inArray(se.valHooks.option.get(n),r)>=0)try{n.selected=i=!0}catch(o){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),s}}}}),se.each(["radio","checkbox"],function(){se.valHooks[this]={set:function(t,e){return se.isArray(e)?t.checked=se.inArray(se(t).val(),e)>=0:void 0}},ie.checkOn||(se.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var bi,wi,Si=se.expr.attrHandle,Ti=/^(?:checked|selected)$/i,Ei=ie.getSetAttribute,ji=ie.input;se.fn.extend({attr:function(t,e){return Me(this,se.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){se.removeAttr(this,t)})}}),se.extend({attr:function(t,e,i){var n,s,r=t.nodeType;return t&&3!==r&&8!==r&&2!==r?typeof t.getAttribute===Se?se.prop(t,e,i):(1===r&&se.isXMLDoc(t)||(e=e.toLowerCase(),n=se.attrHooks[e]||(se.expr.match.bool.test(e)?wi:bi)),void 0===i?n&&"get"in n&&null!==(s=n.get(t,e))?s:(s=se.find.attr(t,e),null==s?void 0:s):null!==i?n&&"set"in n&&void 0!==(s=n.set(t,i,e))?s:(t.setAttribute(e,i+""),i):void se.removeAttr(t,e)):void 0},removeAttr:function(t,e){var i,n,s=0,r=e&&e.match(_e);if(r&&1===t.nodeType)for(;i=r[s++];)n=se.propFix[i]||i,se.expr.match.bool.test(i)?ji&&Ei||!Ti.test(i)?t[n]=!1:t[se.camelCase("default-"+i)]=t[n]=!1:se.attr(t,i,""),t.removeAttribute(Ei?i:n)},attrHooks:{type:{set:function(t,e){if(!ie.radioValue&&"radio"===e&&se.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),wi={set:function(t,e,i){return e===!1?se.removeAttr(t,i):ji&&Ei||!Ti.test(i)?t.setAttribute(!Ei&&se.propFix[i]||i,i):t[se.camelCase("default-"+i)]=t[i]=!0,i}},se.each(se.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Si[e]||se.find.attr;Si[e]=ji&&Ei||!Ti.test(e)?function(t,e,n){var s,r;return n||(r=Si[e],Si[e]=s,s=null!=i(t,e,n)?e.toLowerCase():null,Si[e]=r),s}:function(t,e,i){return i?void 0:t[se.camelCase("default-"+e)]?e.toLowerCase():null}}),ji&&Ei||(se.attrHooks.value={set:function(t,e,i){return se.nodeName(t,"input")?void(t.defaultValue=e):bi&&bi.set(t,e,i)}}),Ei||(bi={set:function(t,e,i){var n=t.getAttributeNode(i);return n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i)?e:void 0}},Si.id=Si.name=Si.coords=function(t,e,i){var n;return i?void 0:(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},se.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:void 0},set:bi.set},se.attrHooks.contenteditable={set:function(t,e,i){bi.set(t,""===e?!1:e,i)}},se.each(["width","height"],function(t,e){se.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ie.style||(se.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Pi=/^(?:input|select|textarea|button|object)$/i,Ci=/^(?:a|area)$/i;se.fn.extend({prop:function(t,e){return Me(this,se.prop,t,e,arguments.length>1)},removeProp:function(t){return t=se.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),se.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,s,r,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(r=1!==a||!se.isXMLDoc(t),r&&(e=se.propFix[e]||e,s=se.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=se.find.attr(t,"tabindex");return e?parseInt(e,10):Pi.test(t.nodeName)||Ci.test(t.nodeName)&&t.href?0:-1}}}}),ie.hrefNormalized||se.each(["href","src"],function(t,e){se.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ie.optSelected||(se.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),se.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){se.propFix[this.toLowerCase()]=this}),ie.enctype||(se.propFix.enctype="encoding");var Mi=/[\t\r\n\f]/g;se.fn.extend({addClass:function(t){var e,i,n,s,r,a,o=0,l=this.length,u="string"==typeof t&&t;if(se.isFunction(t))return this.each(function(e){se(this).addClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(_e)||[];l>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Mi," "):" ")){for(r=0;s=e[r++];)0>n.indexOf(" "+s+" ")&&(n+=s+" ");a=se.trim(n),i.className!==a&&(i.className=a)}return this},removeClass:function(t){var e,i,n,s,r,a,o=0,l=this.length,u=0===arguments.length||"string"==typeof t&&t;
if(se.isFunction(t))return this.each(function(e){se(this).removeClass(t.call(this,e,this.className))});if(u)for(e=(t||"").match(_e)||[];l>o;o++)if(i=this[o],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Mi," "):"")){for(r=0;s=e[r++];)for(;n.indexOf(" "+s+" ")>=0;)n=n.replace(" "+s+" "," ");a=t?se.trim(n):"",i.className!==a&&(i.className=a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(se.isFunction(t)?function(i){se(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,s=se(this),r=t.match(_e)||[];e=r[n++];)s.hasClass(e)?s.removeClass(e):s.addClass(e);else(i===Se||"boolean"===i)&&(this.className&&se._data(this,"__className__",this.className),this.className=this.className||t===!1?"":se._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Mi," ").indexOf(e)>=0)return!0;return!1}}),se.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){se.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),se.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Li=se.now(),Ai=/\?/,Oi=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;se.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,s=se.trim(e+"");return s&&!se.trim(s.replace(Oi,function(t,e,s,r){return i&&e&&(n=0),0===n?t:(i=s||e,n+=!r-!s,"")}))?Function("return "+s)():se.error("Invalid JSON: "+e)},se.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new DOMParser,i=n.parseFromString(e,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(s){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||se.error("Invalid XML: "+e),i};var Ii,Di,Ni=/#.*$/,ki=/([?&])_=[^&]*/,Ri=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Fi=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bi=/^(?:GET|HEAD)$/,Hi=/^\/\//,zi=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Xi={},Gi={},Ui="*/".concat("*");try{Di=location.href}catch(qi){Di=fe.createElement("a"),Di.href="",Di=Di.href}Ii=zi.exec(Di.toLowerCase())||[],se.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Di,type:"GET",isLocal:Fi.test(Ii[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ui,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":se.parseJSON,"text xml":se.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?z(z(t,se.ajaxSettings),e):z(se.ajaxSettings,t)},ajaxPrefilter:B(Xi),ajaxTransport:B(Gi),ajax:function(t,e){function i(t,e,i,n){var s,h,v,y,x,w=e;2!==_&&(_=2,o&&clearTimeout(o),u=void 0,a=n||"",b.readyState=t>0?4:0,s=t>=200&&300>t||304===t,i&&(y=X(c,b,i)),y=G(c,y,b,s),s?(c.ifModified&&(x=b.getResponseHeader("Last-Modified"),x&&(se.lastModified[r]=x),x=b.getResponseHeader("etag"),x&&(se.etag[r]=x)),204===t||"HEAD"===c.type?w="nocontent":304===t?w="notmodified":(w=y.state,h=y.data,v=y.error,s=!v)):(v=w,(t||!w)&&(w="error",0>t&&(t=0))),b.status=t,b.statusText=(e||w)+"",s?f.resolveWith(d,[h,w,b]):f.rejectWith(d,[b,w,v]),b.statusCode(m),m=void 0,l&&p.trigger(s?"ajaxSuccess":"ajaxError",[b,c,s?h:v]),g.fireWith(d,[b,w]),l&&(p.trigger("ajaxComplete",[b,c]),--se.active||se.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,s,r,a,o,l,u,h,c=se.ajaxSetup({},e),d=c.context||c,p=c.context&&(d.nodeType||d.jquery)?se(d):se.event,f=se.Deferred(),g=se.Callbacks("once memory"),m=c.statusCode||{},v={},y={},_=0,x="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(2===_){if(!h)for(h={};e=Ri.exec(a);)h[e[1].toLowerCase()]=e[2];e=h[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===_?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return _||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return _||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>_)for(e in t)m[e]=[m[e],t[e]];else b.always(t[b.status]);return this},abort:function(t){var e=t||x;return u&&u.abort(e),i(0,e),this}};if(f.promise(b).complete=g.add,b.success=b.done,b.error=b.fail,c.url=((t||c.url||Di)+"").replace(Ni,"").replace(Hi,Ii[1]+"//"),c.type=e.method||e.type||c.method||c.type,c.dataTypes=se.trim(c.dataType||"*").toLowerCase().match(_e)||[""],null==c.crossDomain&&(n=zi.exec(c.url.toLowerCase()),c.crossDomain=!(!n||n[1]===Ii[1]&&n[2]===Ii[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Ii[3]||("http:"===Ii[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=se.param(c.data,c.traditional)),H(Xi,c,e,b),2===_)return b;l=c.global,l&&0===se.active++&&se.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Bi.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(Ai.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=ki.test(r)?r.replace(ki,"$1_="+Li++):r+(Ai.test(r)?"&":"?")+"_="+Li++)),c.ifModified&&(se.lastModified[r]&&b.setRequestHeader("If-Modified-Since",se.lastModified[r]),se.etag[r]&&b.setRequestHeader("If-None-Match",se.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||e.contentType)&&b.setRequestHeader("Content-Type",c.contentType),b.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+Ui+"; q=0.01":""):c.accepts["*"]);for(s in c.headers)b.setRequestHeader(s,c.headers[s]);if(c.beforeSend&&(c.beforeSend.call(d,b,c)===!1||2===_))return b.abort();x="abort";for(s in{success:1,error:1,complete:1})b[s](c[s]);if(u=H(Gi,c,e,b)){b.readyState=1,l&&p.trigger("ajaxSend",[b,c]),c.async&&c.timeout>0&&(o=setTimeout(function(){b.abort("timeout")},c.timeout));try{_=1,u.send(v,i)}catch(w){if(!(2>_))throw w;i(-1,w)}}else i(-1,"No Transport");return b},getJSON:function(t,e,i){return se.get(t,e,i,"json")},getScript:function(t,e){return se.get(t,void 0,e,"script")}}),se.each(["get","post"],function(t,e){se[e]=function(t,i,n,s){return se.isFunction(i)&&(s=s||n,n=i,i=void 0),se.ajax({url:t,type:e,dataType:s,data:i,success:n})}}),se.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){se.fn[e]=function(t){return this.on(e,t)}}),se._evalUrl=function(t){return se.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},se.fn.extend({wrapAll:function(t){if(se.isFunction(t))return this.each(function(e){se(this).wrapAll(t.call(this,e))});if(this[0]){var e=se(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return this.each(se.isFunction(t)?function(e){se(this).wrapInner(t.call(this,e))}:function(){var e=se(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=se.isFunction(t);return this.each(function(i){se(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){se.nodeName(this,"body")||se(this).replaceWith(this.childNodes)}).end()}}),se.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight||!ie.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||se.css(t,"display"))},se.expr.filters.visible=function(t){return!se.expr.filters.hidden(t)};var Yi=/%20/g,Wi=/\[\]$/,Vi=/\r?\n/g,Qi=/^(?:submit|button|image|reset|file)$/i,Ji=/^(?:input|select|textarea|keygen)/i;se.param=function(t,e){var i,n=[],s=function(t,e){e=se.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=se.ajaxSettings&&se.ajaxSettings.traditional),se.isArray(t)||t.jquery&&!se.isPlainObject(t))se.each(t,function(){s(this.name,this.value)});else for(i in t)U(i,t[i],e,s);return n.join("&").replace(Yi,"+")},se.fn.extend({serialize:function(){return se.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=se.prop(this,"elements");return t?se.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!se(this).is(":disabled")&&Ji.test(this.nodeName)&&!Qi.test(t)&&(this.checked||!Le.test(t))}).map(function(t,e){var i=se(this).val();return null==i?null:se.isArray(i)?se.map(i,function(t){return{name:e.name,value:t.replace(Vi,"\r\n")}}):{name:e.name,value:i.replace(Vi,"\r\n")}}).get()}}),se.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&q()||Y()}:q;var $i=0,Ki={},Zi=se.ajaxSettings.xhr();t.ActiveXObject&&se(t).on("unload",function(){for(var t in Ki)Ki[t](void 0,!0)}),ie.cors=!!Zi&&"withCredentials"in Zi,Zi=ie.ajax=!!Zi,Zi&&se.ajaxTransport(function(t){if(!t.crossDomain||ie.cors){var e;return{send:function(i,n){var s,r=t.xhr(),a=++$i;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)r[s]=t.xhrFields[s];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)void 0!==i[s]&&r.setRequestHeader(s,i[s]+"");r.send(t.hasContent&&t.data||null),e=function(i,s){var o,l,u;if(e&&(s||4===r.readyState))if(delete Ki[a],e=void 0,r.onreadystatechange=se.noop,s)4!==r.readyState&&r.abort();else{u={},o=r.status,"string"==typeof r.responseText&&(u.text=r.responseText);try{l=r.statusText}catch(h){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=u.text?200:404}u&&n(o,l,u,r.getAllResponseHeaders())},t.async?4===r.readyState?setTimeout(e):r.onreadystatechange=Ki[a]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),se.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return se.globalEval(t),t}}}),se.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),se.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=fe.head||se("head")[0]||fe.documentElement;return{send:function(n,s){e=fe.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||s(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var tn=[],en=/(=)\?(?=&|$)|\?\?/;se.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||se.expando+"_"+Li++;return this[t]=!0,t}}),se.ajaxPrefilter("json jsonp",function(e,i,n){var s,r,a,o=e.jsonp!==!1&&(en.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(e.data)&&"data");return o||"jsonp"===e.dataTypes[0]?(s=e.jsonpCallback=se.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(en,"$1"+s):e.jsonp!==!1&&(e.url+=(Ai.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return a||se.error(s+" was not called"),a[0]},e.dataTypes[0]="json",r=t[s],t[s]=function(){a=arguments},n.always(function(){t[s]=r,e[s]&&(e.jsonpCallback=i.jsonpCallback,tn.push(s)),a&&se.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),se.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||fe;var n=ce.exec(t),s=!i&&[];return n?[e.createElement(n[1])]:(n=se.buildFragment([t],e,s),s&&s.length&&se(s).remove(),se.merge([],n.childNodes))};var nn=se.fn.load;se.fn.load=function(t,e,i){if("string"!=typeof t&&nn)return nn.apply(this,arguments);var n,s,r,a=this,o=t.indexOf(" ");return o>=0&&(n=se.trim(t.slice(o,t.length)),t=t.slice(0,o)),se.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&se.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){s=arguments,a.html(n?se("<div>").append(se.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){a.each(i,s||[t.responseText,e,t])}),this},se.expr.filters.animated=function(t){return se.grep(se.timers,function(e){return t===e.elem}).length};var sn=t.document.documentElement;se.offset={setOffset:function(t,e,i){var n,s,r,a,o,l,u,h=se.css(t,"position"),c=se(t),d={};"static"===h&&(t.style.position="relative"),o=c.offset(),r=se.css(t,"top"),l=se.css(t,"left"),u=("absolute"===h||"fixed"===h)&&se.inArray("auto",[r,l])>-1,u?(n=c.position(),a=n.top,s=n.left):(a=parseFloat(r)||0,s=parseFloat(l)||0),se.isFunction(e)&&(e=e.call(t,i,o)),null!=e.top&&(d.top=e.top-o.top+a),null!=e.left&&(d.left=e.left-o.left+s),"using"in e?e.using.call(t,d):c.css(d)}},se.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){se.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},s=this[0],r=s&&s.ownerDocument;return r?(e=r.documentElement,se.contains(e,s)?(typeof s.getBoundingClientRect!==Se&&(n=s.getBoundingClientRect()),i=W(r),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===se.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),se.nodeName(t[0],"html")||(i=t.offset()),i.top+=se.css(t[0],"borderTopWidth",!0),i.left+=se.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-se.css(n,"marginTop",!0),left:e.left-i.left-se.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||sn;t&&!se.nodeName(t,"html")&&"static"===se.css(t,"position");)t=t.offsetParent;return t||sn})}}),se.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);se.fn[t]=function(n){return Me(this,function(t,n,s){var r=W(t);return void 0===s?r?e in r?r[e]:r.document.documentElement[n]:t[n]:void(r?r.scrollTo(i?se(r).scrollLeft():s,i?s:se(r).scrollTop()):t[n]=s)},t,n,arguments.length,null)}}),se.each(["top","left"],function(t,e){se.cssHooks[e]=j(ie.pixelPosition,function(t,i){return i?(i=ei(t,e),ni.test(i)?se(t).position()[e]+"px":i):void 0})}),se.each({Height:"height",Width:"width"},function(t,e){se.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){se.fn[n]=function(n,s){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||s===!0?"margin":"border");return Me(this,function(e,i,n){var s;return se.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(s=e.documentElement,Math.max(e.body["scroll"+t],s["scroll"+t],e.body["offset"+t],s["offset"+t],s["client"+t])):void 0===n?se.css(e,i,a):se.style(e,i,n,a)},e,r?n:void 0,r,null)}})}),se.fn.size=function(){return this.length},se.fn.andSelf=se.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return se});var rn=t.jQuery,an=t.$;return se.noConflict=function(e){return t.$===se&&(t.$=an),e&&t.jQuery===se&&(t.jQuery=rn),se},typeof e===Se&&(t.jQuery=t.$=se),se}),function(){requirejs.config({waitSeconds:60,paths:{jquery:"./libs/jquery-1.11.1.min",createjs:"./libs/createjs-0.71.min"}}),define("main",["game/GameWrapper","jquery"],function(t,e){return t.prototype._handleMouseDown_base=t.prototype._handleMouseDown,t.prototype._handleMouseDown=function(t){return null!==navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/Android/i)?void 0:this._handleMouseDown_base(t)},e(function(){var e,i;return e=document.getElementById("main"),i=new t(e)})})}.call(this);